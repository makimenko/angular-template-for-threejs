"use strict";(self.webpackChunkangular_template_for_threejs=self.webpackChunkangular_template_for_threejs||[]).push([[4771],{"./projects/atft/src/lib/actor/ux/ux-actor.module.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>UxActorModule});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),atft_module=__webpack_require__("./projects/atft/src/lib/atft.module.ts"),provide_parent=__webpack_require__("./projects/atft/src/lib/util/provide-parent.ts"),empty_component=__webpack_require__("./projects/atft/src/lib/object/helper/empty.component.ts"),animation_service=__webpack_require__("./projects/atft/src/lib/animation/animation.service.ts"),renderer_service=__webpack_require__("./projects/atft/src/lib/renderer/renderer.service.ts"),abstract_object_3d=__webpack_require__("./projects/atft/src/lib/object/abstract-object-3d.ts");let TextActorComponent=class TextActorComponent extends empty_component.T{constructor(rendererService,parent,animationService){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,this.animationService=animationService,this.animate=!1,this.materialColor="#5DADE2",this.minDelay=5,this.maxDelay=10,this.subscribed=!1,this.currentPos=0,this.maxPos=0,this.i=0}ngAfterViewInit(){super.ngAfterViewInit(),this.updateText()}updateText(){this.text&&this.text.length>0&&(this.animate?(this.subscribed||(this.updateAnimation=this.updateAnimation.bind(this),this.animation=this.animationService.animate.subscribe(this.updateAnimation),this.subscribed=!0,this.animationService.start()),this.currentPos=0,this.maxPos=this.text.length,this.currentText="",this.currentDelay=this.randomInt(this.minDelay,this.maxDelay)):this.currentText=this.text)}ngOnDestroy(){super.ngOnDestroy(),this.done()}updateAnimation(){this.subscribed&&(this.i++,this.i%this.currentDelay==0&&(this.currentPos++,this.currentPos<=this.maxPos?(this.currentText=this.text.substr(0,this.currentPos),this.currentDelay=this.randomInt(this.minDelay,this.maxDelay)):this.done()))}done(){this.subscribed&&(this.subscribed=!1,this.i=0,this.animation?.unsubscribe())}randomInt(min,max){return Math.round(Math.random()*(max-min)+min)}ngOnChanges(changes){if(!this.object)return;super.ngOnChanges(changes);let modified=!1;["text"].some((propName=>propName in changes))&&(this.updateText(),modified=!0),["animate"].some((propName=>propName in changes))&&(this.animate?this.updateText():(this.done(),this.currentText=this.text),modified=!0),modified&&(this.changed.emit(),this.rendererService.render())}static#_=this.ctorParameters=()=>[{type:renderer_service.y},{type:abstract_object_3d.l,decorators:[{type:core.SkipSelf},{type:core.Optional}]},{type:animation_service.Y}];static#_2=this.propDecorators={text:[{type:core.Input}],animate:[{type:core.Input}],materialColor:[{type:core.Input}],minDelay:[{type:core.Input}],maxDelay:[{type:core.Input}]}};TextActorComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"atft-text-actor",providers:[(0,provide_parent.T)(TextActorComponent)],template:'\n    <atft-text-mesh [text]="currentText" [centered]="false" [materialColor]="materialColor">\n    </atft-text-mesh>\n  '})],TextActorComponent);var applied_material=__webpack_require__("./projects/atft/src/lib/util/applied-material.ts"),three_module=__webpack_require__("./node_modules/three/build/three.module.js");let LoaderActorComponent=class LoaderActorComponent extends empty_component.T{constructor(rendererService,parent,animationService){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,this.animationService=animationService,this.animate=!0,this.materialColor="#5DADE2",this.subscribed=!1,this.i=0}ngAfterViewInit(){super.ngAfterViewInit(),this.init(),this.start()}getMaterial(){return(0,applied_material.m)(this.materialColor,"basic")}init(){const geometry=new three_module.o8S(.85,1,64,1,0,1.8*Math.PI),material=this.getMaterial();this.ring1=new three_module.Kj0(geometry,material),this.ring1.scale.set(70,70,1),this.object.add(this.ring1),this.ring2=new three_module.Kj0(geometry,material),this.ring2.scale.set(60,60,1),this.object.add(this.ring2),this.ring3=new three_module.Kj0(geometry,material),this.ring3.scale.set(50,50,1),this.object.add(this.ring3)}start(){this.animate&&(this.updateAnimation=this.updateAnimation.bind(this),this.animation=this.animationService.animate.subscribe(this.updateAnimation),this.subscribed=!0,this.animationService.start())}ngOnDestroy(){super.ngOnDestroy(),this.stop()}updateAnimation(){this.subscribed&&(this.i++,this.ring1.scale.set(70+10*Math.sin(this.i/20)+12,70+10*Math.sin(this.i/20)+12,1),this.ring1.rotateZ(Math.sin(this.i/100)/5),this.ring2.rotateZ(Math.cos(this.i/70)/10),this.ring3.rotateZ(Math.sin(this.i/50)/20))}stop(){this.subscribed&&(this.subscribed=!1,this.i=0,this.animation?.unsubscribe())}static#_=this.ctorParameters=()=>[{type:renderer_service.y},{type:abstract_object_3d.l,decorators:[{type:core.SkipSelf},{type:core.Optional}]},{type:animation_service.Y}];static#_2=this.propDecorators={animate:[{type:core.Input}],materialColor:[{type:core.Input}]}};LoaderActorComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"atft-loader-actor",providers:[(0,provide_parent.T)(LoaderActorComponent)],template:""})],LoaderActorComponent);let UxActorModule=class UxActorModule{};UxActorModule=(0,tslib_es6.gn)([(0,core.NgModule)({imports:[common.CommonModule,atft_module.p],declarations:[TextActorComponent,LoaderActorComponent],exports:[TextActorComponent,LoaderActorComponent]})],UxActorModule)},"./src/stories/scene-wrapper/ux-scene-wrapper.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>uxSceneWrapper});const uxSceneWrapper=content=>`\n    <atft-renderer-canvas>\n      <atft-orthographic-camera [positionX]=0 [positionY]=0 [positionZ]="100" [zoom]="4">\n      </atft-orthographic-camera>\n\n      <atft-scene name="scene" [background]="'#FFFFFF'">\n        <atft-ambient-light color="#FFFFFF" [intensity]="0.4"></atft-ambient-light>\n\n        <atft-point-light [intensity]="20000" [distance]="1000" [translateX]=90 [translateY]=90\n                          [translateZ]=90></atft-point-light>\n        <atft-point-light [intensity]="10000" [distance]="1000" [translateX]="-60" [translateY]="-60"\n                          [translateZ]="50"></atft-point-light>\n\n        ${content}\n\n      </atft-scene>\n    </atft-renderer-canvas>\n`},"./src/stories/ux/loader.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Loader:()=>Loader,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./projects/atft/src/lib/atft.module.ts"),_projects_atft_src_lib_actor_ux__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./projects/atft/src/lib/actor/ux/ux-actor.module.ts"),_scene_wrapper_ux_scene_wrapper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/stories/scene-wrapper/ux-scene-wrapper.ts");let StorybookTextComponent=class StorybookTextComponent{};StorybookTextComponent=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Component)({selector:"app-storybook",template:(0,_scene_wrapper_ux_scene_wrapper__WEBPACK_IMPORTED_MODULE_3__.d)("\n    <atft-loader-actor></atft-loader-actor>\n  ")})],StorybookTextComponent);const __WEBPACK_DEFAULT_EXPORT__={title:"UX/Loader",component:StorybookTextComponent,decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata)({imports:[_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_4__.p,_projects_atft_src_lib_actor_ux__WEBPACK_IMPORTED_MODULE_5__.G]})]},Loader={};Loader.parameters={...Loader.parameters,docs:{...Loader.parameters?.docs,source:{originalSource:"{}",...Loader.parameters?.docs?.source}}};const __namedExportsOrder=["Loader"]}}]);