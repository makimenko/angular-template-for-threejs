(self.webpackChunkangular_template_for_threejs=self.webpackChunkangular_template_for_threejs||[]).push([[2336],{"./node_modules/dagre/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports={graphlib:__webpack_require__("./node_modules/dagre/lib/graphlib.js"),layout:__webpack_require__("./node_modules/dagre/lib/layout.js"),debug:__webpack_require__("./node_modules/dagre/lib/debug.js"),util:{time:__webpack_require__("./node_modules/dagre/lib/util.js").time,notime:__webpack_require__("./node_modules/dagre/lib/util.js").notime},version:__webpack_require__("./node_modules/dagre/lib/version.js")}},"./node_modules/dagre/lib/acyclic.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),greedyFAS=__webpack_require__("./node_modules/dagre/lib/greedy-fas.js");module.exports={run:function run(g){var fas="greedy"===g.graph().acyclicer?greedyFAS(g,function weightFn(g){return function(e){return g.edge(e).weight}}(g)):function dfsFAS(g){var fas=[],stack={},visited={};function dfs(v){_.has(visited,v)||(visited[v]=!0,stack[v]=!0,_.forEach(g.outEdges(v),(function(e){_.has(stack,e.w)?fas.push(e):dfs(e.w)})),delete stack[v])}return _.forEach(g.nodes(),dfs),fas}(g);_.forEach(fas,(function(e){var label=g.edge(e);g.removeEdge(e),label.forwardName=e.name,label.reversed=!0,g.setEdge(e.w,e.v,label,_.uniqueId("rev"))}))},undo:function undo(g){_.forEach(g.edges(),(function(e){var label=g.edge(e);if(label.reversed){g.removeEdge(e);var forwardName=label.forwardName;delete label.reversed,delete label.forwardName,g.setEdge(e.w,e.v,label,forwardName)}}))}}},"./node_modules/dagre/lib/add-border-segments.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),util=__webpack_require__("./node_modules/dagre/lib/util.js");function addBorderNode(g,prop,prefix,sg,sgNode,rank){var label={width:0,height:0,rank,borderType:prop},prev=sgNode[prop][rank-1],curr=util.addDummyNode(g,"border",label,prefix);sgNode[prop][rank]=curr,g.setParent(curr,sg),prev&&g.setEdge(prev,curr,{weight:1})}module.exports=function addBorderSegments(g){_.forEach(g.children(),(function dfs(v){var children=g.children(v),node=g.node(v);if(children.length&&_.forEach(children,dfs),_.has(node,"minRank")){node.borderLeft=[],node.borderRight=[];for(var rank=node.minRank,maxRank=node.maxRank+1;rank<maxRank;++rank)addBorderNode(g,"borderLeft","_bl",v,node,rank),addBorderNode(g,"borderRight","_br",v,node,rank)}}))}},"./node_modules/dagre/lib/coordinate-system.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js");function swapWidthHeight(g){_.forEach(g.nodes(),(function(v){swapWidthHeightOne(g.node(v))})),_.forEach(g.edges(),(function(e){swapWidthHeightOne(g.edge(e))}))}function swapWidthHeightOne(attrs){var w=attrs.width;attrs.width=attrs.height,attrs.height=w}function reverseYOne(attrs){attrs.y=-attrs.y}function swapXYOne(attrs){var x=attrs.x;attrs.x=attrs.y,attrs.y=x}module.exports={adjust:function adjust(g){var rankDir=g.graph().rankdir.toLowerCase();"lr"!==rankDir&&"rl"!==rankDir||swapWidthHeight(g)},undo:function undo(g){var rankDir=g.graph().rankdir.toLowerCase();"bt"!==rankDir&&"rl"!==rankDir||function reverseY(g){_.forEach(g.nodes(),(function(v){reverseYOne(g.node(v))})),_.forEach(g.edges(),(function(e){var edge=g.edge(e);_.forEach(edge.points,reverseYOne),_.has(edge,"y")&&reverseYOne(edge)}))}(g);"lr"!==rankDir&&"rl"!==rankDir||(!function swapXY(g){_.forEach(g.nodes(),(function(v){swapXYOne(g.node(v))})),_.forEach(g.edges(),(function(e){var edge=g.edge(e);_.forEach(edge.points,swapXYOne),_.has(edge,"x")&&swapXYOne(edge)}))}(g),swapWidthHeight(g))}}},"./node_modules/dagre/lib/data/list.js":module=>{function List(){var sentinel={};sentinel._next=sentinel._prev=sentinel,this._sentinel=sentinel}function unlink(entry){entry._prev._next=entry._next,entry._next._prev=entry._prev,delete entry._next,delete entry._prev}function filterOutLinks(k,v){if("_next"!==k&&"_prev"!==k)return v}module.exports=List,List.prototype.dequeue=function(){var sentinel=this._sentinel,entry=sentinel._prev;if(entry!==sentinel)return unlink(entry),entry},List.prototype.enqueue=function(entry){var sentinel=this._sentinel;entry._prev&&entry._next&&unlink(entry),entry._next=sentinel._next,sentinel._next._prev=entry,sentinel._next=entry,entry._prev=sentinel},List.prototype.toString=function(){for(var strs=[],sentinel=this._sentinel,curr=sentinel._prev;curr!==sentinel;)strs.push(JSON.stringify(curr,filterOutLinks)),curr=curr._prev;return"["+strs.join(", ")+"]"}},"./node_modules/dagre/lib/debug.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),util=__webpack_require__("./node_modules/dagre/lib/util.js"),Graph=__webpack_require__("./node_modules/dagre/lib/graphlib.js").Graph;module.exports={debugOrdering:function debugOrdering(g){var layerMatrix=util.buildLayerMatrix(g),h=new Graph({compound:!0,multigraph:!0}).setGraph({});return _.forEach(g.nodes(),(function(v){h.setNode(v,{label:v}),h.setParent(v,"layer"+g.node(v).rank)})),_.forEach(g.edges(),(function(e){h.setEdge(e.v,e.w,{},e.name)})),_.forEach(layerMatrix,(function(layer,i){var layerV="layer"+i;h.setNode(layerV,{rank:"same"}),_.reduce(layer,(function(u,v){return h.setEdge(u,v,{style:"invis"}),v}))})),h}}},"./node_modules/dagre/lib/graphlib.js":(module,__unused_webpack_exports,__webpack_require__)=>{var graphlib;try{graphlib=__webpack_require__("./node_modules/graphlib/index.js")}catch(e){}graphlib||(graphlib=window.graphlib),module.exports=graphlib},"./node_modules/dagre/lib/greedy-fas.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),Graph=__webpack_require__("./node_modules/dagre/lib/graphlib.js").Graph,List=__webpack_require__("./node_modules/dagre/lib/data/list.js");module.exports=function greedyFAS(g,weightFn){if(g.nodeCount()<=1)return[];var state=function buildState(g,weightFn){var fasGraph=new Graph,maxIn=0,maxOut=0;_.forEach(g.nodes(),(function(v){fasGraph.setNode(v,{v,in:0,out:0})})),_.forEach(g.edges(),(function(e){var prevWeight=fasGraph.edge(e.v,e.w)||0,weight=weightFn(e),edgeWeight=prevWeight+weight;fasGraph.setEdge(e.v,e.w,edgeWeight),maxOut=Math.max(maxOut,fasGraph.node(e.v).out+=weight),maxIn=Math.max(maxIn,fasGraph.node(e.w).in+=weight)}));var buckets=_.range(maxOut+maxIn+3).map((function(){return new List})),zeroIdx=maxIn+1;return _.forEach(fasGraph.nodes(),(function(v){assignBucket(buckets,zeroIdx,fasGraph.node(v))})),{graph:fasGraph,buckets,zeroIdx}}(g,weightFn||DEFAULT_WEIGHT_FN),results=function doGreedyFAS(g,buckets,zeroIdx){var entry,results=[],sources=buckets[buckets.length-1],sinks=buckets[0];for(;g.nodeCount();){for(;entry=sinks.dequeue();)removeNode(g,buckets,zeroIdx,entry);for(;entry=sources.dequeue();)removeNode(g,buckets,zeroIdx,entry);if(g.nodeCount())for(var i=buckets.length-2;i>0;--i)if(entry=buckets[i].dequeue()){results=results.concat(removeNode(g,buckets,zeroIdx,entry,!0));break}}return results}(state.graph,state.buckets,state.zeroIdx);return _.flatten(_.map(results,(function(e){return g.outEdges(e.v,e.w)})),!0)};var DEFAULT_WEIGHT_FN=_.constant(1);function removeNode(g,buckets,zeroIdx,entry,collectPredecessors){var results=collectPredecessors?[]:void 0;return _.forEach(g.inEdges(entry.v),(function(edge){var weight=g.edge(edge),uEntry=g.node(edge.v);collectPredecessors&&results.push({v:edge.v,w:edge.w}),uEntry.out-=weight,assignBucket(buckets,zeroIdx,uEntry)})),_.forEach(g.outEdges(entry.v),(function(edge){var weight=g.edge(edge),w=edge.w,wEntry=g.node(w);wEntry.in-=weight,assignBucket(buckets,zeroIdx,wEntry)})),g.removeNode(entry.v),results}function assignBucket(buckets,zeroIdx,entry){entry.out?entry.in?buckets[entry.out-entry.in+zeroIdx].enqueue(entry):buckets[buckets.length-1].enqueue(entry):buckets[0].enqueue(entry)}},"./node_modules/dagre/lib/layout.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),acyclic=__webpack_require__("./node_modules/dagre/lib/acyclic.js"),normalize=__webpack_require__("./node_modules/dagre/lib/normalize.js"),rank=__webpack_require__("./node_modules/dagre/lib/rank/index.js"),normalizeRanks=__webpack_require__("./node_modules/dagre/lib/util.js").normalizeRanks,parentDummyChains=__webpack_require__("./node_modules/dagre/lib/parent-dummy-chains.js"),removeEmptyRanks=__webpack_require__("./node_modules/dagre/lib/util.js").removeEmptyRanks,nestingGraph=__webpack_require__("./node_modules/dagre/lib/nesting-graph.js"),addBorderSegments=__webpack_require__("./node_modules/dagre/lib/add-border-segments.js"),coordinateSystem=__webpack_require__("./node_modules/dagre/lib/coordinate-system.js"),order=__webpack_require__("./node_modules/dagre/lib/order/index.js"),position=__webpack_require__("./node_modules/dagre/lib/position/index.js"),util=__webpack_require__("./node_modules/dagre/lib/util.js"),Graph=__webpack_require__("./node_modules/dagre/lib/graphlib.js").Graph;module.exports=function layout(g,opts){var time=opts&&opts.debugTiming?util.time:util.notime;time("layout",(function(){var layoutGraph=time("  buildLayoutGraph",(function(){return function buildLayoutGraph(inputGraph){var g=new Graph({multigraph:!0,compound:!0}),graph=canonicalize(inputGraph.graph());return g.setGraph(_.merge({},graphDefaults,selectNumberAttrs(graph,graphNumAttrs),_.pick(graph,graphAttrs))),_.forEach(inputGraph.nodes(),(function(v){var node=canonicalize(inputGraph.node(v));g.setNode(v,_.defaults(selectNumberAttrs(node,nodeNumAttrs),nodeDefaults)),g.setParent(v,inputGraph.parent(v))})),_.forEach(inputGraph.edges(),(function(e){var edge=canonicalize(inputGraph.edge(e));g.setEdge(e,_.merge({},edgeDefaults,selectNumberAttrs(edge,edgeNumAttrs),_.pick(edge,edgeAttrs)))})),g}(g)}));time("  runLayout",(function(){!function runLayout(g,time){time("    makeSpaceForEdgeLabels",(function(){!function makeSpaceForEdgeLabels(g){var graph=g.graph();graph.ranksep/=2,_.forEach(g.edges(),(function(e){var edge=g.edge(e);edge.minlen*=2,"c"!==edge.labelpos.toLowerCase()&&("TB"===graph.rankdir||"BT"===graph.rankdir?edge.width+=edge.labeloffset:edge.height+=edge.labeloffset)}))}(g)})),time("    removeSelfEdges",(function(){!function removeSelfEdges(g){_.forEach(g.edges(),(function(e){if(e.v===e.w){var node=g.node(e.v);node.selfEdges||(node.selfEdges=[]),node.selfEdges.push({e,label:g.edge(e)}),g.removeEdge(e)}}))}(g)})),time("    acyclic",(function(){acyclic.run(g)})),time("    nestingGraph.run",(function(){nestingGraph.run(g)})),time("    rank",(function(){rank(util.asNonCompoundGraph(g))})),time("    injectEdgeLabelProxies",(function(){!function injectEdgeLabelProxies(g){_.forEach(g.edges(),(function(e){var edge=g.edge(e);if(edge.width&&edge.height){var v=g.node(e.v),label={rank:(g.node(e.w).rank-v.rank)/2+v.rank,e};util.addDummyNode(g,"edge-proxy",label,"_ep")}}))}(g)})),time("    removeEmptyRanks",(function(){removeEmptyRanks(g)})),time("    nestingGraph.cleanup",(function(){nestingGraph.cleanup(g)})),time("    normalizeRanks",(function(){normalizeRanks(g)})),time("    assignRankMinMax",(function(){!function assignRankMinMax(g){var maxRank=0;_.forEach(g.nodes(),(function(v){var node=g.node(v);node.borderTop&&(node.minRank=g.node(node.borderTop).rank,node.maxRank=g.node(node.borderBottom).rank,maxRank=_.max(maxRank,node.maxRank))})),g.graph().maxRank=maxRank}(g)})),time("    removeEdgeLabelProxies",(function(){!function removeEdgeLabelProxies(g){_.forEach(g.nodes(),(function(v){var node=g.node(v);"edge-proxy"===node.dummy&&(g.edge(node.e).labelRank=node.rank,g.removeNode(v))}))}(g)})),time("    normalize.run",(function(){normalize.run(g)})),time("    parentDummyChains",(function(){parentDummyChains(g)})),time("    addBorderSegments",(function(){addBorderSegments(g)})),time("    order",(function(){order(g)})),time("    insertSelfEdges",(function(){!function insertSelfEdges(g){var layers=util.buildLayerMatrix(g);_.forEach(layers,(function(layer){var orderShift=0;_.forEach(layer,(function(v,i){var node=g.node(v);node.order=i+orderShift,_.forEach(node.selfEdges,(function(selfEdge){util.addDummyNode(g,"selfedge",{width:selfEdge.label.width,height:selfEdge.label.height,rank:node.rank,order:i+ ++orderShift,e:selfEdge.e,label:selfEdge.label},"_se")})),delete node.selfEdges}))}))}(g)})),time("    adjustCoordinateSystem",(function(){coordinateSystem.adjust(g)})),time("    position",(function(){position(g)})),time("    positionSelfEdges",(function(){!function positionSelfEdges(g){_.forEach(g.nodes(),(function(v){var node=g.node(v);if("selfedge"===node.dummy){var selfNode=g.node(node.e.v),x=selfNode.x+selfNode.width/2,y=selfNode.y,dx=node.x-x,dy=selfNode.height/2;g.setEdge(node.e,node.label),g.removeNode(v),node.label.points=[{x:x+2*dx/3,y:y-dy},{x:x+5*dx/6,y:y-dy},{x:x+dx,y},{x:x+5*dx/6,y:y+dy},{x:x+2*dx/3,y:y+dy}],node.label.x=node.x,node.label.y=node.y}}))}(g)})),time("    removeBorderNodes",(function(){!function removeBorderNodes(g){_.forEach(g.nodes(),(function(v){if(g.children(v).length){var node=g.node(v),t=g.node(node.borderTop),b=g.node(node.borderBottom),l=g.node(_.last(node.borderLeft)),r=g.node(_.last(node.borderRight));node.width=Math.abs(r.x-l.x),node.height=Math.abs(b.y-t.y),node.x=l.x+node.width/2,node.y=t.y+node.height/2}})),_.forEach(g.nodes(),(function(v){"border"===g.node(v).dummy&&g.removeNode(v)}))}(g)})),time("    normalize.undo",(function(){normalize.undo(g)})),time("    fixupEdgeLabelCoords",(function(){!function fixupEdgeLabelCoords(g){_.forEach(g.edges(),(function(e){var edge=g.edge(e);if(_.has(edge,"x"))switch("l"!==edge.labelpos&&"r"!==edge.labelpos||(edge.width-=edge.labeloffset),edge.labelpos){case"l":edge.x-=edge.width/2+edge.labeloffset;break;case"r":edge.x+=edge.width/2+edge.labeloffset}}))}(g)})),time("    undoCoordinateSystem",(function(){coordinateSystem.undo(g)})),time("    translateGraph",(function(){!function translateGraph(g){var minX=Number.POSITIVE_INFINITY,maxX=0,minY=Number.POSITIVE_INFINITY,maxY=0,graphLabel=g.graph(),marginX=graphLabel.marginx||0,marginY=graphLabel.marginy||0;function getExtremes(attrs){var x=attrs.x,y=attrs.y,w=attrs.width,h=attrs.height;minX=Math.min(minX,x-w/2),maxX=Math.max(maxX,x+w/2),minY=Math.min(minY,y-h/2),maxY=Math.max(maxY,y+h/2)}_.forEach(g.nodes(),(function(v){getExtremes(g.node(v))})),_.forEach(g.edges(),(function(e){var edge=g.edge(e);_.has(edge,"x")&&getExtremes(edge)})),minX-=marginX,minY-=marginY,_.forEach(g.nodes(),(function(v){var node=g.node(v);node.x-=minX,node.y-=minY})),_.forEach(g.edges(),(function(e){var edge=g.edge(e);_.forEach(edge.points,(function(p){p.x-=minX,p.y-=minY})),_.has(edge,"x")&&(edge.x-=minX),_.has(edge,"y")&&(edge.y-=minY)})),graphLabel.width=maxX-minX+marginX,graphLabel.height=maxY-minY+marginY}(g)})),time("    assignNodeIntersects",(function(){!function assignNodeIntersects(g){_.forEach(g.edges(),(function(e){var p1,p2,edge=g.edge(e),nodeV=g.node(e.v),nodeW=g.node(e.w);edge.points?(p1=edge.points[0],p2=edge.points[edge.points.length-1]):(edge.points=[],p1=nodeW,p2=nodeV),edge.points.unshift(util.intersectRect(nodeV,p1)),edge.points.push(util.intersectRect(nodeW,p2))}))}(g)})),time("    reversePoints",(function(){!function reversePointsForReversedEdges(g){_.forEach(g.edges(),(function(e){var edge=g.edge(e);edge.reversed&&edge.points.reverse()}))}(g)})),time("    acyclic.undo",(function(){acyclic.undo(g)}))}(layoutGraph,time)})),time("  updateInputGraph",(function(){!function updateInputGraph(inputGraph,layoutGraph){_.forEach(inputGraph.nodes(),(function(v){var inputLabel=inputGraph.node(v),layoutLabel=layoutGraph.node(v);inputLabel&&(inputLabel.x=layoutLabel.x,inputLabel.y=layoutLabel.y,layoutGraph.children(v).length&&(inputLabel.width=layoutLabel.width,inputLabel.height=layoutLabel.height))})),_.forEach(inputGraph.edges(),(function(e){var inputLabel=inputGraph.edge(e),layoutLabel=layoutGraph.edge(e);inputLabel.points=layoutLabel.points,_.has(layoutLabel,"x")&&(inputLabel.x=layoutLabel.x,inputLabel.y=layoutLabel.y)})),inputGraph.graph().width=layoutGraph.graph().width,inputGraph.graph().height=layoutGraph.graph().height}(g,layoutGraph)}))}))};var graphNumAttrs=["nodesep","edgesep","ranksep","marginx","marginy"],graphDefaults={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},graphAttrs=["acyclicer","ranker","rankdir","align"],nodeNumAttrs=["width","height"],nodeDefaults={width:0,height:0},edgeNumAttrs=["minlen","weight","width","height","labeloffset"],edgeDefaults={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},edgeAttrs=["labelpos"];function selectNumberAttrs(obj,attrs){return _.mapValues(_.pick(obj,attrs),Number)}function canonicalize(attrs){var newAttrs={};return _.forEach(attrs,(function(v,k){newAttrs[k.toLowerCase()]=v})),newAttrs}},"./node_modules/dagre/lib/lodash.js":(module,__unused_webpack_exports,__webpack_require__)=>{var lodash;try{lodash={cloneDeep:__webpack_require__("./node_modules/lodash/cloneDeep.js"),constant:__webpack_require__("./node_modules/lodash/constant.js"),defaults:__webpack_require__("./node_modules/lodash/defaults.js"),each:__webpack_require__("./node_modules/lodash/each.js"),filter:__webpack_require__("./node_modules/lodash/filter.js"),find:__webpack_require__("./node_modules/lodash/find.js"),flatten:__webpack_require__("./node_modules/lodash/flatten.js"),forEach:__webpack_require__("./node_modules/lodash/forEach.js"),forIn:__webpack_require__("./node_modules/lodash/forIn.js"),has:__webpack_require__("./node_modules/lodash/has.js"),isUndefined:__webpack_require__("./node_modules/lodash/isUndefined.js"),last:__webpack_require__("./node_modules/lodash/last.js"),map:__webpack_require__("./node_modules/lodash/map.js"),mapValues:__webpack_require__("./node_modules/lodash/mapValues.js"),max:__webpack_require__("./node_modules/lodash/max.js"),merge:__webpack_require__("./node_modules/lodash/merge.js"),min:__webpack_require__("./node_modules/lodash/min.js"),minBy:__webpack_require__("./node_modules/lodash/minBy.js"),now:__webpack_require__("./node_modules/lodash/now.js"),pick:__webpack_require__("./node_modules/lodash/pick.js"),range:__webpack_require__("./node_modules/lodash/range.js"),reduce:__webpack_require__("./node_modules/lodash/reduce.js"),sortBy:__webpack_require__("./node_modules/lodash/sortBy.js"),uniqueId:__webpack_require__("./node_modules/lodash/uniqueId.js"),values:__webpack_require__("./node_modules/lodash/values.js"),zipObject:__webpack_require__("./node_modules/lodash/zipObject.js")}}catch(e){}lodash||(lodash=window._),module.exports=lodash},"./node_modules/dagre/lib/nesting-graph.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),util=__webpack_require__("./node_modules/dagre/lib/util.js");function dfs(g,root,nodeSep,weight,height,depths,v){var children=g.children(v);if(children.length){var top=util.addBorderNode(g,"_bt"),bottom=util.addBorderNode(g,"_bb"),label=g.node(v);g.setParent(top,v),label.borderTop=top,g.setParent(bottom,v),label.borderBottom=bottom,_.forEach(children,(function(child){dfs(g,root,nodeSep,weight,height,depths,child);var childNode=g.node(child),childTop=childNode.borderTop?childNode.borderTop:child,childBottom=childNode.borderBottom?childNode.borderBottom:child,thisWeight=childNode.borderTop?weight:2*weight,minlen=childTop!==childBottom?1:height-depths[v]+1;g.setEdge(top,childTop,{weight:thisWeight,minlen,nestingEdge:!0}),g.setEdge(childBottom,bottom,{weight:thisWeight,minlen,nestingEdge:!0})})),g.parent(v)||g.setEdge(root,top,{weight:0,minlen:height+depths[v]})}else v!==root&&g.setEdge(root,v,{weight:0,minlen:nodeSep})}module.exports={run:function run(g){var root=util.addDummyNode(g,"root",{},"_root"),depths=function treeDepths(g){var depths={};function dfs(v,depth){var children=g.children(v);children&&children.length&&_.forEach(children,(function(child){dfs(child,depth+1)})),depths[v]=depth}return _.forEach(g.children(),(function(v){dfs(v,1)})),depths}(g),height=_.max(_.values(depths))-1,nodeSep=2*height+1;g.graph().nestingRoot=root,_.forEach(g.edges(),(function(e){g.edge(e).minlen*=nodeSep}));var weight=function sumWeights(g){return _.reduce(g.edges(),(function(acc,e){return acc+g.edge(e).weight}),0)}(g)+1;_.forEach(g.children(),(function(child){dfs(g,root,nodeSep,weight,height,depths,child)})),g.graph().nodeRankFactor=nodeSep},cleanup:function cleanup(g){var graphLabel=g.graph();g.removeNode(graphLabel.nestingRoot),delete graphLabel.nestingRoot,_.forEach(g.edges(),(function(e){g.edge(e).nestingEdge&&g.removeEdge(e)}))}}},"./node_modules/dagre/lib/normalize.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),util=__webpack_require__("./node_modules/dagre/lib/util.js");module.exports={run:function run(g){g.graph().dummyChains=[],_.forEach(g.edges(),(function(edge){!function normalizeEdge(g,e){var dummy,attrs,i,v=e.v,vRank=g.node(v).rank,w=e.w,wRank=g.node(w).rank,name=e.name,edgeLabel=g.edge(e),labelRank=edgeLabel.labelRank;if(wRank===vRank+1)return;for(g.removeEdge(e),i=0,++vRank;vRank<wRank;++i,++vRank)edgeLabel.points=[],attrs={width:0,height:0,edgeLabel,edgeObj:e,rank:vRank},dummy=util.addDummyNode(g,"edge",attrs,"_d"),vRank===labelRank&&(attrs.width=edgeLabel.width,attrs.height=edgeLabel.height,attrs.dummy="edge-label",attrs.labelpos=edgeLabel.labelpos),g.setEdge(v,dummy,{weight:edgeLabel.weight},name),0===i&&g.graph().dummyChains.push(dummy),v=dummy;g.setEdge(v,w,{weight:edgeLabel.weight},name)}(g,edge)}))},undo:function undo(g){_.forEach(g.graph().dummyChains,(function(v){var w,node=g.node(v),origLabel=node.edgeLabel;for(g.setEdge(node.edgeObj,origLabel);node.dummy;)w=g.successors(v)[0],g.removeNode(v),origLabel.points.push({x:node.x,y:node.y}),"edge-label"===node.dummy&&(origLabel.x=node.x,origLabel.y=node.y,origLabel.width=node.width,origLabel.height=node.height),v=w,node=g.node(v)}))}}},"./node_modules/dagre/lib/order/add-subgraph-constraints.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/dagre/lib/lodash.js");module.exports=function addSubgraphConstraints(g,cg,vs){var rootPrev,prev={};_.forEach(vs,(function(v){for(var parent,prevChild,child=g.parent(v);child;){if((parent=g.parent(child))?(prevChild=prev[parent],prev[parent]=child):(prevChild=rootPrev,rootPrev=child),prevChild&&prevChild!==child)return void cg.setEdge(prevChild,child);child=parent}}))}},"./node_modules/dagre/lib/order/barycenter.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/dagre/lib/lodash.js");module.exports=function barycenter(g,movable){return _.map(movable,(function(v){var inV=g.inEdges(v);if(inV.length){var result=_.reduce(inV,(function(acc,e){var edge=g.edge(e),nodeU=g.node(e.v);return{sum:acc.sum+edge.weight*nodeU.order,weight:acc.weight+edge.weight}}),{sum:0,weight:0});return{v,barycenter:result.sum/result.weight,weight:result.weight}}return{v}}))}},"./node_modules/dagre/lib/order/build-layer-graph.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),Graph=__webpack_require__("./node_modules/dagre/lib/graphlib.js").Graph;module.exports=function buildLayerGraph(g,rank,relationship){var root=function createRootNode(g){var v;for(;g.hasNode(v=_.uniqueId("_root")););return v}(g),result=new Graph({compound:!0}).setGraph({root}).setDefaultNodeLabel((function(v){return g.node(v)}));return _.forEach(g.nodes(),(function(v){var node=g.node(v),parent=g.parent(v);(node.rank===rank||node.minRank<=rank&&rank<=node.maxRank)&&(result.setNode(v),result.setParent(v,parent||root),_.forEach(g[relationship](v),(function(e){var u=e.v===v?e.w:e.v,edge=result.edge(u,v),weight=_.isUndefined(edge)?0:edge.weight;result.setEdge(u,v,{weight:g.edge(e).weight+weight})})),_.has(node,"minRank")&&result.setNode(v,{borderLeft:node.borderLeft[rank],borderRight:node.borderRight[rank]}))})),result}},"./node_modules/dagre/lib/order/cross-count.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js");function twoLayerCrossCount(g,northLayer,southLayer){for(var southPos=_.zipObject(southLayer,_.map(southLayer,(function(v,i){return i}))),southEntries=_.flatten(_.map(northLayer,(function(v){return _.sortBy(_.map(g.outEdges(v),(function(e){return{pos:southPos[e.w],weight:g.edge(e).weight}})),"pos")})),!0),firstIndex=1;firstIndex<southLayer.length;)firstIndex<<=1;var treeSize=2*firstIndex-1;firstIndex-=1;var tree=_.map(new Array(treeSize),(function(){return 0})),cc=0;return _.forEach(southEntries.forEach((function(entry){var index=entry.pos+firstIndex;tree[index]+=entry.weight;for(var weightSum=0;index>0;)index%2&&(weightSum+=tree[index+1]),tree[index=index-1>>1]+=entry.weight;cc+=entry.weight*weightSum}))),cc}module.exports=function crossCount(g,layering){for(var cc=0,i=1;i<layering.length;++i)cc+=twoLayerCrossCount(g,layering[i-1],layering[i]);return cc}},"./node_modules/dagre/lib/order/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),initOrder=__webpack_require__("./node_modules/dagre/lib/order/init-order.js"),crossCount=__webpack_require__("./node_modules/dagre/lib/order/cross-count.js"),sortSubgraph=__webpack_require__("./node_modules/dagre/lib/order/sort-subgraph.js"),buildLayerGraph=__webpack_require__("./node_modules/dagre/lib/order/build-layer-graph.js"),addSubgraphConstraints=__webpack_require__("./node_modules/dagre/lib/order/add-subgraph-constraints.js"),Graph=__webpack_require__("./node_modules/dagre/lib/graphlib.js").Graph,util=__webpack_require__("./node_modules/dagre/lib/util.js");function buildLayerGraphs(g,ranks,relationship){return _.map(ranks,(function(rank){return buildLayerGraph(g,rank,relationship)}))}function sweepLayerGraphs(layerGraphs,biasRight){var cg=new Graph;_.forEach(layerGraphs,(function(lg){var root=lg.graph().root,sorted=sortSubgraph(lg,root,cg,biasRight);_.forEach(sorted.vs,(function(v,i){lg.node(v).order=i})),addSubgraphConstraints(lg,cg,sorted.vs)}))}function assignOrder(g,layering){_.forEach(layering,(function(layer){_.forEach(layer,(function(v,i){g.node(v).order=i}))}))}module.exports=function order(g){var maxRank=util.maxRank(g),downLayerGraphs=buildLayerGraphs(g,_.range(1,maxRank+1),"inEdges"),upLayerGraphs=buildLayerGraphs(g,_.range(maxRank-1,-1,-1),"outEdges"),layering=initOrder(g);assignOrder(g,layering);for(var best,bestCC=Number.POSITIVE_INFINITY,i=0,lastBest=0;lastBest<4;++i,++lastBest){sweepLayerGraphs(i%2?downLayerGraphs:upLayerGraphs,i%4>=2),layering=util.buildLayerMatrix(g);var cc=crossCount(g,layering);cc<bestCC&&(lastBest=0,best=_.cloneDeep(layering),bestCC=cc)}assignOrder(g,best)}},"./node_modules/dagre/lib/order/init-order.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js");module.exports=function initOrder(g){var visited={},simpleNodes=_.filter(g.nodes(),(function(v){return!g.children(v).length})),maxRank=_.max(_.map(simpleNodes,(function(v){return g.node(v).rank}))),layers=_.map(_.range(maxRank+1),(function(){return[]}));var orderedVs=_.sortBy(simpleNodes,(function(v){return g.node(v).rank}));return _.forEach(orderedVs,(function dfs(v){if(_.has(visited,v))return;visited[v]=!0;var node=g.node(v);layers[node.rank].push(v),_.forEach(g.successors(v),dfs)})),layers}},"./node_modules/dagre/lib/order/resolve-conflicts.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js");module.exports=function resolveConflicts(entries,cg){var mappedEntries={};return _.forEach(entries,(function(entry,i){var tmp=mappedEntries[entry.v]={indegree:0,in:[],out:[],vs:[entry.v],i};_.isUndefined(entry.barycenter)||(tmp.barycenter=entry.barycenter,tmp.weight=entry.weight)})),_.forEach(cg.edges(),(function(e){var entryV=mappedEntries[e.v],entryW=mappedEntries[e.w];_.isUndefined(entryV)||_.isUndefined(entryW)||(entryW.indegree++,entryV.out.push(mappedEntries[e.w]))})),function doResolveConflicts(sourceSet){var entries=[];function handleIn(vEntry){return function(uEntry){uEntry.merged||(_.isUndefined(uEntry.barycenter)||_.isUndefined(vEntry.barycenter)||uEntry.barycenter>=vEntry.barycenter)&&function mergeEntries(target,source){var sum=0,weight=0;target.weight&&(sum+=target.barycenter*target.weight,weight+=target.weight);source.weight&&(sum+=source.barycenter*source.weight,weight+=source.weight);target.vs=source.vs.concat(target.vs),target.barycenter=sum/weight,target.weight=weight,target.i=Math.min(source.i,target.i),source.merged=!0}(vEntry,uEntry)}}function handleOut(vEntry){return function(wEntry){wEntry.in.push(vEntry),0==--wEntry.indegree&&sourceSet.push(wEntry)}}for(;sourceSet.length;){var entry=sourceSet.pop();entries.push(entry),_.forEach(entry.in.reverse(),handleIn(entry)),_.forEach(entry.out,handleOut(entry))}return _.map(_.filter(entries,(function(entry){return!entry.merged})),(function(entry){return _.pick(entry,["vs","i","barycenter","weight"])}))}(_.filter(mappedEntries,(function(entry){return!entry.indegree})))}},"./node_modules/dagre/lib/order/sort-subgraph.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),barycenter=__webpack_require__("./node_modules/dagre/lib/order/barycenter.js"),resolveConflicts=__webpack_require__("./node_modules/dagre/lib/order/resolve-conflicts.js"),sort=__webpack_require__("./node_modules/dagre/lib/order/sort.js");module.exports=function sortSubgraph(g,v,cg,biasRight){var movable=g.children(v),node=g.node(v),bl=node?node.borderLeft:void 0,br=node?node.borderRight:void 0,subgraphs={};bl&&(movable=_.filter(movable,(function(w){return w!==bl&&w!==br})));var barycenters=barycenter(g,movable);_.forEach(barycenters,(function(entry){if(g.children(entry.v).length){var subgraphResult=sortSubgraph(g,entry.v,cg,biasRight);subgraphs[entry.v]=subgraphResult,_.has(subgraphResult,"barycenter")&&function mergeBarycenters(target,other){_.isUndefined(target.barycenter)?(target.barycenter=other.barycenter,target.weight=other.weight):(target.barycenter=(target.barycenter*target.weight+other.barycenter*other.weight)/(target.weight+other.weight),target.weight+=other.weight)}(entry,subgraphResult)}}));var entries=resolveConflicts(barycenters,cg);!function expandSubgraphs(entries,subgraphs){_.forEach(entries,(function(entry){entry.vs=_.flatten(entry.vs.map((function(v){return subgraphs[v]?subgraphs[v].vs:v})),!0)}))}(entries,subgraphs);var result=sort(entries,biasRight);if(bl&&(result.vs=_.flatten([bl,result.vs,br],!0),g.predecessors(bl).length)){var blPred=g.node(g.predecessors(bl)[0]),brPred=g.node(g.predecessors(br)[0]);_.has(result,"barycenter")||(result.barycenter=0,result.weight=0),result.barycenter=(result.barycenter*result.weight+blPred.order+brPred.order)/(result.weight+2),result.weight+=2}return result}},"./node_modules/dagre/lib/order/sort.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),util=__webpack_require__("./node_modules/dagre/lib/util.js");function consumeUnsortable(vs,unsortable,index){for(var last;unsortable.length&&(last=_.last(unsortable)).i<=index;)unsortable.pop(),vs.push(last.vs),index++;return index}module.exports=function sort(entries,biasRight){var parts=util.partition(entries,(function(entry){return _.has(entry,"barycenter")})),sortable=parts.lhs,unsortable=_.sortBy(parts.rhs,(function(entry){return-entry.i})),vs=[],sum=0,weight=0,vsIndex=0;sortable.sort(function compareWithBias(bias){return function(entryV,entryW){return entryV.barycenter<entryW.barycenter?-1:entryV.barycenter>entryW.barycenter?1:bias?entryW.i-entryV.i:entryV.i-entryW.i}}(!!biasRight)),vsIndex=consumeUnsortable(vs,unsortable,vsIndex),_.forEach(sortable,(function(entry){vsIndex+=entry.vs.length,vs.push(entry.vs),sum+=entry.barycenter*entry.weight,weight+=entry.weight,vsIndex=consumeUnsortable(vs,unsortable,vsIndex)}));var result={vs:_.flatten(vs,!0)};weight&&(result.barycenter=sum/weight,result.weight=weight);return result}},"./node_modules/dagre/lib/parent-dummy-chains.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/dagre/lib/lodash.js");module.exports=function parentDummyChains(g){var postorderNums=function postorder(g){var result={},lim=0;function dfs(v){var low=lim;_.forEach(g.children(v),dfs),result[v]={low,lim:lim++}}return _.forEach(g.children(),dfs),result}(g);_.forEach(g.graph().dummyChains,(function(v){for(var node=g.node(v),edgeObj=node.edgeObj,pathData=function findPath(g,postorderNums,v,w){var parent,lca,vPath=[],wPath=[],low=Math.min(postorderNums[v].low,postorderNums[w].low),lim=Math.max(postorderNums[v].lim,postorderNums[w].lim);parent=v;do{parent=g.parent(parent),vPath.push(parent)}while(parent&&(postorderNums[parent].low>low||lim>postorderNums[parent].lim));lca=parent,parent=w;for(;(parent=g.parent(parent))!==lca;)wPath.push(parent);return{path:vPath.concat(wPath.reverse()),lca}}(g,postorderNums,edgeObj.v,edgeObj.w),path=pathData.path,lca=pathData.lca,pathIdx=0,pathV=path[pathIdx],ascending=!0;v!==edgeObj.w;){if(node=g.node(v),ascending){for(;(pathV=path[pathIdx])!==lca&&g.node(pathV).maxRank<node.rank;)pathIdx++;pathV===lca&&(ascending=!1)}if(!ascending){for(;pathIdx<path.length-1&&g.node(pathV=path[pathIdx+1]).minRank<=node.rank;)pathIdx++;pathV=path[pathIdx]}g.setParent(v,pathV),v=g.successors(v)[0]}}))}},"./node_modules/dagre/lib/position/bk.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),Graph=__webpack_require__("./node_modules/dagre/lib/graphlib.js").Graph,util=__webpack_require__("./node_modules/dagre/lib/util.js");function findType1Conflicts(g,layering){var conflicts={};return _.reduce(layering,(function visitLayer(prevLayer,layer){var k0=0,scanPos=0,prevLayerLength=prevLayer.length,lastNode=_.last(layer);return _.forEach(layer,(function(v,i){var w=function findOtherInnerSegmentNode(g,v){if(g.node(v).dummy)return _.find(g.predecessors(v),(function(u){return g.node(u).dummy}))}(g,v),k1=w?g.node(w).order:prevLayerLength;(w||v===lastNode)&&(_.forEach(layer.slice(scanPos,i+1),(function(scanNode){_.forEach(g.predecessors(scanNode),(function(u){var uLabel=g.node(u),uPos=uLabel.order;!(uPos<k0||k1<uPos)||uLabel.dummy&&g.node(scanNode).dummy||addConflict(conflicts,u,scanNode)}))})),scanPos=i+1,k0=k1)})),layer})),conflicts}function findType2Conflicts(g,layering){var conflicts={};function scan(south,southPos,southEnd,prevNorthBorder,nextNorthBorder){var v;_.forEach(_.range(southPos,southEnd),(function(i){v=south[i],g.node(v).dummy&&_.forEach(g.predecessors(v),(function(u){var uNode=g.node(u);uNode.dummy&&(uNode.order<prevNorthBorder||uNode.order>nextNorthBorder)&&addConflict(conflicts,u,v)}))}))}return _.reduce(layering,(function visitLayer(north,south){var nextNorthPos,prevNorthPos=-1,southPos=0;return _.forEach(south,(function(v,southLookahead){if("border"===g.node(v).dummy){var predecessors=g.predecessors(v);predecessors.length&&(nextNorthPos=g.node(predecessors[0]).order,scan(south,southPos,southLookahead,prevNorthPos,nextNorthPos),southPos=southLookahead,prevNorthPos=nextNorthPos)}scan(south,southPos,south.length,nextNorthPos,north.length)})),south})),conflicts}function addConflict(conflicts,v,w){if(v>w){var tmp=v;v=w,w=tmp}var conflictsV=conflicts[v];conflictsV||(conflicts[v]=conflictsV={}),conflictsV[w]=!0}function hasConflict(conflicts,v,w){if(v>w){var tmp=v;v=w,w=tmp}return _.has(conflicts[v],w)}function verticalAlignment(g,layering,conflicts,neighborFn){var root={},align={},pos={};return _.forEach(layering,(function(layer){_.forEach(layer,(function(v,order){root[v]=v,align[v]=v,pos[v]=order}))})),_.forEach(layering,(function(layer){var prevIdx=-1;_.forEach(layer,(function(v){var ws=neighborFn(v);if(ws.length){ws=_.sortBy(ws,(function(w){return pos[w]}));for(var mp=(ws.length-1)/2,i=Math.floor(mp),il=Math.ceil(mp);i<=il;++i){var w=ws[i];align[v]===v&&prevIdx<pos[w]&&!hasConflict(conflicts,v,w)&&(align[w]=v,align[v]=root[v]=root[w],prevIdx=pos[w])}}}))})),{root,align}}function horizontalCompaction(g,layering,root,align,reverseSep){var xs={},blockG=function buildBlockGraph(g,layering,root,reverseSep){var blockGraph=new Graph,graphLabel=g.graph(),sepFn=function sep(nodeSep,edgeSep,reverseSep){return function(g,v,w){var delta,vLabel=g.node(v),wLabel=g.node(w),sum=0;if(sum+=vLabel.width/2,_.has(vLabel,"labelpos"))switch(vLabel.labelpos.toLowerCase()){case"l":delta=-vLabel.width/2;break;case"r":delta=vLabel.width/2}if(delta&&(sum+=reverseSep?delta:-delta),delta=0,sum+=(vLabel.dummy?edgeSep:nodeSep)/2,sum+=(wLabel.dummy?edgeSep:nodeSep)/2,sum+=wLabel.width/2,_.has(wLabel,"labelpos"))switch(wLabel.labelpos.toLowerCase()){case"l":delta=wLabel.width/2;break;case"r":delta=-wLabel.width/2}return delta&&(sum+=reverseSep?delta:-delta),delta=0,sum}}(graphLabel.nodesep,graphLabel.edgesep,reverseSep);return _.forEach(layering,(function(layer){var u;_.forEach(layer,(function(v){var vRoot=root[v];if(blockGraph.setNode(vRoot),u){var uRoot=root[u],prevMax=blockGraph.edge(uRoot,vRoot);blockGraph.setEdge(uRoot,vRoot,Math.max(sepFn(g,v,u),prevMax||0))}u=v}))})),blockGraph}(g,layering,root,reverseSep),borderType=reverseSep?"borderLeft":"borderRight";function iterate(setXsFunc,nextNodesFunc){for(var stack=blockG.nodes(),elem=stack.pop(),visited={};elem;)visited[elem]?setXsFunc(elem):(visited[elem]=!0,stack.push(elem),stack=stack.concat(nextNodesFunc(elem))),elem=stack.pop()}return iterate((function pass1(elem){xs[elem]=blockG.inEdges(elem).reduce((function(acc,e){return Math.max(acc,xs[e.v]+blockG.edge(e))}),0)}),blockG.predecessors.bind(blockG)),iterate((function pass2(elem){var min=blockG.outEdges(elem).reduce((function(acc,e){return Math.min(acc,xs[e.w]-blockG.edge(e))}),Number.POSITIVE_INFINITY),node=g.node(elem);min!==Number.POSITIVE_INFINITY&&node.borderType!==borderType&&(xs[elem]=Math.max(xs[elem],min))}),blockG.successors.bind(blockG)),_.forEach(align,(function(v){xs[v]=xs[root[v]]})),xs}function findSmallestWidthAlignment(g,xss){return _.minBy(_.values(xss),(function(xs){var max=Number.NEGATIVE_INFINITY,min=Number.POSITIVE_INFINITY;return _.forIn(xs,(function(x,v){var halfWidth=function width(g,v){return g.node(v).width}(g,v)/2;max=Math.max(x+halfWidth,max),min=Math.min(x-halfWidth,min)})),max-min}))}function alignCoordinates(xss,alignTo){var alignToVals=_.values(alignTo),alignToMin=_.min(alignToVals),alignToMax=_.max(alignToVals);_.forEach(["u","d"],(function(vert){_.forEach(["l","r"],(function(horiz){var delta,alignment=vert+horiz,xs=xss[alignment];if(xs!==alignTo){var xsVals=_.values(xs);(delta="l"===horiz?alignToMin-_.min(xsVals):alignToMax-_.max(xsVals))&&(xss[alignment]=_.mapValues(xs,(function(x){return x+delta})))}}))}))}function balance(xss,align){return _.mapValues(xss.ul,(function(ignore,v){if(align)return xss[align.toLowerCase()][v];var xs=_.sortBy(_.map(xss,v));return(xs[1]+xs[2])/2}))}module.exports={positionX:function positionX(g){var adjustedLayering,layering=util.buildLayerMatrix(g),conflicts=_.merge(findType1Conflicts(g,layering),findType2Conflicts(g,layering)),xss={};_.forEach(["u","d"],(function(vert){adjustedLayering="u"===vert?layering:_.values(layering).reverse(),_.forEach(["l","r"],(function(horiz){"r"===horiz&&(adjustedLayering=_.map(adjustedLayering,(function(inner){return _.values(inner).reverse()})));var neighborFn=("u"===vert?g.predecessors:g.successors).bind(g),align=verticalAlignment(g,adjustedLayering,conflicts,neighborFn),xs=horizontalCompaction(g,adjustedLayering,align.root,align.align,"r"===horiz);"r"===horiz&&(xs=_.mapValues(xs,(function(x){return-x}))),xss[vert+horiz]=xs}))}));var smallestWidth=findSmallestWidthAlignment(g,xss);return alignCoordinates(xss,smallestWidth),balance(xss,g.graph().align)},findType1Conflicts,findType2Conflicts,addConflict,hasConflict,verticalAlignment,horizontalCompaction,alignCoordinates,findSmallestWidthAlignment,balance}},"./node_modules/dagre/lib/position/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),util=__webpack_require__("./node_modules/dagre/lib/util.js"),positionX=__webpack_require__("./node_modules/dagre/lib/position/bk.js").positionX;module.exports=function position(g){(function positionY(g){var layering=util.buildLayerMatrix(g),rankSep=g.graph().ranksep,prevY=0;_.forEach(layering,(function(layer){var maxHeight=_.max(_.map(layer,(function(v){return g.node(v).height})));_.forEach(layer,(function(v){g.node(v).y=prevY+maxHeight/2})),prevY+=maxHeight+rankSep}))})(g=util.asNonCompoundGraph(g)),_.forEach(positionX(g),(function(x,v){g.node(v).x=x}))}},"./node_modules/dagre/lib/rank/feasible-tree.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),Graph=__webpack_require__("./node_modules/dagre/lib/graphlib.js").Graph,slack=__webpack_require__("./node_modules/dagre/lib/rank/util.js").slack;function tightTree(t,g){return _.forEach(t.nodes(),(function dfs(v){_.forEach(g.nodeEdges(v),(function(e){var edgeV=e.v,w=v===edgeV?e.w:edgeV;t.hasNode(w)||slack(g,e)||(t.setNode(w,{}),t.setEdge(v,w,{}),dfs(w))}))})),t.nodeCount()}function findMinSlackEdge(t,g){return _.minBy(g.edges(),(function(e){if(t.hasNode(e.v)!==t.hasNode(e.w))return slack(g,e)}))}function shiftRanks(t,g,delta){_.forEach(t.nodes(),(function(v){g.node(v).rank+=delta}))}module.exports=function feasibleTree(g){var edge,delta,t=new Graph({directed:!1}),start=g.nodes()[0],size=g.nodeCount();t.setNode(start,{});for(;tightTree(t,g)<size;)edge=findMinSlackEdge(t,g),delta=t.hasNode(edge.v)?slack(g,edge):-slack(g,edge),shiftRanks(t,g,delta);return t}},"./node_modules/dagre/lib/rank/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var longestPath=__webpack_require__("./node_modules/dagre/lib/rank/util.js").longestPath,feasibleTree=__webpack_require__("./node_modules/dagre/lib/rank/feasible-tree.js"),networkSimplex=__webpack_require__("./node_modules/dagre/lib/rank/network-simplex.js");module.exports=function rank(g){switch(g.graph().ranker){case"network-simplex":default:networkSimplexRanker(g);break;case"tight-tree":!function tightTreeRanker(g){longestPath(g),feasibleTree(g)}(g);break;case"longest-path":longestPathRanker(g)}};var longestPathRanker=longestPath;function networkSimplexRanker(g){networkSimplex(g)}},"./node_modules/dagre/lib/rank/network-simplex.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),feasibleTree=__webpack_require__("./node_modules/dagre/lib/rank/feasible-tree.js"),slack=__webpack_require__("./node_modules/dagre/lib/rank/util.js").slack,initRank=__webpack_require__("./node_modules/dagre/lib/rank/util.js").longestPath,preorder=__webpack_require__("./node_modules/dagre/lib/graphlib.js").alg.preorder,postorder=__webpack_require__("./node_modules/dagre/lib/graphlib.js").alg.postorder,simplify=__webpack_require__("./node_modules/dagre/lib/util.js").simplify;function networkSimplex(g){g=simplify(g),initRank(g);var e,t=feasibleTree(g);for(initLowLimValues(t),initCutValues(t,g);e=leaveEdge(t);)exchangeEdges(t,g,e,enterEdge(t,g,e))}function initCutValues(t,g){var vs=postorder(t,t.nodes());vs=vs.slice(0,vs.length-1),_.forEach(vs,(function(v){!function assignCutValue(t,g,child){var childLab=t.node(child),parent=childLab.parent;t.edge(child,parent).cutvalue=calcCutValue(t,g,child)}(t,g,v)}))}function calcCutValue(t,g,child){var parent=t.node(child).parent,childIsTail=!0,graphEdge=g.edge(child,parent),cutValue=0;return graphEdge||(childIsTail=!1,graphEdge=g.edge(parent,child)),cutValue=graphEdge.weight,_.forEach(g.nodeEdges(child),(function(e){var isOutEdge=e.v===child,other=isOutEdge?e.w:e.v;if(other!==parent){var pointsToHead=isOutEdge===childIsTail,otherWeight=g.edge(e).weight;if(cutValue+=pointsToHead?otherWeight:-otherWeight,function isTreeEdge(tree,u,v){return tree.hasEdge(u,v)}(t,child,other)){var otherCutValue=t.edge(child,other).cutvalue;cutValue+=pointsToHead?-otherCutValue:otherCutValue}}})),cutValue}function initLowLimValues(tree,root){arguments.length<2&&(root=tree.nodes()[0]),dfsAssignLowLim(tree,{},1,root)}function dfsAssignLowLim(tree,visited,nextLim,v,parent){var low=nextLim,label=tree.node(v);return visited[v]=!0,_.forEach(tree.neighbors(v),(function(w){_.has(visited,w)||(nextLim=dfsAssignLowLim(tree,visited,nextLim,w,v))})),label.low=low,label.lim=nextLim++,parent?label.parent=parent:delete label.parent,nextLim}function leaveEdge(tree){return _.find(tree.edges(),(function(e){return tree.edge(e).cutvalue<0}))}function enterEdge(t,g,edge){var v=edge.v,w=edge.w;g.hasEdge(v,w)||(v=edge.w,w=edge.v);var vLabel=t.node(v),wLabel=t.node(w),tailLabel=vLabel,flip=!1;vLabel.lim>wLabel.lim&&(tailLabel=wLabel,flip=!0);var candidates=_.filter(g.edges(),(function(edge){return flip===isDescendant(t,t.node(edge.v),tailLabel)&&flip!==isDescendant(t,t.node(edge.w),tailLabel)}));return _.minBy(candidates,(function(edge){return slack(g,edge)}))}function exchangeEdges(t,g,e,f){var v=e.v,w=e.w;t.removeEdge(v,w),t.setEdge(f.v,f.w,{}),initLowLimValues(t),initCutValues(t,g),function updateRanks(t,g){var root=_.find(t.nodes(),(function(v){return!g.node(v).parent})),vs=preorder(t,root);vs=vs.slice(1),_.forEach(vs,(function(v){var parent=t.node(v).parent,edge=g.edge(v,parent),flipped=!1;edge||(edge=g.edge(parent,v),flipped=!0),g.node(v).rank=g.node(parent).rank+(flipped?edge.minlen:-edge.minlen)}))}(t,g)}function isDescendant(tree,vLabel,rootLabel){return rootLabel.low<=vLabel.lim&&vLabel.lim<=rootLabel.lim}module.exports=networkSimplex,networkSimplex.initLowLimValues=initLowLimValues,networkSimplex.initCutValues=initCutValues,networkSimplex.calcCutValue=calcCutValue,networkSimplex.leaveEdge=leaveEdge,networkSimplex.enterEdge=enterEdge,networkSimplex.exchangeEdges=exchangeEdges},"./node_modules/dagre/lib/rank/util.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js");module.exports={longestPath:function longestPath(g){var visited={};_.forEach(g.sources(),(function dfs(v){var label=g.node(v);if(_.has(visited,v))return label.rank;visited[v]=!0;var rank=_.min(_.map(g.outEdges(v),(function(e){return dfs(e.w)-g.edge(e).minlen})));return rank!==Number.POSITIVE_INFINITY&&null!=rank||(rank=0),label.rank=rank}))},slack:function slack(g,e){return g.node(e.w).rank-g.node(e.v).rank-g.edge(e).minlen}}},"./node_modules/dagre/lib/util.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/dagre/lib/lodash.js"),Graph=__webpack_require__("./node_modules/dagre/lib/graphlib.js").Graph;function addDummyNode(g,type,attrs,name){var v;do{v=_.uniqueId(name)}while(g.hasNode(v));return attrs.dummy=type,g.setNode(v,attrs),v}function maxRank(g){return _.max(_.map(g.nodes(),(function(v){var rank=g.node(v).rank;if(!_.isUndefined(rank))return rank})))}module.exports={addDummyNode,simplify:function simplify(g){var simplified=(new Graph).setGraph(g.graph());return _.forEach(g.nodes(),(function(v){simplified.setNode(v,g.node(v))})),_.forEach(g.edges(),(function(e){var simpleLabel=simplified.edge(e.v,e.w)||{weight:0,minlen:1},label=g.edge(e);simplified.setEdge(e.v,e.w,{weight:simpleLabel.weight+label.weight,minlen:Math.max(simpleLabel.minlen,label.minlen)})})),simplified},asNonCompoundGraph:function asNonCompoundGraph(g){var simplified=new Graph({multigraph:g.isMultigraph()}).setGraph(g.graph());return _.forEach(g.nodes(),(function(v){g.children(v).length||simplified.setNode(v,g.node(v))})),_.forEach(g.edges(),(function(e){simplified.setEdge(e,g.edge(e))})),simplified},successorWeights:function successorWeights(g){var weightMap=_.map(g.nodes(),(function(v){var sucs={};return _.forEach(g.outEdges(v),(function(e){sucs[e.w]=(sucs[e.w]||0)+g.edge(e).weight})),sucs}));return _.zipObject(g.nodes(),weightMap)},predecessorWeights:function predecessorWeights(g){var weightMap=_.map(g.nodes(),(function(v){var preds={};return _.forEach(g.inEdges(v),(function(e){preds[e.v]=(preds[e.v]||0)+g.edge(e).weight})),preds}));return _.zipObject(g.nodes(),weightMap)},intersectRect:function intersectRect(rect,point){var sx,sy,x=rect.x,y=rect.y,dx=point.x-x,dy=point.y-y,w=rect.width/2,h=rect.height/2;if(!dx&&!dy)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(dy)*w>Math.abs(dx)*h?(dy<0&&(h=-h),sx=h*dx/dy,sy=h):(dx<0&&(w=-w),sx=w,sy=w*dy/dx);return{x:x+sx,y:y+sy}},buildLayerMatrix:function buildLayerMatrix(g){var layering=_.map(_.range(maxRank(g)+1),(function(){return[]}));return _.forEach(g.nodes(),(function(v){var node=g.node(v),rank=node.rank;_.isUndefined(rank)||(layering[rank][node.order]=v)})),layering},normalizeRanks:function normalizeRanks(g){var min=_.min(_.map(g.nodes(),(function(v){return g.node(v).rank})));_.forEach(g.nodes(),(function(v){var node=g.node(v);_.has(node,"rank")&&(node.rank-=min)}))},removeEmptyRanks:function removeEmptyRanks(g){var offset=_.min(_.map(g.nodes(),(function(v){return g.node(v).rank}))),layers=[];_.forEach(g.nodes(),(function(v){var rank=g.node(v).rank-offset;layers[rank]||(layers[rank]=[]),layers[rank].push(v)}));var delta=0,nodeRankFactor=g.graph().nodeRankFactor;_.forEach(layers,(function(vs,i){_.isUndefined(vs)&&i%nodeRankFactor!=0?--delta:delta&&_.forEach(vs,(function(v){g.node(v).rank+=delta}))}))},addBorderNode:function addBorderNode(g,prefix,rank,order){var node={width:0,height:0};arguments.length>=4&&(node.rank=rank,node.order=order);return addDummyNode(g,"border",node,prefix)},maxRank,partition:function partition(collection,fn){var result={lhs:[],rhs:[]};return _.forEach(collection,(function(value){fn(value)?result.lhs.push(value):result.rhs.push(value)})),result},time:function time(name,fn){var start=_.now();try{return fn()}finally{console.log(name+" time: "+(_.now()-start)+"ms")}},notime:function notime(name,fn){return fn()}}},"./node_modules/dagre/lib/version.js":module=>{module.exports="0.8.5"},"./node_modules/graphlib/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{var lib=__webpack_require__("./node_modules/graphlib/lib/index.js");module.exports={Graph:lib.Graph,json:__webpack_require__("./node_modules/graphlib/lib/json.js"),alg:__webpack_require__("./node_modules/graphlib/lib/alg/index.js"),version:lib.version}},"./node_modules/graphlib/lib/alg/components.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/graphlib/lib/lodash.js");module.exports=function components(g){var cmpt,visited={},cmpts=[];function dfs(v){_.has(visited,v)||(visited[v]=!0,cmpt.push(v),_.each(g.successors(v),dfs),_.each(g.predecessors(v),dfs))}return _.each(g.nodes(),(function(v){cmpt=[],dfs(v),cmpt.length&&cmpts.push(cmpt)})),cmpts}},"./node_modules/graphlib/lib/alg/dfs.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/graphlib/lib/lodash.js");function doDfs(g,v,postorder,visited,navigation,acc){_.has(visited,v)||(visited[v]=!0,postorder||acc.push(v),_.each(navigation(v),(function(w){doDfs(g,w,postorder,visited,navigation,acc)})),postorder&&acc.push(v))}module.exports=function dfs(g,vs,order){_.isArray(vs)||(vs=[vs]);var navigation=(g.isDirected()?g.successors:g.neighbors).bind(g),acc=[],visited={};return _.each(vs,(function(v){if(!g.hasNode(v))throw new Error("Graph does not have node: "+v);doDfs(g,v,"post"===order,visited,navigation,acc)})),acc}},"./node_modules/graphlib/lib/alg/dijkstra-all.js":(module,__unused_webpack_exports,__webpack_require__)=>{var dijkstra=__webpack_require__("./node_modules/graphlib/lib/alg/dijkstra.js"),_=__webpack_require__("./node_modules/graphlib/lib/lodash.js");module.exports=function dijkstraAll(g,weightFunc,edgeFunc){return _.transform(g.nodes(),(function(acc,v){acc[v]=dijkstra(g,v,weightFunc,edgeFunc)}),{})}},"./node_modules/graphlib/lib/alg/dijkstra.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/graphlib/lib/lodash.js"),PriorityQueue=__webpack_require__("./node_modules/graphlib/lib/data/priority-queue.js");module.exports=function dijkstra(g,source,weightFn,edgeFn){return function runDijkstra(g,source,weightFn,edgeFn){var v,vEntry,results={},pq=new PriorityQueue,updateNeighbors=function(edge){var w=edge.v!==v?edge.v:edge.w,wEntry=results[w],weight=weightFn(edge),distance=vEntry.distance+weight;if(weight<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+edge+" Weight: "+weight);distance<wEntry.distance&&(wEntry.distance=distance,wEntry.predecessor=v,pq.decrease(w,distance))};g.nodes().forEach((function(v){var distance=v===source?0:Number.POSITIVE_INFINITY;results[v]={distance},pq.add(v,distance)}));for(;pq.size()>0&&(v=pq.removeMin(),(vEntry=results[v]).distance!==Number.POSITIVE_INFINITY);)edgeFn(v).forEach(updateNeighbors);return results}(g,String(source),weightFn||DEFAULT_WEIGHT_FUNC,edgeFn||function(v){return g.outEdges(v)})};var DEFAULT_WEIGHT_FUNC=_.constant(1)},"./node_modules/graphlib/lib/alg/find-cycles.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/graphlib/lib/lodash.js"),tarjan=__webpack_require__("./node_modules/graphlib/lib/alg/tarjan.js");module.exports=function findCycles(g){return _.filter(tarjan(g),(function(cmpt){return cmpt.length>1||1===cmpt.length&&g.hasEdge(cmpt[0],cmpt[0])}))}},"./node_modules/graphlib/lib/alg/floyd-warshall.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/graphlib/lib/lodash.js");module.exports=function floydWarshall(g,weightFn,edgeFn){return function runFloydWarshall(g,weightFn,edgeFn){var results={},nodes=g.nodes();return nodes.forEach((function(v){results[v]={},results[v][v]={distance:0},nodes.forEach((function(w){v!==w&&(results[v][w]={distance:Number.POSITIVE_INFINITY})})),edgeFn(v).forEach((function(edge){var w=edge.v===v?edge.w:edge.v,d=weightFn(edge);results[v][w]={distance:d,predecessor:v}}))})),nodes.forEach((function(k){var rowK=results[k];nodes.forEach((function(i){var rowI=results[i];nodes.forEach((function(j){var ik=rowI[k],kj=rowK[j],ij=rowI[j],altDistance=ik.distance+kj.distance;altDistance<ij.distance&&(ij.distance=altDistance,ij.predecessor=kj.predecessor)}))}))})),results}(g,weightFn||DEFAULT_WEIGHT_FUNC,edgeFn||function(v){return g.outEdges(v)})};var DEFAULT_WEIGHT_FUNC=_.constant(1)},"./node_modules/graphlib/lib/alg/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports={components:__webpack_require__("./node_modules/graphlib/lib/alg/components.js"),dijkstra:__webpack_require__("./node_modules/graphlib/lib/alg/dijkstra.js"),dijkstraAll:__webpack_require__("./node_modules/graphlib/lib/alg/dijkstra-all.js"),findCycles:__webpack_require__("./node_modules/graphlib/lib/alg/find-cycles.js"),floydWarshall:__webpack_require__("./node_modules/graphlib/lib/alg/floyd-warshall.js"),isAcyclic:__webpack_require__("./node_modules/graphlib/lib/alg/is-acyclic.js"),postorder:__webpack_require__("./node_modules/graphlib/lib/alg/postorder.js"),preorder:__webpack_require__("./node_modules/graphlib/lib/alg/preorder.js"),prim:__webpack_require__("./node_modules/graphlib/lib/alg/prim.js"),tarjan:__webpack_require__("./node_modules/graphlib/lib/alg/tarjan.js"),topsort:__webpack_require__("./node_modules/graphlib/lib/alg/topsort.js")}},"./node_modules/graphlib/lib/alg/is-acyclic.js":(module,__unused_webpack_exports,__webpack_require__)=>{var topsort=__webpack_require__("./node_modules/graphlib/lib/alg/topsort.js");module.exports=function isAcyclic(g){try{topsort(g)}catch(e){if(e instanceof topsort.CycleException)return!1;throw e}return!0}},"./node_modules/graphlib/lib/alg/postorder.js":(module,__unused_webpack_exports,__webpack_require__)=>{var dfs=__webpack_require__("./node_modules/graphlib/lib/alg/dfs.js");module.exports=function postorder(g,vs){return dfs(g,vs,"post")}},"./node_modules/graphlib/lib/alg/preorder.js":(module,__unused_webpack_exports,__webpack_require__)=>{var dfs=__webpack_require__("./node_modules/graphlib/lib/alg/dfs.js");module.exports=function preorder(g,vs){return dfs(g,vs,"pre")}},"./node_modules/graphlib/lib/alg/prim.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/graphlib/lib/lodash.js"),Graph=__webpack_require__("./node_modules/graphlib/lib/graph.js"),PriorityQueue=__webpack_require__("./node_modules/graphlib/lib/data/priority-queue.js");module.exports=function prim(g,weightFunc){var v,result=new Graph,parents={},pq=new PriorityQueue;function updateNeighbors(edge){var w=edge.v===v?edge.w:edge.v,pri=pq.priority(w);if(void 0!==pri){var edgeWeight=weightFunc(edge);edgeWeight<pri&&(parents[w]=v,pq.decrease(w,edgeWeight))}}if(0===g.nodeCount())return result;_.each(g.nodes(),(function(v){pq.add(v,Number.POSITIVE_INFINITY),result.setNode(v)})),pq.decrease(g.nodes()[0],0);var init=!1;for(;pq.size()>0;){if(v=pq.removeMin(),_.has(parents,v))result.setEdge(v,parents[v]);else{if(init)throw new Error("Input graph is not connected: "+g);init=!0}g.nodeEdges(v).forEach(updateNeighbors)}return result}},"./node_modules/graphlib/lib/alg/tarjan.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/graphlib/lib/lodash.js");module.exports=function tarjan(g){var index=0,stack=[],visited={},results=[];function dfs(v){var entry=visited[v]={onStack:!0,lowlink:index,index:index++};if(stack.push(v),g.successors(v).forEach((function(w){_.has(visited,w)?visited[w].onStack&&(entry.lowlink=Math.min(entry.lowlink,visited[w].index)):(dfs(w),entry.lowlink=Math.min(entry.lowlink,visited[w].lowlink))})),entry.lowlink===entry.index){var w,cmpt=[];do{w=stack.pop(),visited[w].onStack=!1,cmpt.push(w)}while(v!==w);results.push(cmpt)}}return g.nodes().forEach((function(v){_.has(visited,v)||dfs(v)})),results}},"./node_modules/graphlib/lib/alg/topsort.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/graphlib/lib/lodash.js");function topsort(g){var visited={},stack={},results=[];if(_.each(g.sinks(),(function visit(node){if(_.has(stack,node))throw new CycleException;_.has(visited,node)||(stack[node]=!0,visited[node]=!0,_.each(g.predecessors(node),visit),delete stack[node],results.push(node))})),_.size(visited)!==g.nodeCount())throw new CycleException;return results}function CycleException(){}module.exports=topsort,topsort.CycleException=CycleException,CycleException.prototype=new Error},"./node_modules/graphlib/lib/data/priority-queue.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/graphlib/lib/lodash.js");function PriorityQueue(){this._arr=[],this._keyIndices={}}module.exports=PriorityQueue,PriorityQueue.prototype.size=function(){return this._arr.length},PriorityQueue.prototype.keys=function(){return this._arr.map((function(x){return x.key}))},PriorityQueue.prototype.has=function(key){return _.has(this._keyIndices,key)},PriorityQueue.prototype.priority=function(key){var index=this._keyIndices[key];if(void 0!==index)return this._arr[index].priority},PriorityQueue.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},PriorityQueue.prototype.add=function(key,priority){var keyIndices=this._keyIndices;if(key=String(key),!_.has(keyIndices,key)){var arr=this._arr,index=arr.length;return keyIndices[key]=index,arr.push({key,priority}),this._decrease(index),!0}return!1},PriorityQueue.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var min=this._arr.pop();return delete this._keyIndices[min.key],this._heapify(0),min.key},PriorityQueue.prototype.decrease=function(key,priority){var index=this._keyIndices[key];if(priority>this._arr[index].priority)throw new Error("New priority is greater than current priority. Key: "+key+" Old: "+this._arr[index].priority+" New: "+priority);this._arr[index].priority=priority,this._decrease(index)},PriorityQueue.prototype._heapify=function(i){var arr=this._arr,l=2*i,r=l+1,largest=i;l<arr.length&&(largest=arr[l].priority<arr[largest].priority?l:largest,r<arr.length&&(largest=arr[r].priority<arr[largest].priority?r:largest),largest!==i&&(this._swap(i,largest),this._heapify(largest)))},PriorityQueue.prototype._decrease=function(index){for(var parent,arr=this._arr,priority=arr[index].priority;0!==index&&!(arr[parent=index>>1].priority<priority);)this._swap(index,parent),index=parent},PriorityQueue.prototype._swap=function(i,j){var arr=this._arr,keyIndices=this._keyIndices,origArrI=arr[i],origArrJ=arr[j];arr[i]=origArrJ,arr[j]=origArrI,keyIndices[origArrJ.key]=i,keyIndices[origArrI.key]=j}},"./node_modules/graphlib/lib/graph.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _=__webpack_require__("./node_modules/graphlib/lib/lodash.js");module.exports=Graph;var DEFAULT_EDGE_NAME="\0",GRAPH_NODE="\0",EDGE_KEY_DELIM="";function Graph(opts){this._isDirected=!_.has(opts,"directed")||opts.directed,this._isMultigraph=!!_.has(opts,"multigraph")&&opts.multigraph,this._isCompound=!!_.has(opts,"compound")&&opts.compound,this._label=void 0,this._defaultNodeLabelFn=_.constant(void 0),this._defaultEdgeLabelFn=_.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[GRAPH_NODE]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function incrementOrInitEntry(map,k){map[k]?map[k]++:map[k]=1}function decrementOrRemoveEntry(map,k){--map[k]||delete map[k]}function edgeArgsToId(isDirected,v_,w_,name){var v=""+v_,w=""+w_;if(!isDirected&&v>w){var tmp=v;v=w,w=tmp}return v+EDGE_KEY_DELIM+w+EDGE_KEY_DELIM+(_.isUndefined(name)?DEFAULT_EDGE_NAME:name)}function edgeObjToId(isDirected,edgeObj){return edgeArgsToId(isDirected,edgeObj.v,edgeObj.w,edgeObj.name)}Graph.prototype._nodeCount=0,Graph.prototype._edgeCount=0,Graph.prototype.isDirected=function(){return this._isDirected},Graph.prototype.isMultigraph=function(){return this._isMultigraph},Graph.prototype.isCompound=function(){return this._isCompound},Graph.prototype.setGraph=function(label){return this._label=label,this},Graph.prototype.graph=function(){return this._label},Graph.prototype.setDefaultNodeLabel=function(newDefault){return _.isFunction(newDefault)||(newDefault=_.constant(newDefault)),this._defaultNodeLabelFn=newDefault,this},Graph.prototype.nodeCount=function(){return this._nodeCount},Graph.prototype.nodes=function(){return _.keys(this._nodes)},Graph.prototype.sources=function(){var self=this;return _.filter(this.nodes(),(function(v){return _.isEmpty(self._in[v])}))},Graph.prototype.sinks=function(){var self=this;return _.filter(this.nodes(),(function(v){return _.isEmpty(self._out[v])}))},Graph.prototype.setNodes=function(vs,value){var args=arguments,self=this;return _.each(vs,(function(v){args.length>1?self.setNode(v,value):self.setNode(v)})),this},Graph.prototype.setNode=function(v,value){return _.has(this._nodes,v)?(arguments.length>1&&(this._nodes[v]=value),this):(this._nodes[v]=arguments.length>1?value:this._defaultNodeLabelFn(v),this._isCompound&&(this._parent[v]=GRAPH_NODE,this._children[v]={},this._children[GRAPH_NODE][v]=!0),this._in[v]={},this._preds[v]={},this._out[v]={},this._sucs[v]={},++this._nodeCount,this)},Graph.prototype.node=function(v){return this._nodes[v]},Graph.prototype.hasNode=function(v){return _.has(this._nodes,v)},Graph.prototype.removeNode=function(v){var self=this;if(_.has(this._nodes,v)){var removeEdge=function(e){self.removeEdge(self._edgeObjs[e])};delete this._nodes[v],this._isCompound&&(this._removeFromParentsChildList(v),delete this._parent[v],_.each(this.children(v),(function(child){self.setParent(child)})),delete this._children[v]),_.each(_.keys(this._in[v]),removeEdge),delete this._in[v],delete this._preds[v],_.each(_.keys(this._out[v]),removeEdge),delete this._out[v],delete this._sucs[v],--this._nodeCount}return this},Graph.prototype.setParent=function(v,parent){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(_.isUndefined(parent))parent=GRAPH_NODE;else{for(var ancestor=parent+="";!_.isUndefined(ancestor);ancestor=this.parent(ancestor))if(ancestor===v)throw new Error("Setting "+parent+" as parent of "+v+" would create a cycle");this.setNode(parent)}return this.setNode(v),this._removeFromParentsChildList(v),this._parent[v]=parent,this._children[parent][v]=!0,this},Graph.prototype._removeFromParentsChildList=function(v){delete this._children[this._parent[v]][v]},Graph.prototype.parent=function(v){if(this._isCompound){var parent=this._parent[v];if(parent!==GRAPH_NODE)return parent}},Graph.prototype.children=function(v){if(_.isUndefined(v)&&(v=GRAPH_NODE),this._isCompound){var children=this._children[v];if(children)return _.keys(children)}else{if(v===GRAPH_NODE)return this.nodes();if(this.hasNode(v))return[]}},Graph.prototype.predecessors=function(v){var predsV=this._preds[v];if(predsV)return _.keys(predsV)},Graph.prototype.successors=function(v){var sucsV=this._sucs[v];if(sucsV)return _.keys(sucsV)},Graph.prototype.neighbors=function(v){var preds=this.predecessors(v);if(preds)return _.union(preds,this.successors(v))},Graph.prototype.isLeaf=function(v){return 0===(this.isDirected()?this.successors(v):this.neighbors(v)).length},Graph.prototype.filterNodes=function(filter){var copy=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});copy.setGraph(this.graph());var self=this;_.each(this._nodes,(function(value,v){filter(v)&&copy.setNode(v,value)})),_.each(this._edgeObjs,(function(e){copy.hasNode(e.v)&&copy.hasNode(e.w)&&copy.setEdge(e,self.edge(e))}));var parents={};function findParent(v){var parent=self.parent(v);return void 0===parent||copy.hasNode(parent)?(parents[v]=parent,parent):parent in parents?parents[parent]:findParent(parent)}return this._isCompound&&_.each(copy.nodes(),(function(v){copy.setParent(v,findParent(v))})),copy},Graph.prototype.setDefaultEdgeLabel=function(newDefault){return _.isFunction(newDefault)||(newDefault=_.constant(newDefault)),this._defaultEdgeLabelFn=newDefault,this},Graph.prototype.edgeCount=function(){return this._edgeCount},Graph.prototype.edges=function(){return _.values(this._edgeObjs)},Graph.prototype.setPath=function(vs,value){var self=this,args=arguments;return _.reduce(vs,(function(v,w){return args.length>1?self.setEdge(v,w,value):self.setEdge(v,w),w})),this},Graph.prototype.setEdge=function(){var v,w,name,value,valueSpecified=!1,arg0=arguments[0];"object"==typeof arg0&&null!==arg0&&"v"in arg0?(v=arg0.v,w=arg0.w,name=arg0.name,2===arguments.length&&(value=arguments[1],valueSpecified=!0)):(v=arg0,w=arguments[1],name=arguments[3],arguments.length>2&&(value=arguments[2],valueSpecified=!0)),v=""+v,w=""+w,_.isUndefined(name)||(name=""+name);var e=edgeArgsToId(this._isDirected,v,w,name);if(_.has(this._edgeLabels,e))return valueSpecified&&(this._edgeLabels[e]=value),this;if(!_.isUndefined(name)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(v),this.setNode(w),this._edgeLabels[e]=valueSpecified?value:this._defaultEdgeLabelFn(v,w,name);var edgeObj=function edgeArgsToObj(isDirected,v_,w_,name){var v=""+v_,w=""+w_;if(!isDirected&&v>w){var tmp=v;v=w,w=tmp}var edgeObj={v,w};name&&(edgeObj.name=name);return edgeObj}(this._isDirected,v,w,name);return v=edgeObj.v,w=edgeObj.w,Object.freeze(edgeObj),this._edgeObjs[e]=edgeObj,incrementOrInitEntry(this._preds[w],v),incrementOrInitEntry(this._sucs[v],w),this._in[w][e]=edgeObj,this._out[v][e]=edgeObj,this._edgeCount++,this},Graph.prototype.edge=function(v,w,name){var e=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,v,w,name);return this._edgeLabels[e]},Graph.prototype.hasEdge=function(v,w,name){var e=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,v,w,name);return _.has(this._edgeLabels,e)},Graph.prototype.removeEdge=function(v,w,name){var e=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,v,w,name),edge=this._edgeObjs[e];return edge&&(v=edge.v,w=edge.w,delete this._edgeLabels[e],delete this._edgeObjs[e],decrementOrRemoveEntry(this._preds[w],v),decrementOrRemoveEntry(this._sucs[v],w),delete this._in[w][e],delete this._out[v][e],this._edgeCount--),this},Graph.prototype.inEdges=function(v,u){var inV=this._in[v];if(inV){var edges=_.values(inV);return u?_.filter(edges,(function(edge){return edge.v===u})):edges}},Graph.prototype.outEdges=function(v,w){var outV=this._out[v];if(outV){var edges=_.values(outV);return w?_.filter(edges,(function(edge){return edge.w===w})):edges}},Graph.prototype.nodeEdges=function(v,w){var inEdges=this.inEdges(v,w);if(inEdges)return inEdges.concat(this.outEdges(v,w))}},"./node_modules/graphlib/lib/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports={Graph:__webpack_require__("./node_modules/graphlib/lib/graph.js"),version:__webpack_require__("./node_modules/graphlib/lib/version.js")}},"./node_modules/graphlib/lib/json.js":(module,__unused_webpack_exports,__webpack_require__)=>{var _=__webpack_require__("./node_modules/graphlib/lib/lodash.js"),Graph=__webpack_require__("./node_modules/graphlib/lib/graph.js");function writeNodes(g){return _.map(g.nodes(),(function(v){var nodeValue=g.node(v),parent=g.parent(v),node={v};return _.isUndefined(nodeValue)||(node.value=nodeValue),_.isUndefined(parent)||(node.parent=parent),node}))}function writeEdges(g){return _.map(g.edges(),(function(e){var edgeValue=g.edge(e),edge={v:e.v,w:e.w};return _.isUndefined(e.name)||(edge.name=e.name),_.isUndefined(edgeValue)||(edge.value=edgeValue),edge}))}module.exports={write:function write(g){var json={options:{directed:g.isDirected(),multigraph:g.isMultigraph(),compound:g.isCompound()},nodes:writeNodes(g),edges:writeEdges(g)};_.isUndefined(g.graph())||(json.value=_.clone(g.graph()));return json},read:function read(json){var g=new Graph(json.options).setGraph(json.value);return _.each(json.nodes,(function(entry){g.setNode(entry.v,entry.value),entry.parent&&g.setParent(entry.v,entry.parent)})),_.each(json.edges,(function(entry){g.setEdge({v:entry.v,w:entry.w,name:entry.name},entry.value)})),g}}},"./node_modules/graphlib/lib/lodash.js":(module,__unused_webpack_exports,__webpack_require__)=>{var lodash;try{lodash={clone:__webpack_require__("./node_modules/lodash/clone.js"),constant:__webpack_require__("./node_modules/lodash/constant.js"),each:__webpack_require__("./node_modules/lodash/each.js"),filter:__webpack_require__("./node_modules/lodash/filter.js"),has:__webpack_require__("./node_modules/lodash/has.js"),isArray:__webpack_require__("./node_modules/lodash/isArray.js"),isEmpty:__webpack_require__("./node_modules/lodash/isEmpty.js"),isFunction:__webpack_require__("./node_modules/lodash/isFunction.js"),isUndefined:__webpack_require__("./node_modules/lodash/isUndefined.js"),keys:__webpack_require__("./node_modules/lodash/keys.js"),map:__webpack_require__("./node_modules/lodash/map.js"),reduce:__webpack_require__("./node_modules/lodash/reduce.js"),size:__webpack_require__("./node_modules/lodash/size.js"),transform:__webpack_require__("./node_modules/lodash/transform.js"),union:__webpack_require__("./node_modules/lodash/union.js"),values:__webpack_require__("./node_modules/lodash/values.js")}}catch(e){}lodash||(lodash=window._),module.exports=lodash},"./node_modules/graphlib/lib/version.js":module=>{module.exports="2.1.8"},"./node_modules/lodash/_apply.js":module=>{module.exports=function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}},"./node_modules/lodash/_arrayReduce.js":module=>{module.exports=function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}},"./node_modules/lodash/_asciiSize.js":(module,__unused_webpack_exports,__webpack_require__)=>{var asciiSize=__webpack_require__("./node_modules/lodash/_baseProperty.js")("length");module.exports=asciiSize},"./node_modules/lodash/_assignMergeValue.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseAssignValue=__webpack_require__("./node_modules/lodash/_baseAssignValue.js"),eq=__webpack_require__("./node_modules/lodash/eq.js");module.exports=function assignMergeValue(object,key,value){(void 0!==value&&!eq(object[key],value)||void 0===value&&!(key in object))&&baseAssignValue(object,key,value)}},"./node_modules/lodash/_baseEach.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseForOwn=__webpack_require__("./node_modules/lodash/_baseForOwn.js"),baseEach=__webpack_require__("./node_modules/lodash/_createBaseEach.js")(baseForOwn);module.exports=baseEach},"./node_modules/lodash/_baseExtremum.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isSymbol=__webpack_require__("./node_modules/lodash/isSymbol.js");module.exports=function baseExtremum(array,iteratee,comparator){for(var index=-1,length=array.length;++index<length;){var value=array[index],current=iteratee(value);if(null!=current&&(void 0===computed?current==current&&!isSymbol(current):comparator(current,computed)))var computed=current,result=value}return result}},"./node_modules/lodash/_baseFilter.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseEach=__webpack_require__("./node_modules/lodash/_baseEach.js");module.exports=function baseFilter(collection,predicate){var result=[];return baseEach(collection,(function(value,index,collection){predicate(value,index,collection)&&result.push(value)})),result}},"./node_modules/lodash/_baseFlatten.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayPush=__webpack_require__("./node_modules/lodash/_arrayPush.js"),isFlattenable=__webpack_require__("./node_modules/lodash/_isFlattenable.js");module.exports=function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}},"./node_modules/lodash/_baseGt.js":module=>{module.exports=function baseGt(value,other){return value>other}},"./node_modules/lodash/_baseHas.js":module=>{var hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function baseHas(object,key){return null!=object&&hasOwnProperty.call(object,key)}},"./node_modules/lodash/_baseLt.js":module=>{module.exports=function baseLt(value,other){return value<other}},"./node_modules/lodash/_baseMap.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseEach=__webpack_require__("./node_modules/lodash/_baseEach.js"),isArrayLike=__webpack_require__("./node_modules/lodash/isArrayLike.js");module.exports=function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,(function(value,key,collection){result[++index]=iteratee(value,key,collection)})),result}},"./node_modules/lodash/_baseMerge.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Stack=__webpack_require__("./node_modules/lodash/_Stack.js"),assignMergeValue=__webpack_require__("./node_modules/lodash/_assignMergeValue.js"),baseFor=__webpack_require__("./node_modules/lodash/_baseFor.js"),baseMergeDeep=__webpack_require__("./node_modules/lodash/_baseMergeDeep.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js"),keysIn=__webpack_require__("./node_modules/lodash/keysIn.js"),safeGet=__webpack_require__("./node_modules/lodash/_safeGet.js");module.exports=function baseMerge(object,source,srcIndex,customizer,stack){object!==source&&baseFor(source,(function(srcValue,key){if(stack||(stack=new Stack),isObject(srcValue))baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):void 0;void 0===newValue&&(newValue=srcValue),assignMergeValue(object,key,newValue)}}),keysIn)}},"./node_modules/lodash/_baseMergeDeep.js":(module,__unused_webpack_exports,__webpack_require__)=>{var assignMergeValue=__webpack_require__("./node_modules/lodash/_assignMergeValue.js"),cloneBuffer=__webpack_require__("./node_modules/lodash/_cloneBuffer.js"),cloneTypedArray=__webpack_require__("./node_modules/lodash/_cloneTypedArray.js"),copyArray=__webpack_require__("./node_modules/lodash/_copyArray.js"),initCloneObject=__webpack_require__("./node_modules/lodash/_initCloneObject.js"),isArguments=__webpack_require__("./node_modules/lodash/isArguments.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isArrayLikeObject=__webpack_require__("./node_modules/lodash/isArrayLikeObject.js"),isBuffer=__webpack_require__("./node_modules/lodash/isBuffer.js"),isFunction=__webpack_require__("./node_modules/lodash/isFunction.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js"),isPlainObject=__webpack_require__("./node_modules/lodash/isPlainObject.js"),isTypedArray=__webpack_require__("./node_modules/lodash/isTypedArray.js"),safeGet=__webpack_require__("./node_modules/lodash/_safeGet.js"),toPlainObject=__webpack_require__("./node_modules/lodash/toPlainObject.js");module.exports=function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked)assignMergeValue(object,key,stacked);else{var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):void 0,isCommon=void 0===newValue;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue,isArr||isBuff||isTyped?isArray(objValue)?newValue=objValue:isArrayLikeObject(objValue)?newValue=copyArray(objValue):isBuff?(isCommon=!1,newValue=cloneBuffer(srcValue,!0)):isTyped?(isCommon=!1,newValue=cloneTypedArray(srcValue,!0)):newValue=[]:isPlainObject(srcValue)||isArguments(srcValue)?(newValue=objValue,isArguments(objValue)?newValue=toPlainObject(objValue):isObject(objValue)&&!isFunction(objValue)||(newValue=initCloneObject(srcValue))):isCommon=!1}isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack.delete(srcValue)),assignMergeValue(object,key,newValue)}}},"./node_modules/lodash/_baseOrderBy.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayMap=__webpack_require__("./node_modules/lodash/_arrayMap.js"),baseGet=__webpack_require__("./node_modules/lodash/_baseGet.js"),baseIteratee=__webpack_require__("./node_modules/lodash/_baseIteratee.js"),baseMap=__webpack_require__("./node_modules/lodash/_baseMap.js"),baseSortBy=__webpack_require__("./node_modules/lodash/_baseSortBy.js"),baseUnary=__webpack_require__("./node_modules/lodash/_baseUnary.js"),compareMultiple=__webpack_require__("./node_modules/lodash/_compareMultiple.js"),identity=__webpack_require__("./node_modules/lodash/identity.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js");module.exports=function baseOrderBy(collection,iteratees,orders){iteratees=iteratees.length?arrayMap(iteratees,(function(iteratee){return isArray(iteratee)?function(value){return baseGet(value,1===iteratee.length?iteratee[0]:iteratee)}:iteratee})):[identity];var index=-1;iteratees=arrayMap(iteratees,baseUnary(baseIteratee));var result=baseMap(collection,(function(value,key,collection){return{criteria:arrayMap(iteratees,(function(iteratee){return iteratee(value)})),index:++index,value}}));return baseSortBy(result,(function(object,other){return compareMultiple(object,other,orders)}))}},"./node_modules/lodash/_basePick.js":(module,__unused_webpack_exports,__webpack_require__)=>{var basePickBy=__webpack_require__("./node_modules/lodash/_basePickBy.js"),hasIn=__webpack_require__("./node_modules/lodash/hasIn.js");module.exports=function basePick(object,paths){return basePickBy(object,paths,(function(value,path){return hasIn(object,path)}))}},"./node_modules/lodash/_baseRange.js":module=>{var nativeCeil=Math.ceil,nativeMax=Math.max;module.exports=function baseRange(start,end,step,fromRight){for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);length--;)result[fromRight?length:++index]=start,start+=step;return result}},"./node_modules/lodash/_baseReduce.js":module=>{module.exports=function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){return eachFunc(collection,(function(value,index,collection){accumulator=initAccum?(initAccum=!1,value):iteratee(accumulator,value,index,collection)})),accumulator}},"./node_modules/lodash/_baseRest.js":(module,__unused_webpack_exports,__webpack_require__)=>{var identity=__webpack_require__("./node_modules/lodash/identity.js"),overRest=__webpack_require__("./node_modules/lodash/_overRest.js"),setToString=__webpack_require__("./node_modules/lodash/_setToString.js");module.exports=function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}},"./node_modules/lodash/_baseSetToString.js":(module,__unused_webpack_exports,__webpack_require__)=>{var constant=__webpack_require__("./node_modules/lodash/constant.js"),defineProperty=__webpack_require__("./node_modules/lodash/_defineProperty.js"),identity=__webpack_require__("./node_modules/lodash/identity.js"),baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity;module.exports=baseSetToString},"./node_modules/lodash/_baseSortBy.js":module=>{module.exports=function baseSortBy(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}},"./node_modules/lodash/_baseTrim.js":(module,__unused_webpack_exports,__webpack_require__)=>{var trimmedEndIndex=__webpack_require__("./node_modules/lodash/_trimmedEndIndex.js"),reTrimStart=/^\s+/;module.exports=function baseTrim(string){return string?string.slice(0,trimmedEndIndex(string)+1).replace(reTrimStart,""):string}},"./node_modules/lodash/_baseValues.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayMap=__webpack_require__("./node_modules/lodash/_arrayMap.js");module.exports=function baseValues(object,props){return arrayMap(props,(function(key){return object[key]}))}},"./node_modules/lodash/_baseZipObject.js":module=>{module.exports=function baseZipObject(props,values,assignFunc){for(var index=-1,length=props.length,valsLength=values.length,result={};++index<length;){var value=index<valsLength?values[index]:void 0;assignFunc(result,props[index],value)}return result}},"./node_modules/lodash/_castFunction.js":(module,__unused_webpack_exports,__webpack_require__)=>{var identity=__webpack_require__("./node_modules/lodash/identity.js");module.exports=function castFunction(value){return"function"==typeof value?value:identity}},"./node_modules/lodash/_compareAscending.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isSymbol=__webpack_require__("./node_modules/lodash/isSymbol.js");module.exports=function compareAscending(value,other){if(value!==other){var valIsDefined=void 0!==value,valIsNull=null===value,valIsReflexive=value==value,valIsSymbol=isSymbol(value),othIsDefined=void 0!==other,othIsNull=null===other,othIsReflexive=other==other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0}},"./node_modules/lodash/_compareMultiple.js":(module,__unused_webpack_exports,__webpack_require__)=>{var compareAscending=__webpack_require__("./node_modules/lodash/_compareAscending.js");module.exports=function compareMultiple(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result)return index>=ordersLength?result:result*("desc"==orders[index]?-1:1)}return object.index-other.index}},"./node_modules/lodash/_createAssigner.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseRest=__webpack_require__("./node_modules/lodash/_baseRest.js"),isIterateeCall=__webpack_require__("./node_modules/lodash/_isIterateeCall.js");module.exports=function createAssigner(assigner){return baseRest((function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:void 0,guard=length>2?sources[2]:void 0;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):void 0,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?void 0:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object}))}},"./node_modules/lodash/_createBaseEach.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isArrayLike=__webpack_require__("./node_modules/lodash/isArrayLike.js");module.exports=function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}},"./node_modules/lodash/_createFind.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseIteratee=__webpack_require__("./node_modules/lodash/_baseIteratee.js"),isArrayLike=__webpack_require__("./node_modules/lodash/isArrayLike.js"),keys=__webpack_require__("./node_modules/lodash/keys.js");module.exports=function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=baseIteratee(predicate,3);collection=keys(collection),predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:void 0}}},"./node_modules/lodash/_createRange.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseRange=__webpack_require__("./node_modules/lodash/_baseRange.js"),isIterateeCall=__webpack_require__("./node_modules/lodash/_isIterateeCall.js"),toFinite=__webpack_require__("./node_modules/lodash/toFinite.js");module.exports=function createRange(fromRight){return function(start,end,step){return step&&"number"!=typeof step&&isIterateeCall(start,end,step)&&(end=step=void 0),start=toFinite(start),void 0===end?(end=start,start=0):end=toFinite(end),step=void 0===step?start<end?1:-1:toFinite(step),baseRange(start,end,step,fromRight)}}},"./node_modules/lodash/_flatRest.js":(module,__unused_webpack_exports,__webpack_require__)=>{var flatten=__webpack_require__("./node_modules/lodash/flatten.js"),overRest=__webpack_require__("./node_modules/lodash/_overRest.js"),setToString=__webpack_require__("./node_modules/lodash/_setToString.js");module.exports=function flatRest(func){return setToString(overRest(func,void 0,flatten),func+"")}},"./node_modules/lodash/_hasUnicode.js":module=>{var reHasUnicode=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");module.exports=function hasUnicode(string){return reHasUnicode.test(string)}},"./node_modules/lodash/_isFlattenable.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Symbol=__webpack_require__("./node_modules/lodash/_Symbol.js"),isArguments=__webpack_require__("./node_modules/lodash/isArguments.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),spreadableSymbol=Symbol?Symbol.isConcatSpreadable:void 0;module.exports=function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}},"./node_modules/lodash/_isIterateeCall.js":(module,__unused_webpack_exports,__webpack_require__)=>{var eq=__webpack_require__("./node_modules/lodash/eq.js"),isArrayLike=__webpack_require__("./node_modules/lodash/isArrayLike.js"),isIndex=__webpack_require__("./node_modules/lodash/_isIndex.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js");module.exports=function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}},"./node_modules/lodash/_overRest.js":(module,__unused_webpack_exports,__webpack_require__)=>{var apply=__webpack_require__("./node_modules/lodash/_apply.js"),nativeMax=Math.max;module.exports=function overRest(func,start,transform){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}},"./node_modules/lodash/_safeGet.js":module=>{module.exports=function safeGet(object,key){if(("constructor"!==key||"function"!=typeof object[key])&&"__proto__"!=key)return object[key]}},"./node_modules/lodash/_setToString.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseSetToString=__webpack_require__("./node_modules/lodash/_baseSetToString.js"),setToString=__webpack_require__("./node_modules/lodash/_shortOut.js")(baseSetToString);module.exports=setToString},"./node_modules/lodash/_shortOut.js":module=>{var nativeNow=Date.now;module.exports=function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=16-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=800)return arguments[0]}else count=0;return func.apply(void 0,arguments)}}},"./node_modules/lodash/_stringSize.js":(module,__unused_webpack_exports,__webpack_require__)=>{var asciiSize=__webpack_require__("./node_modules/lodash/_asciiSize.js"),hasUnicode=__webpack_require__("./node_modules/lodash/_hasUnicode.js"),unicodeSize=__webpack_require__("./node_modules/lodash/_unicodeSize.js");module.exports=function stringSize(string){return hasUnicode(string)?unicodeSize(string):asciiSize(string)}},"./node_modules/lodash/_trimmedEndIndex.js":module=>{var reWhitespace=/\s/;module.exports=function trimmedEndIndex(string){for(var index=string.length;index--&&reWhitespace.test(string.charAt(index)););return index}},"./node_modules/lodash/_unicodeSize.js":module=>{var rsAstral="[\\ud800-\\udfff]",rsCombo="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsNonAstral="[^\\ud800-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",reOptMod="(?:"+rsCombo+"|"+rsFitz+")"+"?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");module.exports=function unicodeSize(string){for(var result=reUnicode.lastIndex=0;reUnicode.test(string);)++result;return result}},"./node_modules/lodash/clone.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseClone=__webpack_require__("./node_modules/lodash/_baseClone.js");module.exports=function clone(value){return baseClone(value,4)}},"./node_modules/lodash/constant.js":module=>{module.exports=function constant(value){return function(){return value}}},"./node_modules/lodash/defaults.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseRest=__webpack_require__("./node_modules/lodash/_baseRest.js"),eq=__webpack_require__("./node_modules/lodash/eq.js"),isIterateeCall=__webpack_require__("./node_modules/lodash/_isIterateeCall.js"),keysIn=__webpack_require__("./node_modules/lodash/keysIn.js"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,defaults=baseRest((function(object,sources){object=Object(object);var index=-1,length=sources.length,guard=length>2?sources[2]:void 0;for(guard&&isIterateeCall(sources[0],sources[1],guard)&&(length=1);++index<length;)for(var source=sources[index],props=keysIn(source),propsIndex=-1,propsLength=props.length;++propsIndex<propsLength;){var key=props[propsIndex],value=object[key];(void 0===value||eq(value,objectProto[key])&&!hasOwnProperty.call(object,key))&&(object[key]=source[key])}return object}));module.exports=defaults},"./node_modules/lodash/each.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/lodash/forEach.js")},"./node_modules/lodash/filter.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayFilter=__webpack_require__("./node_modules/lodash/_arrayFilter.js"),baseFilter=__webpack_require__("./node_modules/lodash/_baseFilter.js"),baseIteratee=__webpack_require__("./node_modules/lodash/_baseIteratee.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js");module.exports=function filter(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,baseIteratee(predicate,3))}},"./node_modules/lodash/find.js":(module,__unused_webpack_exports,__webpack_require__)=>{var find=__webpack_require__("./node_modules/lodash/_createFind.js")(__webpack_require__("./node_modules/lodash/findIndex.js"));module.exports=find},"./node_modules/lodash/findIndex.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseFindIndex=__webpack_require__("./node_modules/lodash/_baseFindIndex.js"),baseIteratee=__webpack_require__("./node_modules/lodash/_baseIteratee.js"),toInteger=__webpack_require__("./node_modules/lodash/toInteger.js"),nativeMax=Math.max;module.exports=function findIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseFindIndex(array,baseIteratee(predicate,3),index)}},"./node_modules/lodash/flatten.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseFlatten=__webpack_require__("./node_modules/lodash/_baseFlatten.js");module.exports=function flatten(array){return(null==array?0:array.length)?baseFlatten(array,1):[]}},"./node_modules/lodash/forEach.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayEach=__webpack_require__("./node_modules/lodash/_arrayEach.js"),baseEach=__webpack_require__("./node_modules/lodash/_baseEach.js"),castFunction=__webpack_require__("./node_modules/lodash/_castFunction.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js");module.exports=function forEach(collection,iteratee){return(isArray(collection)?arrayEach:baseEach)(collection,castFunction(iteratee))}},"./node_modules/lodash/forIn.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseFor=__webpack_require__("./node_modules/lodash/_baseFor.js"),castFunction=__webpack_require__("./node_modules/lodash/_castFunction.js"),keysIn=__webpack_require__("./node_modules/lodash/keysIn.js");module.exports=function forIn(object,iteratee){return null==object?object:baseFor(object,castFunction(iteratee),keysIn)}},"./node_modules/lodash/has.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseHas=__webpack_require__("./node_modules/lodash/_baseHas.js"),hasPath=__webpack_require__("./node_modules/lodash/_hasPath.js");module.exports=function has(object,path){return null!=object&&hasPath(object,path,baseHas)}},"./node_modules/lodash/isArrayLikeObject.js":(module,__unused_webpack_exports,__webpack_require__)=>{var isArrayLike=__webpack_require__("./node_modules/lodash/isArrayLike.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js");module.exports=function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}},"./node_modules/lodash/isEmpty.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseKeys=__webpack_require__("./node_modules/lodash/_baseKeys.js"),getTag=__webpack_require__("./node_modules/lodash/_getTag.js"),isArguments=__webpack_require__("./node_modules/lodash/isArguments.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isArrayLike=__webpack_require__("./node_modules/lodash/isArrayLike.js"),isBuffer=__webpack_require__("./node_modules/lodash/isBuffer.js"),isPrototype=__webpack_require__("./node_modules/lodash/_isPrototype.js"),isTypedArray=__webpack_require__("./node_modules/lodash/isTypedArray.js"),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function isEmpty(value){if(null==value)return!0;if(isArrayLike(value)&&(isArray(value)||"string"==typeof value||"function"==typeof value.splice||isBuffer(value)||isTypedArray(value)||isArguments(value)))return!value.length;var tag=getTag(value);if("[object Map]"==tag||"[object Set]"==tag)return!value.size;if(isPrototype(value))return!baseKeys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0}},"./node_modules/lodash/isPlainObject.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseGetTag=__webpack_require__("./node_modules/lodash/_baseGetTag.js"),getPrototype=__webpack_require__("./node_modules/lodash/_getPrototype.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js"),funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);module.exports=function isPlainObject(value){if(!isObjectLike(value)||"[object Object]"!=baseGetTag(value))return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}},"./node_modules/lodash/isString.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseGetTag=__webpack_require__("./node_modules/lodash/_baseGetTag.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isObjectLike=__webpack_require__("./node_modules/lodash/isObjectLike.js");module.exports=function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&"[object String]"==baseGetTag(value)}},"./node_modules/lodash/isUndefined.js":module=>{module.exports=function isUndefined(value){return void 0===value}},"./node_modules/lodash/last.js":module=>{module.exports=function last(array){var length=null==array?0:array.length;return length?array[length-1]:void 0}},"./node_modules/lodash/map.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayMap=__webpack_require__("./node_modules/lodash/_arrayMap.js"),baseIteratee=__webpack_require__("./node_modules/lodash/_baseIteratee.js"),baseMap=__webpack_require__("./node_modules/lodash/_baseMap.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js");module.exports=function map(collection,iteratee){return(isArray(collection)?arrayMap:baseMap)(collection,baseIteratee(iteratee,3))}},"./node_modules/lodash/max.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseExtremum=__webpack_require__("./node_modules/lodash/_baseExtremum.js"),baseGt=__webpack_require__("./node_modules/lodash/_baseGt.js"),identity=__webpack_require__("./node_modules/lodash/identity.js");module.exports=function max(array){return array&&array.length?baseExtremum(array,identity,baseGt):void 0}},"./node_modules/lodash/merge.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseMerge=__webpack_require__("./node_modules/lodash/_baseMerge.js"),merge=__webpack_require__("./node_modules/lodash/_createAssigner.js")((function(object,source,srcIndex){baseMerge(object,source,srcIndex)}));module.exports=merge},"./node_modules/lodash/min.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseExtremum=__webpack_require__("./node_modules/lodash/_baseExtremum.js"),baseLt=__webpack_require__("./node_modules/lodash/_baseLt.js"),identity=__webpack_require__("./node_modules/lodash/identity.js");module.exports=function min(array){return array&&array.length?baseExtremum(array,identity,baseLt):void 0}},"./node_modules/lodash/minBy.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseExtremum=__webpack_require__("./node_modules/lodash/_baseExtremum.js"),baseIteratee=__webpack_require__("./node_modules/lodash/_baseIteratee.js"),baseLt=__webpack_require__("./node_modules/lodash/_baseLt.js");module.exports=function minBy(array,iteratee){return array&&array.length?baseExtremum(array,baseIteratee(iteratee,2),baseLt):void 0}},"./node_modules/lodash/now.js":(module,__unused_webpack_exports,__webpack_require__)=>{var root=__webpack_require__("./node_modules/lodash/_root.js");module.exports=function(){return root.Date.now()}},"./node_modules/lodash/pick.js":(module,__unused_webpack_exports,__webpack_require__)=>{var basePick=__webpack_require__("./node_modules/lodash/_basePick.js"),pick=__webpack_require__("./node_modules/lodash/_flatRest.js")((function(object,paths){return null==object?{}:basePick(object,paths)}));module.exports=pick},"./node_modules/lodash/range.js":(module,__unused_webpack_exports,__webpack_require__)=>{var range=__webpack_require__("./node_modules/lodash/_createRange.js")();module.exports=range},"./node_modules/lodash/reduce.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayReduce=__webpack_require__("./node_modules/lodash/_arrayReduce.js"),baseEach=__webpack_require__("./node_modules/lodash/_baseEach.js"),baseIteratee=__webpack_require__("./node_modules/lodash/_baseIteratee.js"),baseReduce=__webpack_require__("./node_modules/lodash/_baseReduce.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js");module.exports=function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,baseIteratee(iteratee,4),accumulator,initAccum,baseEach)}},"./node_modules/lodash/size.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseKeys=__webpack_require__("./node_modules/lodash/_baseKeys.js"),getTag=__webpack_require__("./node_modules/lodash/_getTag.js"),isArrayLike=__webpack_require__("./node_modules/lodash/isArrayLike.js"),isString=__webpack_require__("./node_modules/lodash/isString.js"),stringSize=__webpack_require__("./node_modules/lodash/_stringSize.js");module.exports=function size(collection){if(null==collection)return 0;if(isArrayLike(collection))return isString(collection)?stringSize(collection):collection.length;var tag=getTag(collection);return"[object Map]"==tag||"[object Set]"==tag?collection.size:baseKeys(collection).length}},"./node_modules/lodash/sortBy.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseFlatten=__webpack_require__("./node_modules/lodash/_baseFlatten.js"),baseOrderBy=__webpack_require__("./node_modules/lodash/_baseOrderBy.js"),baseRest=__webpack_require__("./node_modules/lodash/_baseRest.js"),isIterateeCall=__webpack_require__("./node_modules/lodash/_isIterateeCall.js"),sortBy=baseRest((function(collection,iteratees){if(null==collection)return[];var length=iteratees.length;return length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])?iteratees=[]:length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])&&(iteratees=[iteratees[0]]),baseOrderBy(collection,baseFlatten(iteratees,1),[])}));module.exports=sortBy},"./node_modules/lodash/toFinite.js":(module,__unused_webpack_exports,__webpack_require__)=>{var toNumber=__webpack_require__("./node_modules/lodash/toNumber.js");module.exports=function toFinite(value){return value?Infinity===(value=toNumber(value))||-Infinity===value?17976931348623157e292*(value<0?-1:1):value==value?value:0:0===value?value:0}},"./node_modules/lodash/toInteger.js":(module,__unused_webpack_exports,__webpack_require__)=>{var toFinite=__webpack_require__("./node_modules/lodash/toFinite.js");module.exports=function toInteger(value){var result=toFinite(value),remainder=result%1;return result==result?remainder?result-remainder:result:0}},"./node_modules/lodash/toNumber.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseTrim=__webpack_require__("./node_modules/lodash/_baseTrim.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js"),isSymbol=__webpack_require__("./node_modules/lodash/isSymbol.js"),reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;module.exports=function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NaN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=baseTrim(value);var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NaN:+value}},"./node_modules/lodash/toPlainObject.js":(module,__unused_webpack_exports,__webpack_require__)=>{var copyObject=__webpack_require__("./node_modules/lodash/_copyObject.js"),keysIn=__webpack_require__("./node_modules/lodash/keysIn.js");module.exports=function toPlainObject(value){return copyObject(value,keysIn(value))}},"./node_modules/lodash/transform.js":(module,__unused_webpack_exports,__webpack_require__)=>{var arrayEach=__webpack_require__("./node_modules/lodash/_arrayEach.js"),baseCreate=__webpack_require__("./node_modules/lodash/_baseCreate.js"),baseForOwn=__webpack_require__("./node_modules/lodash/_baseForOwn.js"),baseIteratee=__webpack_require__("./node_modules/lodash/_baseIteratee.js"),getPrototype=__webpack_require__("./node_modules/lodash/_getPrototype.js"),isArray=__webpack_require__("./node_modules/lodash/isArray.js"),isBuffer=__webpack_require__("./node_modules/lodash/isBuffer.js"),isFunction=__webpack_require__("./node_modules/lodash/isFunction.js"),isObject=__webpack_require__("./node_modules/lodash/isObject.js"),isTypedArray=__webpack_require__("./node_modules/lodash/isTypedArray.js");module.exports=function transform(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);if(iteratee=baseIteratee(iteratee,4),null==accumulator){var Ctor=object&&object.constructor;accumulator=isArrLike?isArr?new Ctor:[]:isObject(object)&&isFunction(Ctor)?baseCreate(getPrototype(object)):{}}return(isArrLike?arrayEach:baseForOwn)(object,(function(value,index,object){return iteratee(accumulator,value,index,object)})),accumulator}},"./node_modules/lodash/union.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseFlatten=__webpack_require__("./node_modules/lodash/_baseFlatten.js"),baseRest=__webpack_require__("./node_modules/lodash/_baseRest.js"),baseUniq=__webpack_require__("./node_modules/lodash/_baseUniq.js"),isArrayLikeObject=__webpack_require__("./node_modules/lodash/isArrayLikeObject.js"),union=baseRest((function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0))}));module.exports=union},"./node_modules/lodash/uniqueId.js":(module,__unused_webpack_exports,__webpack_require__)=>{var toString=__webpack_require__("./node_modules/lodash/toString.js"),idCounter=0;module.exports=function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id}},"./node_modules/lodash/values.js":(module,__unused_webpack_exports,__webpack_require__)=>{var baseValues=__webpack_require__("./node_modules/lodash/_baseValues.js"),keys=__webpack_require__("./node_modules/lodash/keys.js");module.exports=function values(object){return null==object?[]:baseValues(object,keys(object))}},"./node_modules/lodash/zipObject.js":(module,__unused_webpack_exports,__webpack_require__)=>{var assignValue=__webpack_require__("./node_modules/lodash/_assignValue.js"),baseZipObject=__webpack_require__("./node_modules/lodash/_baseZipObject.js");module.exports=function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue)}},"./node_modules/yaml/browser/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Qc:()=>parse});const ALIAS=Symbol.for("yaml.alias"),DOC=Symbol.for("yaml.document"),MAP=Symbol.for("yaml.map"),PAIR=Symbol.for("yaml.pair"),SCALAR=Symbol.for("yaml.scalar"),SEQ=Symbol.for("yaml.seq"),NODE_TYPE=Symbol.for("yaml.node.type"),isAlias=node=>!!node&&"object"==typeof node&&node[NODE_TYPE]===ALIAS,isDocument=node=>!!node&&"object"==typeof node&&node[NODE_TYPE]===DOC,isMap=node=>!!node&&"object"==typeof node&&node[NODE_TYPE]===MAP,isPair=node=>!!node&&"object"==typeof node&&node[NODE_TYPE]===PAIR,isScalar=node=>!!node&&"object"==typeof node&&node[NODE_TYPE]===SCALAR,isSeq=node=>!!node&&"object"==typeof node&&node[NODE_TYPE]===SEQ;function isCollection(node){if(node&&"object"==typeof node)switch(node[NODE_TYPE]){case MAP:case SEQ:return!0}return!1}function isNode(node){if(node&&"object"==typeof node)switch(node[NODE_TYPE]){case ALIAS:case MAP:case SCALAR:case SEQ:return!0}return!1}const hasAnchor=node=>(isScalar(node)||isCollection(node))&&!!node.anchor;var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");const BREAK=Symbol("break visit"),SKIP=Symbol("skip children"),REMOVE=Symbol("remove node");function visit(node,visitor){const visitor_=initVisitor(visitor);if(isDocument(node)){visit_(null,node.contents,visitor_,Object.freeze([node]))===REMOVE&&(node.contents=null)}else visit_(null,node,visitor_,Object.freeze([]))}function visit_(key,node,visitor,path){const ctrl=callVisitor(key,node,visitor,path);if(isNode(ctrl)||isPair(ctrl))return replaceNode(key,path,ctrl),visit_(key,ctrl,visitor,path);if("symbol"!=typeof ctrl)if(isCollection(node)){path=Object.freeze(path.concat(node));for(let i=0;i<node.items.length;++i){const ci=visit_(i,node.items[i],visitor,path);if("number"==typeof ci)i=ci-1;else{if(ci===BREAK)return BREAK;ci===REMOVE&&(node.items.splice(i,1),i-=1)}}}else if(isPair(node)){path=Object.freeze(path.concat(node));const ck=visit_("key",node.key,visitor,path);if(ck===BREAK)return BREAK;ck===REMOVE&&(node.key=null);const cv=visit_("value",node.value,visitor,path);if(cv===BREAK)return BREAK;cv===REMOVE&&(node.value=null)}return ctrl}function visitAsync(_x,_x2){return _visitAsync.apply(this,arguments)}function _visitAsync(){return(_visitAsync=(0,asyncToGenerator.Z)((function*(node,visitor){const visitor_=initVisitor(visitor);if(isDocument(node)){(yield visitAsync_(null,node.contents,visitor_,Object.freeze([node])))===REMOVE&&(node.contents=null)}else yield visitAsync_(null,node,visitor_,Object.freeze([]))}))).apply(this,arguments)}function visitAsync_(_x3,_x4,_x5,_x6){return _visitAsync_.apply(this,arguments)}function _visitAsync_(){return(_visitAsync_=(0,asyncToGenerator.Z)((function*(key,node,visitor,path){const ctrl=yield callVisitor(key,node,visitor,path);if(isNode(ctrl)||isPair(ctrl))return replaceNode(key,path,ctrl),visitAsync_(key,ctrl,visitor,path);if("symbol"!=typeof ctrl)if(isCollection(node)){path=Object.freeze(path.concat(node));for(let i=0;i<node.items.length;++i){const ci=yield visitAsync_(i,node.items[i],visitor,path);if("number"==typeof ci)i=ci-1;else{if(ci===BREAK)return BREAK;ci===REMOVE&&(node.items.splice(i,1),i-=1)}}}else if(isPair(node)){path=Object.freeze(path.concat(node));const ck=yield visitAsync_("key",node.key,visitor,path);if(ck===BREAK)return BREAK;ck===REMOVE&&(node.key=null);const cv=yield visitAsync_("value",node.value,visitor,path);if(cv===BREAK)return BREAK;cv===REMOVE&&(node.value=null)}return ctrl}))).apply(this,arguments)}function initVisitor(visitor){return"object"==typeof visitor&&(visitor.Collection||visitor.Node||visitor.Value)?Object.assign({Alias:visitor.Node,Map:visitor.Node,Scalar:visitor.Node,Seq:visitor.Node},visitor.Value&&{Map:visitor.Value,Scalar:visitor.Value,Seq:visitor.Value},visitor.Collection&&{Map:visitor.Collection,Seq:visitor.Collection},visitor):visitor}function callVisitor(key,node,visitor,path){return"function"==typeof visitor?visitor(key,node,path):isMap(node)?visitor.Map?.(key,node,path):isSeq(node)?visitor.Seq?.(key,node,path):isPair(node)?visitor.Pair?.(key,node,path):isScalar(node)?visitor.Scalar?.(key,node,path):isAlias(node)?visitor.Alias?.(key,node,path):void 0}function replaceNode(key,path,node){const parent=path[path.length-1];if(isCollection(parent))parent.items[key]=node;else if(isPair(parent))"key"===key?parent.key=node:parent.value=node;else{if(!isDocument(parent)){const pt=isAlias(parent)?"alias":"scalar";throw new Error(`Cannot replace node with ${pt} parent`)}parent.contents=node}}visit.BREAK=BREAK,visit.SKIP=SKIP,visit.REMOVE=REMOVE,visitAsync.BREAK=BREAK,visitAsync.SKIP=SKIP,visitAsync.REMOVE=REMOVE;const escapeChars={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"};class Directives{constructor(yaml,tags){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Directives.defaultYaml,yaml),this.tags=Object.assign({},Directives.defaultTags,tags)}clone(){const copy=new Directives(this.yaml,this.tags);return copy.docStart=this.docStart,copy}atDocument(){const res=new Directives(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Directives.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Directives.defaultTags)}return res}add(line,onError){this.atNextDocument&&(this.yaml={explicit:Directives.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Directives.defaultTags),this.atNextDocument=!1);const parts=line.trim().split(/[ \t]+/),name=parts.shift();switch(name){case"%TAG":{if(2!==parts.length&&(onError(0,"%TAG directive should contain exactly two parts"),parts.length<2))return!1;const[handle,prefix]=parts;return this.tags[handle]=prefix,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==parts.length)return onError(0,"%YAML directive should contain exactly one part"),!1;const[version]=parts;if("1.1"===version||"1.2"===version)return this.yaml.version=version,!0;return onError(6,`Unsupported YAML version ${version}`,/^\d+\.\d+$/.test(version)),!1}default:return onError(0,`Unknown directive ${name}`,!0),!1}}tagName(source,onError){if("!"===source)return"!";if("!"!==source[0])return onError(`Not a valid tag: ${source}`),null;if("<"===source[1]){const verbatim=source.slice(2,-1);return"!"===verbatim||"!!"===verbatim?(onError(`Verbatim tags aren't resolved, so ${source} is invalid.`),null):(">"!==source[source.length-1]&&onError("Verbatim tags must end with a >"),verbatim)}const[,handle,suffix]=source.match(/^(.*!)([^!]*)$/s);suffix||onError(`The ${source} tag has no suffix`);const prefix=this.tags[handle];if(prefix)try{return prefix+decodeURIComponent(suffix)}catch(error){return onError(String(error)),null}return"!"===handle?source:(onError(`Could not resolve tag: ${source}`),null)}tagString(tag){for(const[handle,prefix]of Object.entries(this.tags))if(tag.startsWith(prefix))return handle+tag.substring(prefix.length).replace(/[!,[\]{}]/g,(ch=>escapeChars[ch]));return"!"===tag[0]?tag:`!<${tag}>`}toString(doc){const lines=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],tagEntries=Object.entries(this.tags);let tagNames;if(doc&&tagEntries.length>0&&isNode(doc.contents)){const tags={};visit(doc.contents,((_key,node)=>{isNode(node)&&node.tag&&(tags[node.tag]=!0)})),tagNames=Object.keys(tags)}else tagNames=[];for(const[handle,prefix]of tagEntries)"!!"===handle&&"tag:yaml.org,2002:"===prefix||doc&&!tagNames.some((tn=>tn.startsWith(prefix)))||lines.push(`%TAG ${handle} ${prefix}`);return lines.join("\n")}}function anchorIsValid(anchor){if(/[\x00-\x19\s,[\]{}]/.test(anchor)){const sa=JSON.stringify(anchor);throw new Error(`Anchor must not contain whitespace or control characters: ${sa}`)}return!0}function anchorNames(root){const anchors=new Set;return visit(root,{Value(_key,node){node.anchor&&anchors.add(node.anchor)}}),anchors}function findNewAnchor(prefix,exclude){for(let i=1;;++i){const name=`${prefix}${i}`;if(!exclude.has(name))return name}}function applyReviver(reviver,obj,key,val){if(val&&"object"==typeof val)if(Array.isArray(val))for(let i=0,len=val.length;i<len;++i){const v0=val[i],v1=applyReviver(reviver,val,String(i),v0);void 0===v1?delete val[i]:v1!==v0&&(val[i]=v1)}else if(val instanceof Map)for(const k of Array.from(val.keys())){const v0=val.get(k),v1=applyReviver(reviver,val,k,v0);void 0===v1?val.delete(k):v1!==v0&&val.set(k,v1)}else if(val instanceof Set)for(const v0 of Array.from(val)){const v1=applyReviver(reviver,val,v0,v0);void 0===v1?val.delete(v0):v1!==v0&&(val.delete(v0),val.add(v1))}else for(const[k,v0]of Object.entries(val)){const v1=applyReviver(reviver,val,k,v0);void 0===v1?delete val[k]:v1!==v0&&(val[k]=v1)}return reviver.call(obj,key,val)}function toJS(value,arg,ctx){if(Array.isArray(value))return value.map(((v,i)=>toJS(v,String(i),ctx)));if(value&&"function"==typeof value.toJSON){if(!ctx||!hasAnchor(value))return value.toJSON(arg,ctx);const data={aliasCount:0,count:1,res:void 0};ctx.anchors.set(value,data),ctx.onCreate=res=>{data.res=res,delete ctx.onCreate};const res=value.toJSON(arg,ctx);return ctx.onCreate&&ctx.onCreate(res),res}return"bigint"!=typeof value||ctx?.keep?value:Number(value)}Directives.defaultYaml={explicit:!1,version:"1.2"},Directives.defaultTags={"!!":"tag:yaml.org,2002:"};class NodeBase{constructor(type){Object.defineProperty(this,NODE_TYPE,{value:type})}clone(){const copy=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(copy.range=this.range.slice()),copy}toJS(doc,{mapAsMap,maxAliasCount,onAnchor,reviver}={}){if(!isDocument(doc))throw new TypeError("A document argument is required");const ctx={anchors:new Map,doc,keep:!0,mapAsMap:!0===mapAsMap,mapKeyWarned:!1,maxAliasCount:"number"==typeof maxAliasCount?maxAliasCount:100},res=toJS(this,"",ctx);if("function"==typeof onAnchor)for(const{count,res}of ctx.anchors.values())onAnchor(res,count);return"function"==typeof reviver?applyReviver(reviver,{"":res},"",res):res}}class Alias extends NodeBase{constructor(source){super(ALIAS),this.source=source,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(doc){let found;return visit(doc,{Node:(_key,node)=>{if(node===this)return visit.BREAK;node.anchor===this.source&&(found=node)}}),found}toJSON(_arg,ctx){if(!ctx)return{source:this.source};const{anchors,doc,maxAliasCount}=ctx,source=this.resolve(doc);if(!source){const msg=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(msg)}let data=anchors.get(source);if(data||(toJS(source,null,ctx),data=anchors.get(source)),!data||void 0===data.res){throw new ReferenceError("This should not happen: Alias anchor was not resolved?")}if(maxAliasCount>=0&&(data.count+=1,0===data.aliasCount&&(data.aliasCount=getAliasCount(doc,source,anchors)),data.count*data.aliasCount>maxAliasCount)){throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack")}return data.res}toString(ctx,_onComment,_onChompKeep){const src=`*${this.source}`;if(ctx){if(anchorIsValid(this.source),ctx.options.verifyAliasOrder&&!ctx.anchors.has(this.source)){const msg=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(msg)}if(ctx.implicitKey)return`${src} `}return src}}function getAliasCount(doc,node,anchors){if(isAlias(node)){const source=node.resolve(doc),anchor=anchors&&source&&anchors.get(source);return anchor?anchor.count*anchor.aliasCount:0}if(isCollection(node)){let count=0;for(const item of node.items){const c=getAliasCount(doc,item,anchors);c>count&&(count=c)}return count}if(isPair(node)){const kc=getAliasCount(doc,node.key,anchors),vc=getAliasCount(doc,node.value,anchors);return Math.max(kc,vc)}return 1}const isScalarValue=value=>!value||"function"!=typeof value&&"object"!=typeof value;class Scalar extends NodeBase{constructor(value){super(SCALAR),this.value=value}toJSON(arg,ctx){return ctx?.keep?this.value:toJS(this.value,arg,ctx)}toString(){return String(this.value)}}Scalar.BLOCK_FOLDED="BLOCK_FOLDED",Scalar.BLOCK_LITERAL="BLOCK_LITERAL",Scalar.PLAIN="PLAIN",Scalar.QUOTE_DOUBLE="QUOTE_DOUBLE",Scalar.QUOTE_SINGLE="QUOTE_SINGLE";const defaultTagPrefix="tag:yaml.org,2002:";function createNode(value,tagName,ctx){if(isDocument(value)&&(value=value.contents),isNode(value))return value;if(isPair(value)){const map=ctx.schema[MAP].createNode?.(ctx.schema,null,ctx);return map.items.push(value),map}(value instanceof String||value instanceof Number||value instanceof Boolean||"undefined"!=typeof BigInt&&value instanceof BigInt)&&(value=value.valueOf());const{aliasDuplicateObjects,onAnchor,onTagObj,schema,sourceObjects}=ctx;let ref;if(aliasDuplicateObjects&&value&&"object"==typeof value){if(ref=sourceObjects.get(value),ref)return ref.anchor||(ref.anchor=onAnchor(value)),new Alias(ref.anchor);ref={anchor:null,node:null},sourceObjects.set(value,ref)}tagName?.startsWith("!!")&&(tagName=defaultTagPrefix+tagName.slice(2));let tagObj=function findTagObject(value,tagName,tags){if(tagName){const match=tags.filter((t=>t.tag===tagName)),tagObj=match.find((t=>!t.format))??match[0];if(!tagObj)throw new Error(`Tag ${tagName} not found`);return tagObj}return tags.find((t=>t.identify?.(value)&&!t.format))}(value,tagName,schema.tags);if(!tagObj){if(value&&"function"==typeof value.toJSON&&(value=value.toJSON()),!value||"object"!=typeof value){const node=new Scalar(value);return ref&&(ref.node=node),node}tagObj=value instanceof Map?schema[MAP]:Symbol.iterator in Object(value)?schema[SEQ]:schema[MAP]}onTagObj&&(onTagObj(tagObj),delete ctx.onTagObj);const node=tagObj?.createNode?tagObj.createNode(ctx.schema,value,ctx):"function"==typeof tagObj?.nodeClass?.from?tagObj.nodeClass.from(ctx.schema,value,ctx):new Scalar(value);return tagName?node.tag=tagName:tagObj.default||(node.tag=tagObj.tag),ref&&(ref.node=node),node}function collectionFromPath(schema,path,value){let v=value;for(let i=path.length-1;i>=0;--i){const k=path[i];if("number"==typeof k&&Number.isInteger(k)&&k>=0){const a=[];a[k]=v,v=a}else v=new Map([[k,v]])}return createNode(v,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema,sourceObjects:new Map})}const isEmptyPath=path=>null==path||"object"==typeof path&&!!path[Symbol.iterator]().next().done;class Collection extends NodeBase{constructor(type,schema){super(type),Object.defineProperty(this,"schema",{value:schema,configurable:!0,enumerable:!1,writable:!0})}clone(schema){const copy=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return schema&&(copy.schema=schema),copy.items=copy.items.map((it=>isNode(it)||isPair(it)?it.clone(schema):it)),this.range&&(copy.range=this.range.slice()),copy}addIn(path,value){if(isEmptyPath(path))this.add(value);else{const[key,...rest]=path,node=this.get(key,!0);if(isCollection(node))node.addIn(rest,value);else{if(void 0!==node||!this.schema)throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);this.set(key,collectionFromPath(this.schema,rest,value))}}}deleteIn(path){const[key,...rest]=path;if(0===rest.length)return this.delete(key);const node=this.get(key,!0);if(isCollection(node))return node.deleteIn(rest);throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`)}getIn(path,keepScalar){const[key,...rest]=path,node=this.get(key,!0);return 0===rest.length?!keepScalar&&isScalar(node)?node.value:node:isCollection(node)?node.getIn(rest,keepScalar):void 0}hasAllNullValues(allowScalar){return this.items.every((node=>{if(!isPair(node))return!1;const n=node.value;return null==n||allowScalar&&isScalar(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag}))}hasIn(path){const[key,...rest]=path;if(0===rest.length)return this.has(key);const node=this.get(key,!0);return!!isCollection(node)&&node.hasIn(rest)}setIn(path,value){const[key,...rest]=path;if(0===rest.length)this.set(key,value);else{const node=this.get(key,!0);if(isCollection(node))node.setIn(rest,value);else{if(void 0!==node||!this.schema)throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);this.set(key,collectionFromPath(this.schema,rest,value))}}}}Collection.maxFlowStringSingleLineLength=60;const stringifyComment=str=>str.replace(/^(?!$)(?: $)?/gm,"#");function indentComment(comment,indent){return/^\n+$/.test(comment)?comment.substring(1):indent?comment.replace(/^(?! *$)/gm,indent):comment}const lineComment=(str,indent,comment)=>str.endsWith("\n")?indentComment(comment,indent):comment.includes("\n")?"\n"+indentComment(comment,indent):(str.endsWith(" ")?"":" ")+comment,FOLD_FLOW="flow",FOLD_BLOCK="block",FOLD_QUOTED="quoted";function foldFlowLines(text,indent,mode="flow",{indentAtStart,lineWidth=80,minContentWidth=20,onFold,onOverflow}={}){if(!lineWidth||lineWidth<0)return text;const endStep=Math.max(1+minContentWidth,1+lineWidth-indent.length);if(text.length<=endStep)return text;const folds=[],escapedFolds={};let split,prev,end=lineWidth-indent.length;"number"==typeof indentAtStart&&(indentAtStart>lineWidth-Math.max(2,minContentWidth)?folds.push(0):end=lineWidth-indentAtStart);let overflow=!1,i=-1,escStart=-1,escEnd=-1;mode===FOLD_BLOCK&&(i=consumeMoreIndentedLines(text,i),-1!==i&&(end=i+endStep));for(let ch;ch=text[i+=1];){if(mode===FOLD_QUOTED&&"\\"===ch){switch(escStart=i,text[i+1]){case"x":i+=3;break;case"u":i+=5;break;case"U":i+=9;break;default:i+=1}escEnd=i}if("\n"===ch)mode===FOLD_BLOCK&&(i=consumeMoreIndentedLines(text,i)),end=i+endStep,split=void 0;else{if(" "===ch&&prev&&" "!==prev&&"\n"!==prev&&"\t"!==prev){const next=text[i+1];next&&" "!==next&&"\n"!==next&&"\t"!==next&&(split=i)}if(i>=end)if(split)folds.push(split),end=split+endStep,split=void 0;else if(mode===FOLD_QUOTED){for(;" "===prev||"\t"===prev;)prev=ch,ch=text[i+=1],overflow=!0;const j=i>escEnd+1?i-2:escStart-1;if(escapedFolds[j])return text;folds.push(j),escapedFolds[j]=!0,end=j+endStep,split=void 0}else overflow=!0}prev=ch}if(overflow&&onOverflow&&onOverflow(),0===folds.length)return text;onFold&&onFold();let res=text.slice(0,folds[0]);for(let i=0;i<folds.length;++i){const fold=folds[i],end=folds[i+1]||text.length;0===fold?res=`\n${indent}${text.slice(0,end)}`:(mode===FOLD_QUOTED&&escapedFolds[fold]&&(res+=`${text[fold]}\\`),res+=`\n${indent}${text.slice(fold+1,end)}`)}return res}function consumeMoreIndentedLines(text,i){let ch=text[i+1];for(;" "===ch||"\t"===ch;){do{ch=text[i+=1]}while(ch&&"\n"!==ch);ch=text[i+1]}return i}const getFoldOptions=(ctx,isBlock)=>({indentAtStart:isBlock?ctx.indent.length:ctx.indentAtStart,lineWidth:ctx.options.lineWidth,minContentWidth:ctx.options.minContentWidth}),containsDocumentMarker=str=>/^(%|---|\.\.\.)/m.test(str);function doubleQuotedString(value,ctx){const json=JSON.stringify(value);if(ctx.options.doubleQuotedAsJSON)return json;const{implicitKey}=ctx,minMultiLineLength=ctx.options.doubleQuotedMinMultiLineLength,indent=ctx.indent||(containsDocumentMarker(value)?"  ":"");let str="",start=0;for(let i=0,ch=json[i];ch;ch=json[++i])if(" "===ch&&"\\"===json[i+1]&&"n"===json[i+2]&&(str+=json.slice(start,i)+"\\ ",i+=1,start=i,ch="\\"),"\\"===ch)switch(json[i+1]){case"u":{str+=json.slice(start,i);const code=json.substr(i+2,4);switch(code){case"0000":str+="\\0";break;case"0007":str+="\\a";break;case"000b":str+="\\v";break;case"001b":str+="\\e";break;case"0085":str+="\\N";break;case"00a0":str+="\\_";break;case"2028":str+="\\L";break;case"2029":str+="\\P";break;default:"00"===code.substr(0,2)?str+="\\x"+code.substr(2):str+=json.substr(i,6)}i+=5,start=i+1}break;case"n":if(implicitKey||'"'===json[i+2]||json.length<minMultiLineLength)i+=1;else{for(str+=json.slice(start,i)+"\n\n";"\\"===json[i+2]&&"n"===json[i+3]&&'"'!==json[i+4];)str+="\n",i+=2;str+=indent," "===json[i+2]&&(str+="\\"),i+=1,start=i+1}break;default:i+=1}return str=start?str+json.slice(start):json,implicitKey?str:foldFlowLines(str,indent,FOLD_QUOTED,getFoldOptions(ctx,!1))}function singleQuotedString(value,ctx){if(!1===ctx.options.singleQuote||ctx.implicitKey&&value.includes("\n")||/[ \t]\n|\n[ \t]/.test(value))return doubleQuotedString(value,ctx);const indent=ctx.indent||(containsDocumentMarker(value)?"  ":""),res="'"+value.replace(/'/g,"''").replace(/\n+/g,`$&\n${indent}`)+"'";return ctx.implicitKey?res:foldFlowLines(res,indent,FOLD_FLOW,getFoldOptions(ctx,!1))}function quotedString(value,ctx){const{singleQuote}=ctx.options;let qs;if(!1===singleQuote)qs=doubleQuotedString;else{const hasDouble=value.includes('"'),hasSingle=value.includes("'");qs=hasDouble&&!hasSingle?singleQuotedString:hasSingle&&!hasDouble?doubleQuotedString:singleQuote?singleQuotedString:doubleQuotedString}return qs(value,ctx)}let blockEndNewlines;try{blockEndNewlines=new RegExp("(^|(?<!\n))\n+(?!\n|$)","g")}catch{blockEndNewlines=/\n+(?!\n|$)/g}function blockString({comment,type,value},ctx,onComment,onChompKeep){const{blockQuote,commentString,lineWidth}=ctx.options;if(!blockQuote||/\n[\t ]+$/.test(value)||/^\s*$/.test(value))return quotedString(value,ctx);const indent=ctx.indent||(ctx.forceBlockIndent||containsDocumentMarker(value)?"  ":""),literal="literal"===blockQuote||"folded"!==blockQuote&&type!==Scalar.BLOCK_FOLDED&&(type===Scalar.BLOCK_LITERAL||!function lineLengthOverLimit(str,lineWidth,indentLength){if(!lineWidth||lineWidth<0)return!1;const limit=lineWidth-indentLength,strLen=str.length;if(strLen<=limit)return!1;for(let i=0,start=0;i<strLen;++i)if("\n"===str[i]){if(i-start>limit)return!0;if(start=i+1,strLen-start<=limit)return!1}return!0}(value,lineWidth,indent.length));if(!value)return literal?"|\n":">\n";let chomp,endStart;for(endStart=value.length;endStart>0;--endStart){const ch=value[endStart-1];if("\n"!==ch&&"\t"!==ch&&" "!==ch)break}let end=value.substring(endStart);const endNlPos=end.indexOf("\n");-1===endNlPos?chomp="-":value===end||endNlPos!==end.length-1?(chomp="+",onChompKeep&&onChompKeep()):chomp="",end&&(value=value.slice(0,-end.length),"\n"===end[end.length-1]&&(end=end.slice(0,-1)),end=end.replace(blockEndNewlines,`$&${indent}`));let startEnd,startWithSpace=!1,startNlPos=-1;for(startEnd=0;startEnd<value.length;++startEnd){const ch=value[startEnd];if(" "===ch)startWithSpace=!0;else{if("\n"!==ch)break;startNlPos=startEnd}}let start=value.substring(0,startNlPos<startEnd?startNlPos+1:startEnd);start&&(value=value.substring(start.length),start=start.replace(/\n+/g,`$&${indent}`));let header=(literal?"|":">")+(startWithSpace?indent?"2":"1":"")+chomp;if(comment&&(header+=" "+commentString(comment.replace(/ ?[\r\n]+/g," ")),onComment&&onComment()),literal)return`${header}\n${indent}${start}${value=value.replace(/\n+/g,`$&${indent}`)}${end}`;return`${header}\n${indent}${foldFlowLines(`${start}${value=value.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${indent}`)}${end}`,indent,FOLD_BLOCK,getFoldOptions(ctx,!0))}`}function stringifyString_stringifyString(item,ctx,onComment,onChompKeep){const{implicitKey,inFlow}=ctx,ss="string"==typeof item.value?item:Object.assign({},item,{value:String(item.value)});let{type}=item;type!==Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(ss.value)&&(type=Scalar.QUOTE_DOUBLE);const _stringify=_type=>{switch(_type){case Scalar.BLOCK_FOLDED:case Scalar.BLOCK_LITERAL:return implicitKey||inFlow?quotedString(ss.value,ctx):blockString(ss,ctx,onComment,onChompKeep);case Scalar.QUOTE_DOUBLE:return doubleQuotedString(ss.value,ctx);case Scalar.QUOTE_SINGLE:return singleQuotedString(ss.value,ctx);case Scalar.PLAIN:return function plainString(item,ctx,onComment,onChompKeep){const{type,value}=item,{actualString,implicitKey,indent,indentStep,inFlow}=ctx;if(implicitKey&&value.includes("\n")||inFlow&&/[[\]{},]/.test(value))return quotedString(value,ctx);if(!value||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(value))return implicitKey||inFlow||!value.includes("\n")?quotedString(value,ctx):blockString(item,ctx,onComment,onChompKeep);if(!implicitKey&&!inFlow&&type!==Scalar.PLAIN&&value.includes("\n"))return blockString(item,ctx,onComment,onChompKeep);if(containsDocumentMarker(value)){if(""===indent)return ctx.forceBlockIndent=!0,blockString(item,ctx,onComment,onChompKeep);if(implicitKey&&indent===indentStep)return quotedString(value,ctx)}const str=value.replace(/\n+/g,`$&\n${indent}`);if(actualString){const test=tag=>tag.default&&"tag:yaml.org,2002:str"!==tag.tag&&tag.test?.test(str),{compat,tags}=ctx.doc.schema;if(tags.some(test)||compat?.some(test))return quotedString(value,ctx)}return implicitKey?str:foldFlowLines(str,indent,FOLD_FLOW,getFoldOptions(ctx,!1))}(ss,ctx,onComment,onChompKeep);default:return null}};let res=_stringify(type);if(null===res){const{defaultKeyType,defaultStringType}=ctx.options,t=implicitKey&&defaultKeyType||defaultStringType;if(res=_stringify(t),null===res)throw new Error(`Unsupported default string type ${t}`)}return res}function createStringifyContext(doc,options){const opt=Object.assign({blockQuote:!0,commentString:stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},doc.schema.toStringOptions,options);let inFlow;switch(opt.collectionStyle){case"block":inFlow=!1;break;case"flow":inFlow=!0;break;default:inFlow=null}return{anchors:new Set,doc,flowCollectionPadding:opt.flowCollectionPadding?" ":"",indent:"",indentStep:"number"==typeof opt.indent?" ".repeat(opt.indent):"  ",inFlow,options:opt}}function stringify(item,ctx,onComment,onChompKeep){if(isPair(item))return item.toString(ctx,onComment,onChompKeep);if(isAlias(item)){if(ctx.doc.directives)return item.toString(ctx);if(ctx.resolvedAliases?.has(item))throw new TypeError("Cannot stringify circular structure without alias nodes");ctx.resolvedAliases?ctx.resolvedAliases.add(item):ctx.resolvedAliases=new Set([item]),item=item.resolve(ctx.doc)}let tagObj;const node=isNode(item)?item:ctx.doc.createNode(item,{onTagObj:o=>tagObj=o});tagObj||(tagObj=function getTagObject(tags,item){if(item.tag){const match=tags.filter((t=>t.tag===item.tag));if(match.length>0)return match.find((t=>t.format===item.format))??match[0]}let tagObj,obj;if(isScalar(item)){obj=item.value;const match=tags.filter((t=>t.identify?.(obj)));tagObj=match.find((t=>t.format===item.format))??match.find((t=>!t.format))}else obj=item,tagObj=tags.find((t=>t.nodeClass&&obj instanceof t.nodeClass));if(!tagObj)throw new Error(`Tag not resolved for ${obj?.constructor?.name??typeof obj} value`);return tagObj}(ctx.doc.schema.tags,node));const props=function stringifyProps(node,tagObj,{anchors,doc}){if(!doc.directives)return"";const props=[],anchor=(isScalar(node)||isCollection(node))&&node.anchor;anchor&&anchorIsValid(anchor)&&(anchors.add(anchor),props.push(`&${anchor}`));const tag=node.tag?node.tag:tagObj.default?null:tagObj.tag;return tag&&props.push(doc.directives.tagString(tag)),props.join(" ")}(node,tagObj,ctx);props.length>0&&(ctx.indentAtStart=(ctx.indentAtStart??0)+props.length+1);const str="function"==typeof tagObj.stringify?tagObj.stringify(node,ctx,onComment,onChompKeep):isScalar(node)?stringifyString_stringifyString(node,ctx,onComment,onChompKeep):node.toString(ctx,onComment,onChompKeep);return props?isScalar(node)||"{"===str[0]||"["===str[0]?`${props} ${str}`:`${props}\n${ctx.indent}${str}`:str}var process=__webpack_require__("./node_modules/process/browser.js");function warn(logLevel,warning){"debug"!==logLevel&&"warn"!==logLevel||(void 0!==process&&process.emitWarning?process.emitWarning(warning):console.warn(warning))}function addPairToJSMap(ctx,map,{key,value}){if(ctx?.doc.schema.merge&&isMergeKey(key))if(value=isAlias(value)?value.resolve(ctx.doc):value,isSeq(value))for(const it of value.items)mergeToJSMap(ctx,map,it);else if(Array.isArray(value))for(const it of value)mergeToJSMap(ctx,map,it);else mergeToJSMap(ctx,map,value);else{const jsKey=toJS(key,"",ctx);if(map instanceof Map)map.set(jsKey,toJS(value,jsKey,ctx));else if(map instanceof Set)map.add(jsKey);else{const stringKey=function stringifyKey(key,jsKey,ctx){if(null===jsKey)return"";if("object"!=typeof jsKey)return String(jsKey);if(isNode(key)&&ctx?.doc){const strCtx=createStringifyContext(ctx.doc,{});strCtx.anchors=new Set;for(const node of ctx.anchors.keys())strCtx.anchors.add(node.anchor);strCtx.inFlow=!0,strCtx.inStringifyKey=!0;const strKey=key.toString(strCtx);if(!ctx.mapKeyWarned){let jsonStr=JSON.stringify(strKey);jsonStr.length>40&&(jsonStr=jsonStr.substring(0,36)+'..."'),warn(ctx.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${jsonStr}. Set mapAsMap: true to use object keys.`),ctx.mapKeyWarned=!0}return strKey}return JSON.stringify(jsKey)}(key,jsKey,ctx),jsValue=toJS(value,stringKey,ctx);stringKey in map?Object.defineProperty(map,stringKey,{value:jsValue,writable:!0,enumerable:!0,configurable:!0}):map[stringKey]=jsValue}}return map}const isMergeKey=key=>"<<"===key||isScalar(key)&&"<<"===key.value&&(!key.type||key.type===Scalar.PLAIN);function mergeToJSMap(ctx,map,value){const source=ctx&&isAlias(value)?value.resolve(ctx.doc):value;if(!isMap(source))throw new Error("Merge sources must be maps or map aliases");const srcMap=source.toJSON(null,ctx,Map);for(const[key,value]of srcMap)map instanceof Map?map.has(key)||map.set(key,value):map instanceof Set?map.add(key):Object.prototype.hasOwnProperty.call(map,key)||Object.defineProperty(map,key,{value,writable:!0,enumerable:!0,configurable:!0});return map}function createPair(key,value,ctx){const k=createNode(key,void 0,ctx),v=createNode(value,void 0,ctx);return new Pair(k,v)}class Pair{constructor(key,value=null){Object.defineProperty(this,NODE_TYPE,{value:PAIR}),this.key=key,this.value=value}clone(schema){let{key,value}=this;return isNode(key)&&(key=key.clone(schema)),isNode(value)&&(value=value.clone(schema)),new Pair(key,value)}toJSON(_,ctx){return addPairToJSMap(ctx,ctx?.mapAsMap?new Map:{},this)}toString(ctx,onComment,onChompKeep){return ctx?.doc?function stringifyPair({key,value},ctx,onComment,onChompKeep){const{allNullValues,doc,indent,indentStep,options:{commentString,indentSeq,simpleKeys}}=ctx;let keyComment=isNode(key)&&key.comment||null;if(simpleKeys){if(keyComment)throw new Error("With simple keys, key nodes cannot have comments");if(isCollection(key))throw new Error("With simple keys, collection cannot be used as a key value")}let explicitKey=!simpleKeys&&(!key||keyComment&&null==value&&!ctx.inFlow||isCollection(key)||(isScalar(key)?key.type===Scalar.BLOCK_FOLDED||key.type===Scalar.BLOCK_LITERAL:"object"==typeof key));ctx=Object.assign({},ctx,{allNullValues:!1,implicitKey:!explicitKey&&(simpleKeys||!allNullValues),indent:indent+indentStep});let vsb,vcb,valueComment,keyCommentDone=!1,chompKeep=!1,str=stringify(key,ctx,(()=>keyCommentDone=!0),(()=>chompKeep=!0));if(!explicitKey&&!ctx.inFlow&&str.length>1024){if(simpleKeys)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");explicitKey=!0}if(ctx.inFlow){if(allNullValues||null==value)return keyCommentDone&&onComment&&onComment(),""===str?"?":explicitKey?`? ${str}`:str}else if(allNullValues&&!simpleKeys||null==value&&explicitKey)return str=`? ${str}`,keyComment&&!keyCommentDone?str+=lineComment(str,ctx.indent,commentString(keyComment)):chompKeep&&onChompKeep&&onChompKeep(),str;keyCommentDone&&(keyComment=null),explicitKey?(keyComment&&(str+=lineComment(str,ctx.indent,commentString(keyComment))),str=`? ${str}\n${indent}:`):(str=`${str}:`,keyComment&&(str+=lineComment(str,ctx.indent,commentString(keyComment)))),isNode(value)?(vsb=!!value.spaceBefore,vcb=value.commentBefore,valueComment=value.comment):(vsb=!1,vcb=null,valueComment=null,value&&"object"==typeof value&&(value=doc.createNode(value))),ctx.implicitKey=!1,explicitKey||keyComment||!isScalar(value)||(ctx.indentAtStart=str.length+1),chompKeep=!1,indentSeq||!(indentStep.length>=2)||ctx.inFlow||explicitKey||!isSeq(value)||value.flow||value.tag||value.anchor||(ctx.indent=ctx.indent.substring(2));let valueCommentDone=!1;const valueStr=stringify(value,ctx,(()=>valueCommentDone=!0),(()=>chompKeep=!0));let ws=" ";if(keyComment||vsb||vcb)ws=vsb?"\n":"",vcb&&(ws+=`\n${indentComment(commentString(vcb),ctx.indent)}`),""!==valueStr||ctx.inFlow?ws+=`\n${ctx.indent}`:"\n"===ws&&(ws="\n\n");else if(!explicitKey&&isCollection(value)){const vs0=valueStr[0],nl0=valueStr.indexOf("\n"),hasNewline=-1!==nl0,flow=ctx.inFlow??value.flow??0===value.items.length;if(hasNewline||!flow){let hasPropsLine=!1;if(hasNewline&&("&"===vs0||"!"===vs0)){let sp0=valueStr.indexOf(" ");"&"===vs0&&-1!==sp0&&sp0<nl0&&"!"===valueStr[sp0+1]&&(sp0=valueStr.indexOf(" ",sp0+1)),(-1===sp0||nl0<sp0)&&(hasPropsLine=!0)}hasPropsLine||(ws=`\n${ctx.indent}`)}}else""!==valueStr&&"\n"!==valueStr[0]||(ws="");return str+=ws+valueStr,ctx.inFlow?valueCommentDone&&onComment&&onComment():valueComment&&!valueCommentDone?str+=lineComment(str,ctx.indent,commentString(valueComment)):chompKeep&&onChompKeep&&onChompKeep(),str}(this,ctx,onComment,onChompKeep):JSON.stringify(this)}}function stringifyCollection(collection,ctx,options){return(ctx.inFlow??collection.flow?stringifyFlowCollection:stringifyBlockCollection)(collection,ctx,options)}function stringifyBlockCollection({comment,items},ctx,{blockItemPrefix,flowChars,itemIndent,onChompKeep,onComment}){const{indent,options:{commentString}}=ctx,itemCtx=Object.assign({},ctx,{indent:itemIndent,type:null});let chompKeep=!1;const lines=[];for(let i=0;i<items.length;++i){const item=items[i];let comment=null;if(isNode(item))!chompKeep&&item.spaceBefore&&lines.push(""),addCommentBefore(ctx,lines,item.commentBefore,chompKeep),item.comment&&(comment=item.comment);else if(isPair(item)){const ik=isNode(item.key)?item.key:null;ik&&(!chompKeep&&ik.spaceBefore&&lines.push(""),addCommentBefore(ctx,lines,ik.commentBefore,chompKeep))}chompKeep=!1;let str=stringify(item,itemCtx,(()=>comment=null),(()=>chompKeep=!0));comment&&(str+=lineComment(str,itemIndent,commentString(comment))),chompKeep&&comment&&(chompKeep=!1),lines.push(blockItemPrefix+str)}let str;if(0===lines.length)str=flowChars.start+flowChars.end;else{str=lines[0];for(let i=1;i<lines.length;++i){const line=lines[i];str+=line?`\n${indent}${line}`:"\n"}}return comment?(str+="\n"+indentComment(commentString(comment),indent),onComment&&onComment()):chompKeep&&onChompKeep&&onChompKeep(),str}function stringifyFlowCollection({comment,items},ctx,{flowChars,itemIndent,onComment}){const{indent,indentStep,flowCollectionPadding:fcPadding,options:{commentString}}=ctx;itemIndent+=indentStep;const itemCtx=Object.assign({},ctx,{indent:itemIndent,inFlow:!0,type:null});let reqNewline=!1,linesAtValue=0;const lines=[];for(let i=0;i<items.length;++i){const item=items[i];let comment=null;if(isNode(item))item.spaceBefore&&lines.push(""),addCommentBefore(ctx,lines,item.commentBefore,!1),item.comment&&(comment=item.comment);else if(isPair(item)){const ik=isNode(item.key)?item.key:null;ik&&(ik.spaceBefore&&lines.push(""),addCommentBefore(ctx,lines,ik.commentBefore,!1),ik.comment&&(reqNewline=!0));const iv=isNode(item.value)?item.value:null;iv?(iv.comment&&(comment=iv.comment),iv.commentBefore&&(reqNewline=!0)):null==item.value&&ik?.comment&&(comment=ik.comment)}comment&&(reqNewline=!0);let str=stringify(item,itemCtx,(()=>comment=null));i<items.length-1&&(str+=","),comment&&(str+=lineComment(str,itemIndent,commentString(comment))),!reqNewline&&(lines.length>linesAtValue||str.includes("\n"))&&(reqNewline=!0),lines.push(str),linesAtValue=lines.length}let str;const{start,end}=flowChars;if(0===lines.length)str=start+end;else{if(!reqNewline){reqNewline=lines.reduce(((sum,line)=>sum+line.length+2),2)>Collection.maxFlowStringSingleLineLength}if(reqNewline){str=start;for(const line of lines)str+=line?`\n${indentStep}${indent}${line}`:"\n";str+=`\n${indent}${end}`}else str=`${start}${fcPadding}${lines.join(" ")}${fcPadding}${end}`}return comment&&(str+=lineComment(str,indent,commentString(comment)),onComment&&onComment()),str}function addCommentBefore({indent,options:{commentString}},lines,comment,chompKeep){if(comment&&chompKeep&&(comment=comment.replace(/^\n+/,"")),comment){const ic=indentComment(commentString(comment),indent);lines.push(ic.trimStart())}}function findPair(items,key){const k=isScalar(key)?key.value:key;for(const it of items)if(isPair(it)){if(it.key===key||it.key===k)return it;if(isScalar(it.key)&&it.key.value===k)return it}}class YAMLMap extends Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(schema){super(MAP,schema),this.items=[]}static from(schema,obj,ctx){const{keepUndefined,replacer}=ctx,map=new this(schema),add=(key,value)=>{if("function"==typeof replacer)value=replacer.call(obj,key,value);else if(Array.isArray(replacer)&&!replacer.includes(key))return;(void 0!==value||keepUndefined)&&map.items.push(createPair(key,value,ctx))};if(obj instanceof Map)for(const[key,value]of obj)add(key,value);else if(obj&&"object"==typeof obj)for(const key of Object.keys(obj))add(key,obj[key]);return"function"==typeof schema.sortMapEntries&&map.items.sort(schema.sortMapEntries),map}add(pair,overwrite){let _pair;_pair=isPair(pair)?pair:pair&&"object"==typeof pair&&"key"in pair?new Pair(pair.key,pair.value):new Pair(pair,pair?.value);const prev=findPair(this.items,_pair.key),sortEntries=this.schema?.sortMapEntries;if(prev){if(!overwrite)throw new Error(`Key ${_pair.key} already set`);isScalar(prev.value)&&isScalarValue(_pair.value)?prev.value.value=_pair.value:prev.value=_pair.value}else if(sortEntries){const i=this.items.findIndex((item=>sortEntries(_pair,item)<0));-1===i?this.items.push(_pair):this.items.splice(i,0,_pair)}else this.items.push(_pair)}delete(key){const it=findPair(this.items,key);if(!it)return!1;return this.items.splice(this.items.indexOf(it),1).length>0}get(key,keepScalar){const it=findPair(this.items,key),node=it?.value;return(!keepScalar&&isScalar(node)?node.value:node)??void 0}has(key){return!!findPair(this.items,key)}set(key,value){this.add(new Pair(key,value),!0)}toJSON(_,ctx,Type){const map=Type?new Type:ctx?.mapAsMap?new Map:{};ctx?.onCreate&&ctx.onCreate(map);for(const item of this.items)addPairToJSMap(ctx,map,item);return map}toString(ctx,onComment,onChompKeep){if(!ctx)return JSON.stringify(this);for(const item of this.items)if(!isPair(item))throw new Error(`Map items must all be pairs; found ${JSON.stringify(item)} instead`);return!ctx.allNullValues&&this.hasAllNullValues(!1)&&(ctx=Object.assign({},ctx,{allNullValues:!0})),stringifyCollection(this,ctx,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:ctx.indent||"",onChompKeep,onComment})}}const map={collection:"map",default:!0,nodeClass:YAMLMap,tag:"tag:yaml.org,2002:map",resolve:(map,onError)=>(isMap(map)||onError("Expected a mapping for this tag"),map),createNode:(schema,obj,ctx)=>YAMLMap.from(schema,obj,ctx)};class YAMLSeq extends Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(schema){super(SEQ,schema),this.items=[]}add(value){this.items.push(value)}delete(key){const idx=asItemIndex(key);if("number"!=typeof idx)return!1;return this.items.splice(idx,1).length>0}get(key,keepScalar){const idx=asItemIndex(key);if("number"!=typeof idx)return;const it=this.items[idx];return!keepScalar&&isScalar(it)?it.value:it}has(key){const idx=asItemIndex(key);return"number"==typeof idx&&idx<this.items.length}set(key,value){const idx=asItemIndex(key);if("number"!=typeof idx)throw new Error(`Expected a valid index, not ${key}.`);const prev=this.items[idx];isScalar(prev)&&isScalarValue(value)?prev.value=value:this.items[idx]=value}toJSON(_,ctx){const seq=[];ctx?.onCreate&&ctx.onCreate(seq);let i=0;for(const item of this.items)seq.push(toJS(item,String(i++),ctx));return seq}toString(ctx,onComment,onChompKeep){return ctx?stringifyCollection(this,ctx,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(ctx.indent||"")+"  ",onChompKeep,onComment}):JSON.stringify(this)}static from(schema,obj,ctx){const{replacer}=ctx,seq=new this(schema);if(obj&&Symbol.iterator in Object(obj)){let i=0;for(let it of obj){if("function"==typeof replacer){const key=obj instanceof Set?it:String(i++);it=replacer.call(obj,key,it)}seq.items.push(createNode(it,void 0,ctx))}}return seq}}function asItemIndex(key){let idx=isScalar(key)?key.value:key;return idx&&"string"==typeof idx&&(idx=Number(idx)),"number"==typeof idx&&Number.isInteger(idx)&&idx>=0?idx:null}const seq={collection:"seq",default:!0,nodeClass:YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:(seq,onError)=>(isSeq(seq)||onError("Expected a sequence for this tag"),seq),createNode:(schema,obj,ctx)=>YAMLSeq.from(schema,obj,ctx)},string={identify:value=>"string"==typeof value,default:!0,tag:"tag:yaml.org,2002:str",resolve:str=>str,stringify:(item,ctx,onComment,onChompKeep)=>stringifyString_stringifyString(item,ctx=Object.assign({actualString:!0},ctx),onComment,onChompKeep)},nullTag={identify:value=>null==value,createNode:()=>new Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Scalar(null),stringify:({source},ctx)=>"string"==typeof source&&nullTag.test.test(source)?source:ctx.options.nullStr},boolTag={identify:value=>"boolean"==typeof value,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:str=>new Scalar("t"===str[0]||"T"===str[0]),stringify({source,value},ctx){if(source&&boolTag.test.test(source)){if(value===("t"===source[0]||"T"===source[0]))return source}return value?ctx.options.trueStr:ctx.options.falseStr}};function stringifyNumber({format,minFractionDigits,tag,value}){if("bigint"==typeof value)return String(value);const num="number"==typeof value?value:Number(value);if(!isFinite(num))return isNaN(num)?".nan":num<0?"-.inf":".inf";let n=JSON.stringify(value);if(!format&&minFractionDigits&&(!tag||"tag:yaml.org,2002:float"===tag)&&/^\d/.test(n)){let i=n.indexOf(".");i<0&&(i=n.length,n+=".");let d=minFractionDigits-(n.length-i-1);for(;d-- >0;)n+="0"}return n}const floatNaN={identify:value=>"number"==typeof value,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:str=>"nan"===str.slice(-3).toLowerCase()?NaN:"-"===str[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:stringifyNumber},floatExp={identify:value=>"number"==typeof value,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:str=>parseFloat(str),stringify(node){const num=Number(node.value);return isFinite(num)?num.toExponential():stringifyNumber(node)}},float_float={identify:value=>"number"==typeof value,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(str){const node=new Scalar(parseFloat(str)),dot=str.indexOf(".");return-1!==dot&&"0"===str[str.length-1]&&(node.minFractionDigits=str.length-dot-1),node},stringify:stringifyNumber},intIdentify=value=>"bigint"==typeof value||Number.isInteger(value),intResolve=(str,offset,radix,{intAsBigInt})=>intAsBigInt?BigInt(str):parseInt(str.substring(offset),radix);function intStringify(node,radix,prefix){const{value}=node;return intIdentify(value)&&value>=0?prefix+value.toString(radix):stringifyNumber(node)}const intOct={identify:value=>intIdentify(value)&&value>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(str,_onError,opt)=>intResolve(str,2,8,opt),stringify:node=>intStringify(node,8,"0o")},int_int={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(str,_onError,opt)=>intResolve(str,0,10,opt),stringify:stringifyNumber},intHex={identify:value=>intIdentify(value)&&value>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(str,_onError,opt)=>intResolve(str,2,16,opt),stringify:node=>intStringify(node,16,"0x")},schema=[map,seq,string,nullTag,boolTag,intOct,int_int,intHex,floatNaN,floatExp,float_float];function schema_intIdentify(value){return"bigint"==typeof value||Number.isInteger(value)}const stringifyJSON=({value})=>JSON.stringify(value),schema_schema=[map,seq].concat([{identify:value=>"string"==typeof value,default:!0,tag:"tag:yaml.org,2002:str",resolve:str=>str,stringify:stringifyJSON},{identify:value=>null==value,createNode:()=>new Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:stringifyJSON},{identify:value=>"boolean"==typeof value,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:str=>"true"===str,stringify:stringifyJSON},{identify:schema_intIdentify,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(str,_onError,{intAsBigInt})=>intAsBigInt?BigInt(str):parseInt(str,10),stringify:({value})=>schema_intIdentify(value)?value.toString():JSON.stringify(value)},{identify:value=>"number"==typeof value,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:str=>parseFloat(str),stringify:stringifyJSON}],{default:!0,tag:"",test:/^/,resolve:(str,onError)=>(onError(`Unresolved plain scalar ${JSON.stringify(str)}`),str)}),binary={identify:value=>value instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(src,onError){if("function"==typeof Buffer)return Buffer.from(src,"base64");if("function"==typeof atob){const str=atob(src.replace(/[\n\r]/g,"")),buffer=new Uint8Array(str.length);for(let i=0;i<str.length;++i)buffer[i]=str.charCodeAt(i);return buffer}return onError("This environment does not support reading binary tags; either Buffer or atob is required"),src},stringify({comment,type,value},ctx,onComment,onChompKeep){const buf=value;let str;if("function"==typeof Buffer)str=buf instanceof Buffer?buf.toString("base64"):Buffer.from(buf.buffer).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let s="";for(let i=0;i<buf.length;++i)s+=String.fromCharCode(buf[i]);str=btoa(s)}}if(type||(type=Scalar.BLOCK_LITERAL),type!==Scalar.QUOTE_DOUBLE){const lineWidth=Math.max(ctx.options.lineWidth-ctx.indent.length,ctx.options.minContentWidth),n=Math.ceil(str.length/lineWidth),lines=new Array(n);for(let i=0,o=0;i<n;++i,o+=lineWidth)lines[i]=str.substr(o,lineWidth);str=lines.join(type===Scalar.BLOCK_LITERAL?"\n":" ")}return stringifyString_stringifyString({comment,type,value:str},ctx,onComment,onChompKeep)}};function resolvePairs(seq,onError){if(isSeq(seq))for(let i=0;i<seq.items.length;++i){let item=seq.items[i];if(!isPair(item)){if(isMap(item)){item.items.length>1&&onError("Each pair must have its own sequence indicator");const pair=item.items[0]||new Pair(new Scalar(null));if(item.commentBefore&&(pair.key.commentBefore=pair.key.commentBefore?`${item.commentBefore}\n${pair.key.commentBefore}`:item.commentBefore),item.comment){const cn=pair.value??pair.key;cn.comment=cn.comment?`${item.comment}\n${cn.comment}`:item.comment}item=pair}seq.items[i]=isPair(item)?item:new Pair(item)}}else onError("Expected a sequence for this tag");return seq}function createPairs(schema,iterable,ctx){const{replacer}=ctx,pairs=new YAMLSeq(schema);pairs.tag="tag:yaml.org,2002:pairs";let i=0;if(iterable&&Symbol.iterator in Object(iterable))for(let it of iterable){let key,value;if("function"==typeof replacer&&(it=replacer.call(iterable,String(i++),it)),Array.isArray(it)){if(2!==it.length)throw new TypeError(`Expected [key, value] tuple: ${it}`);key=it[0],value=it[1]}else if(it&&it instanceof Object){const keys=Object.keys(it);if(1!==keys.length)throw new TypeError(`Expected tuple with one key, not ${keys.length} keys`);key=keys[0],value=it[key]}else key=it;pairs.items.push(createPair(key,value,ctx))}return pairs}const pairs={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:resolvePairs,createNode:createPairs};class YAMLOMap extends YAMLSeq{constructor(){super(),this.add=YAMLMap.prototype.add.bind(this),this.delete=YAMLMap.prototype.delete.bind(this),this.get=YAMLMap.prototype.get.bind(this),this.has=YAMLMap.prototype.has.bind(this),this.set=YAMLMap.prototype.set.bind(this),this.tag=YAMLOMap.tag}toJSON(_,ctx){if(!ctx)return super.toJSON(_);const map=new Map;ctx?.onCreate&&ctx.onCreate(map);for(const pair of this.items){let key,value;if(isPair(pair)?(key=toJS(pair.key,"",ctx),value=toJS(pair.value,key,ctx)):key=toJS(pair,"",ctx),map.has(key))throw new Error("Ordered maps must not include duplicate keys");map.set(key,value)}return map}static from(schema,iterable,ctx){const pairs=createPairs(schema,iterable,ctx),omap=new this;return omap.items=pairs.items,omap}}YAMLOMap.tag="tag:yaml.org,2002:omap";const omap={collection:"seq",identify:value=>value instanceof Map,nodeClass:YAMLOMap,default:!1,tag:"tag:yaml.org,2002:omap",resolve(seq,onError){const pairs=resolvePairs(seq,onError),seenKeys=[];for(const{key}of pairs.items)isScalar(key)&&(seenKeys.includes(key.value)?onError(`Ordered maps must not include duplicate keys: ${key.value}`):seenKeys.push(key.value));return Object.assign(new YAMLOMap,pairs)},createNode:(schema,iterable,ctx)=>YAMLOMap.from(schema,iterable,ctx)};function boolStringify({value,source},ctx){return source&&(value?trueTag:falseTag).test.test(source)?source:value?ctx.options.trueStr:ctx.options.falseStr}const trueTag={identify:value=>!0===value,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Scalar(!0),stringify:boolStringify},falseTag={identify:value=>!1===value,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new Scalar(!1),stringify:boolStringify},float_floatNaN={identify:value=>"number"==typeof value,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:str=>"nan"===str.slice(-3).toLowerCase()?NaN:"-"===str[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:stringifyNumber},float_floatExp={identify:value=>"number"==typeof value,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:str=>parseFloat(str.replace(/_/g,"")),stringify(node){const num=Number(node.value);return isFinite(num)?num.toExponential():stringifyNumber(node)}},yaml_1_1_float_float={identify:value=>"number"==typeof value,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(str){const node=new Scalar(parseFloat(str.replace(/_/g,""))),dot=str.indexOf(".");if(-1!==dot){const f=str.substring(dot+1).replace(/_/g,"");"0"===f[f.length-1]&&(node.minFractionDigits=f.length)}return node},stringify:stringifyNumber},int_intIdentify=value=>"bigint"==typeof value||Number.isInteger(value);function int_intResolve(str,offset,radix,{intAsBigInt}){const sign=str[0];if("-"!==sign&&"+"!==sign||(offset+=1),str=str.substring(offset).replace(/_/g,""),intAsBigInt){switch(radix){case 2:str=`0b${str}`;break;case 8:str=`0o${str}`;break;case 16:str=`0x${str}`}const n=BigInt(str);return"-"===sign?BigInt(-1)*n:n}const n=parseInt(str,radix);return"-"===sign?-1*n:n}function int_intStringify(node,radix,prefix){const{value}=node;if(int_intIdentify(value)){const str=value.toString(radix);return value<0?"-"+prefix+str.substr(1):prefix+str}return stringifyNumber(node)}const intBin={identify:int_intIdentify,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(str,_onError,opt)=>int_intResolve(str,2,2,opt),stringify:node=>int_intStringify(node,2,"0b")},int_intOct={identify:int_intIdentify,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(str,_onError,opt)=>int_intResolve(str,1,8,opt),stringify:node=>int_intStringify(node,8,"0")},yaml_1_1_int_int={identify:int_intIdentify,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(str,_onError,opt)=>int_intResolve(str,0,10,opt),stringify:stringifyNumber},int_intHex={identify:int_intIdentify,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(str,_onError,opt)=>int_intResolve(str,2,16,opt),stringify:node=>int_intStringify(node,16,"0x")};class YAMLSet extends YAMLMap{constructor(schema){super(schema),this.tag=YAMLSet.tag}add(key){let pair;pair=isPair(key)?key:key&&"object"==typeof key&&"key"in key&&"value"in key&&null===key.value?new Pair(key.key,null):new Pair(key,null);findPair(this.items,pair.key)||this.items.push(pair)}get(key,keepPair){const pair=findPair(this.items,key);return!keepPair&&isPair(pair)?isScalar(pair.key)?pair.key.value:pair.key:pair}set(key,value){if("boolean"!=typeof value)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof value);const prev=findPair(this.items,key);prev&&!value?this.items.splice(this.items.indexOf(prev),1):!prev&&value&&this.items.push(new Pair(key))}toJSON(_,ctx){return super.toJSON(_,ctx,Set)}toString(ctx,onComment,onChompKeep){if(!ctx)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},ctx,{allNullValues:!0}),onComment,onChompKeep);throw new Error("Set items must all have null values")}static from(schema,iterable,ctx){const{replacer}=ctx,set=new this(schema);if(iterable&&Symbol.iterator in Object(iterable))for(let value of iterable)"function"==typeof replacer&&(value=replacer.call(iterable,value,value)),set.items.push(createPair(value,null,ctx));return set}}YAMLSet.tag="tag:yaml.org,2002:set";const set={collection:"map",identify:value=>value instanceof Set,nodeClass:YAMLSet,default:!1,tag:"tag:yaml.org,2002:set",createNode:(schema,iterable,ctx)=>YAMLSet.from(schema,iterable,ctx),resolve(map,onError){if(isMap(map)){if(map.hasAllNullValues(!0))return Object.assign(new YAMLSet,map);onError("Set items must all have null values")}else onError("Expected a mapping for this tag");return map}};function parseSexagesimal(str,asBigInt){const sign=str[0],parts="-"===sign||"+"===sign?str.substring(1):str,num=n=>asBigInt?BigInt(n):Number(n),res=parts.replace(/_/g,"").split(":").reduce(((res,p)=>res*num(60)+num(p)),num(0));return"-"===sign?num(-1)*res:res}function stringifySexagesimal(node){let{value}=node,num=n=>n;if("bigint"==typeof value)num=n=>BigInt(n);else if(isNaN(value)||!isFinite(value))return stringifyNumber(node);let sign="";value<0&&(sign="-",value*=num(-1));const _60=num(60),parts=[value%_60];return value<60?parts.unshift(0):(value=(value-parts[0])/_60,parts.unshift(value%_60),value>=60&&(value=(value-parts[0])/_60,parts.unshift(value))),sign+parts.map((n=>String(n).padStart(2,"0"))).join(":").replace(/000000\d*$/,"")}const intTime={identify:value=>"bigint"==typeof value||Number.isInteger(value),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(str,_onError,{intAsBigInt})=>parseSexagesimal(str,intAsBigInt),stringify:stringifySexagesimal},floatTime={identify:value=>"number"==typeof value,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:str=>parseSexagesimal(str,!1),stringify:stringifySexagesimal},timestamp={identify:value=>value instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(str){const match=str.match(timestamp.test);if(!match)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,year,month,day,hour,minute,second]=match.map(Number),millisec=match[7]?Number((match[7]+"00").substr(1,3)):0;let date=Date.UTC(year,month-1,day,hour||0,minute||0,second||0,millisec);const tz=match[8];if(tz&&"Z"!==tz){let d=parseSexagesimal(tz,!1);Math.abs(d)<30&&(d*=60),date-=6e4*d}return new Date(date)},stringify:({value})=>value.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},yaml_1_1_schema_schema=[map,seq,string,nullTag,trueTag,falseTag,intBin,int_intOct,yaml_1_1_int_int,int_intHex,float_floatNaN,float_floatExp,yaml_1_1_float_float,binary,omap,pairs,set,intTime,floatTime,timestamp],schemas=new Map([["core",schema],["failsafe",[map,seq,string]],["json",schema_schema],["yaml11",yaml_1_1_schema_schema],["yaml-1.1",yaml_1_1_schema_schema]]),tagsByName={binary,bool:boolTag,float:float_float,floatExp,floatNaN,floatTime,int:int_int,intHex,intOct,intTime,map,null:nullTag,omap,pairs,seq,set,timestamp},coreKnownTags={"tag:yaml.org,2002:binary":binary,"tag:yaml.org,2002:omap":omap,"tag:yaml.org,2002:pairs":pairs,"tag:yaml.org,2002:set":set,"tag:yaml.org,2002:timestamp":timestamp};function getTags(customTags,schemaName){let tags=schemas.get(schemaName);if(!tags){if(!Array.isArray(customTags)){const keys=Array.from(schemas.keys()).filter((key=>"yaml11"!==key)).map((key=>JSON.stringify(key))).join(", ");throw new Error(`Unknown schema "${schemaName}"; use one of ${keys} or define customTags array`)}tags=[]}if(Array.isArray(customTags))for(const tag of customTags)tags=tags.concat(tag);else"function"==typeof customTags&&(tags=customTags(tags.slice()));return tags.map((tag=>{if("string"!=typeof tag)return tag;const tagObj=tagsByName[tag];if(tagObj)return tagObj;const keys=Object.keys(tagsByName).map((key=>JSON.stringify(key))).join(", ");throw new Error(`Unknown custom tag "${tag}"; use one of ${keys}`)}))}const sortMapEntriesByKey=(a,b)=>a.key<b.key?-1:a.key>b.key?1:0;class Schema{constructor({compat,customTags,merge,resolveKnownTags,schema,sortMapEntries,toStringDefaults}){this.compat=Array.isArray(compat)?getTags(compat,"compat"):compat?getTags(null,compat):null,this.merge=!!merge,this.name="string"==typeof schema&&schema||"core",this.knownTags=resolveKnownTags?coreKnownTags:{},this.tags=getTags(customTags,this.name),this.toStringOptions=toStringDefaults??null,Object.defineProperty(this,MAP,{value:map}),Object.defineProperty(this,SCALAR,{value:string}),Object.defineProperty(this,SEQ,{value:seq}),this.sortMapEntries="function"==typeof sortMapEntries?sortMapEntries:!0===sortMapEntries?sortMapEntriesByKey:null}clone(){const copy=Object.create(Schema.prototype,Object.getOwnPropertyDescriptors(this));return copy.tags=this.tags.slice(),copy}}class Document_Document{constructor(value,replacer,options){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,NODE_TYPE,{value:DOC});let _replacer=null;"function"==typeof replacer||Array.isArray(replacer)?_replacer=replacer:void 0===options&&replacer&&(options=replacer,replacer=void 0);const opt=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},options);this.options=opt;let{version}=opt;options?._directives?(this.directives=options._directives.atDocument(),this.directives.yaml.explicit&&(version=this.directives.yaml.version)):this.directives=new Directives({version}),this.setSchema(version,options),this.contents=void 0===value?null:this.createNode(value,_replacer,options)}clone(){const copy=Object.create(Document_Document.prototype,{[NODE_TYPE]:{value:DOC}});return copy.commentBefore=this.commentBefore,copy.comment=this.comment,copy.errors=this.errors.slice(),copy.warnings=this.warnings.slice(),copy.options=Object.assign({},this.options),this.directives&&(copy.directives=this.directives.clone()),copy.schema=this.schema.clone(),copy.contents=isNode(this.contents)?this.contents.clone(copy.schema):this.contents,this.range&&(copy.range=this.range.slice()),copy}add(value){assertCollection(this.contents)&&this.contents.add(value)}addIn(path,value){assertCollection(this.contents)&&this.contents.addIn(path,value)}createAlias(node,name){if(!node.anchor){const prev=anchorNames(this);node.anchor=!name||prev.has(name)?findNewAnchor(name||"a",prev):name}return new Alias(node.anchor)}createNode(value,replacer,options){let _replacer;if("function"==typeof replacer)value=replacer.call({"":value},"",value),_replacer=replacer;else if(Array.isArray(replacer)){const keyToStr=v=>"number"==typeof v||v instanceof String||v instanceof Number,asStr=replacer.filter(keyToStr).map(String);asStr.length>0&&(replacer=replacer.concat(asStr)),_replacer=replacer}else void 0===options&&replacer&&(options=replacer,replacer=void 0);const{aliasDuplicateObjects,anchorPrefix,flow,keepUndefined,onTagObj,tag}=options??{},{onAnchor,setAnchors,sourceObjects}=function createNodeAnchors(doc,prefix){const aliasObjects=[],sourceObjects=new Map;let prevAnchors=null;return{onAnchor:source=>{aliasObjects.push(source),prevAnchors||(prevAnchors=anchorNames(doc));const anchor=findNewAnchor(prefix,prevAnchors);return prevAnchors.add(anchor),anchor},setAnchors:()=>{for(const source of aliasObjects){const ref=sourceObjects.get(source);if("object"!=typeof ref||!ref.anchor||!isScalar(ref.node)&&!isCollection(ref.node)){const error=new Error("Failed to resolve repeated object (this should not happen)");throw error.source=source,error}ref.node.anchor=ref.anchor}},sourceObjects}}(this,anchorPrefix||"a"),node=createNode(value,tag,{aliasDuplicateObjects:aliasDuplicateObjects??!0,keepUndefined:keepUndefined??!1,onAnchor,onTagObj,replacer:_replacer,schema:this.schema,sourceObjects});return flow&&isCollection(node)&&(node.flow=!0),setAnchors(),node}createPair(key,value,options={}){const k=this.createNode(key,null,options),v=this.createNode(value,null,options);return new Pair(k,v)}delete(key){return!!assertCollection(this.contents)&&this.contents.delete(key)}deleteIn(path){return isEmptyPath(path)?null!=this.contents&&(this.contents=null,!0):!!assertCollection(this.contents)&&this.contents.deleteIn(path)}get(key,keepScalar){return isCollection(this.contents)?this.contents.get(key,keepScalar):void 0}getIn(path,keepScalar){return isEmptyPath(path)?!keepScalar&&isScalar(this.contents)?this.contents.value:this.contents:isCollection(this.contents)?this.contents.getIn(path,keepScalar):void 0}has(key){return!!isCollection(this.contents)&&this.contents.has(key)}hasIn(path){return isEmptyPath(path)?void 0!==this.contents:!!isCollection(this.contents)&&this.contents.hasIn(path)}set(key,value){null==this.contents?this.contents=collectionFromPath(this.schema,[key],value):assertCollection(this.contents)&&this.contents.set(key,value)}setIn(path,value){isEmptyPath(path)?this.contents=value:null==this.contents?this.contents=collectionFromPath(this.schema,Array.from(path),value):assertCollection(this.contents)&&this.contents.setIn(path,value)}setSchema(version,options={}){let opt;switch("number"==typeof version&&(version=String(version)),version){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Directives({version:"1.1"}),opt={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=version:this.directives=new Directives({version}),opt={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,opt=null;break;default:{const sv=JSON.stringify(version);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${sv}`)}}if(options.schema instanceof Object)this.schema=options.schema;else{if(!opt)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new Schema(Object.assign(opt,options))}}toJS({json,jsonArg,mapAsMap,maxAliasCount,onAnchor,reviver}={}){const ctx={anchors:new Map,doc:this,keep:!json,mapAsMap:!0===mapAsMap,mapKeyWarned:!1,maxAliasCount:"number"==typeof maxAliasCount?maxAliasCount:100},res=toJS(this.contents,jsonArg??"",ctx);if("function"==typeof onAnchor)for(const{count,res}of ctx.anchors.values())onAnchor(res,count);return"function"==typeof reviver?applyReviver(reviver,{"":res},"",res):res}toJSON(jsonArg,onAnchor){return this.toJS({json:!0,jsonArg,mapAsMap:!1,onAnchor})}toString(options={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in options&&(!Number.isInteger(options.indent)||Number(options.indent)<=0)){const s=JSON.stringify(options.indent);throw new Error(`"indent" option must be a positive integer, not ${s}`)}return function stringifyDocument(doc,options){const lines=[];let hasDirectives=!0===options.directives;if(!1!==options.directives&&doc.directives){const dir=doc.directives.toString(doc);dir?(lines.push(dir),hasDirectives=!0):doc.directives.docStart&&(hasDirectives=!0)}hasDirectives&&lines.push("---");const ctx=createStringifyContext(doc,options),{commentString}=ctx.options;if(doc.commentBefore){1!==lines.length&&lines.unshift("");const cs=commentString(doc.commentBefore);lines.unshift(indentComment(cs,""))}let chompKeep=!1,contentComment=null;if(doc.contents){if(isNode(doc.contents)){if(doc.contents.spaceBefore&&hasDirectives&&lines.push(""),doc.contents.commentBefore){const cs=commentString(doc.contents.commentBefore);lines.push(indentComment(cs,""))}ctx.forceBlockIndent=!!doc.comment,contentComment=doc.contents.comment}const onChompKeep=contentComment?void 0:()=>chompKeep=!0;let body=stringify(doc.contents,ctx,(()=>contentComment=null),onChompKeep);contentComment&&(body+=lineComment(body,"",commentString(contentComment))),"|"!==body[0]&&">"!==body[0]||"---"!==lines[lines.length-1]?lines.push(body):lines[lines.length-1]=`--- ${body}`}else lines.push(stringify(doc.contents,ctx));if(doc.directives?.docEnd)if(doc.comment){const cs=commentString(doc.comment);cs.includes("\n")?(lines.push("..."),lines.push(indentComment(cs,""))):lines.push(`... ${cs}`)}else lines.push("...");else{let dc=doc.comment;dc&&chompKeep&&(dc=dc.replace(/^\n+/,"")),dc&&(chompKeep&&!contentComment||""===lines[lines.length-1]||lines.push(""),lines.push(indentComment(commentString(dc),"")))}return lines.join("\n")+"\n"}(this,options)}}function assertCollection(contents){if(isCollection(contents))return!0;throw new Error("Expected a YAML collection as document contents")}class YAMLError extends Error{constructor(name,pos,code,message){super(),this.name=name,this.code=code,this.message=message,this.pos=pos}}class errors_YAMLParseError extends YAMLError{constructor(pos,code,message){super("YAMLParseError",pos,code,message)}}class YAMLWarning extends YAMLError{constructor(pos,code,message){super("YAMLWarning",pos,code,message)}}const errors_prettifyError=(src,lc)=>error=>{if(-1===error.pos[0])return;error.linePos=error.pos.map((pos=>lc.linePos(pos)));const{line,col}=error.linePos[0];error.message+=` at line ${line}, column ${col}`;let ci=col-1,lineStr=src.substring(lc.lineStarts[line-1],lc.lineStarts[line]).replace(/[\n\r]+$/,"");if(ci>=60&&lineStr.length>80){const trimStart=Math.min(ci-39,lineStr.length-79);lineStr="…"+lineStr.substring(trimStart),ci-=trimStart-1}if(lineStr.length>80&&(lineStr=lineStr.substring(0,79)+"…"),line>1&&/^ *$/.test(lineStr.substring(0,ci))){let prev=src.substring(lc.lineStarts[line-2],lc.lineStarts[line-1]);prev.length>80&&(prev=prev.substring(0,79)+"…\n"),lineStr=prev+lineStr}if(/[^ ]/.test(lineStr)){let count=1;const end=error.linePos[1];end&&end.line===line&&end.col>col&&(count=Math.max(1,Math.min(end.col-col,80-ci)));const pointer=" ".repeat(ci)+"^".repeat(count);error.message+=`:\n\n${lineStr}\n${pointer}\n`}};function resolveProps(tokens,{flow,indicator,next,offset,onError,startOnNewline}){let spaceBefore=!1,atNewline=startOnNewline,hasSpace=startOnNewline,comment="",commentSep="",hasNewline=!1,hasNewlineAfterProp=!1,reqSpace=!1,anchor=null,tag=null,comma=null,found=null,start=null;for(const token of tokens)switch(reqSpace&&("space"!==token.type&&"newline"!==token.type&&"comma"!==token.type&&onError(token.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),reqSpace=!1),token.type){case"space":!flow&&atNewline&&"doc-start"!==indicator&&"\t"===token.source[0]&&onError(token,"TAB_AS_INDENT","Tabs are not allowed as indentation"),hasSpace=!0;break;case"comment":{hasSpace||onError(token,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const cb=token.source.substring(1)||" ";comment?comment+=commentSep+cb:comment=cb,commentSep="",atNewline=!1;break}case"newline":atNewline?comment?comment+=token.source:spaceBefore=!0:commentSep+=token.source,atNewline=!0,hasNewline=!0,(anchor||tag)&&(hasNewlineAfterProp=!0),hasSpace=!0;break;case"anchor":anchor&&onError(token,"MULTIPLE_ANCHORS","A node can have at most one anchor"),token.source.endsWith(":")&&onError(token.offset+token.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),anchor=token,null===start&&(start=token.offset),atNewline=!1,hasSpace=!1,reqSpace=!0;break;case"tag":tag&&onError(token,"MULTIPLE_TAGS","A node can have at most one tag"),tag=token,null===start&&(start=token.offset),atNewline=!1,hasSpace=!1,reqSpace=!0;break;case indicator:(anchor||tag)&&onError(token,"BAD_PROP_ORDER",`Anchors and tags must be after the ${token.source} indicator`),found&&onError(token,"UNEXPECTED_TOKEN",`Unexpected ${token.source} in ${flow??"collection"}`),found=token,atNewline=!1,hasSpace=!1;break;case"comma":if(flow){comma&&onError(token,"UNEXPECTED_TOKEN",`Unexpected , in ${flow}`),comma=token,atNewline=!1,hasSpace=!1;break}default:onError(token,"UNEXPECTED_TOKEN",`Unexpected ${token.type} token`),atNewline=!1,hasSpace=!1}const last=tokens[tokens.length-1],end=last?last.offset+last.source.length:offset;return reqSpace&&next&&"space"!==next.type&&"newline"!==next.type&&"comma"!==next.type&&("scalar"!==next.type||""!==next.source)&&onError(next.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma,found,spaceBefore,comment,hasNewline,hasNewlineAfterProp,anchor,tag,end,start:start??end}}function containsNewline(key){if(!key)return null;switch(key.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(key.source.includes("\n"))return!0;if(key.end)for(const st of key.end)if("newline"===st.type)return!0;return!1;case"flow-collection":for(const it of key.items){for(const st of it.start)if("newline"===st.type)return!0;if(it.sep)for(const st of it.sep)if("newline"===st.type)return!0;if(containsNewline(it.key)||containsNewline(it.value))return!0}return!1;default:return!0}}function flowIndentCheck(indent,fc,onError){if("flow-collection"===fc?.type){const end=fc.end[0];if(end.indent===indent&&("]"===end.source||"}"===end.source)&&containsNewline(fc)){onError(end,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}}function mapIncludes(ctx,items,search){const{uniqueKeys}=ctx.options;if(!1===uniqueKeys)return!1;const isEqual="function"==typeof uniqueKeys?uniqueKeys:(a,b)=>a===b||isScalar(a)&&isScalar(b)&&a.value===b.value&&!("<<"===a.value&&ctx.schema.merge);return items.some((pair=>isEqual(pair.key,search)))}const startColMsg="All mapping items must start at the same column";function resolveEnd(end,offset,reqSpace,onError){let comment="";if(end){let hasSpace=!1,sep="";for(const token of end){const{source,type}=token;switch(type){case"space":hasSpace=!0;break;case"comment":{reqSpace&&!hasSpace&&onError(token,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const cb=source.substring(1)||" ";comment?comment+=sep+cb:comment=cb,sep="";break}case"newline":comment&&(sep+=source),hasSpace=!0;break;default:onError(token,"UNEXPECTED_TOKEN",`Unexpected ${type} at node end`)}offset+=source.length}}return{comment,offset}}const blockMsg="Block collections are not allowed within flow collections",isBlock=token=>token&&("block-map"===token.type||"block-seq"===token.type);function resolveCollection(CN,ctx,token,onError,tagName,tag){const coll="block-map"===token.type?function resolveBlockMap({composeNode,composeEmptyNode},ctx,bm,onError,tag){const map=new(tag?.nodeClass??YAMLMap)(ctx.schema);ctx.atRoot&&(ctx.atRoot=!1);let offset=bm.offset,commentEnd=null;for(const collItem of bm.items){const{start,key,sep,value}=collItem,keyProps=resolveProps(start,{indicator:"explicit-key-ind",next:key??sep?.[0],offset,onError,startOnNewline:!0}),implicitKey=!keyProps.found;if(implicitKey){if(key&&("block-seq"===key.type?onError(offset,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in key&&key.indent!==bm.indent&&onError(offset,"BAD_INDENT",startColMsg)),!keyProps.anchor&&!keyProps.tag&&!sep){commentEnd=keyProps.end,keyProps.comment&&(map.comment?map.comment+="\n"+keyProps.comment:map.comment=keyProps.comment);continue}(keyProps.hasNewlineAfterProp||containsNewline(key))&&onError(key??start[start.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else keyProps.found?.indent!==bm.indent&&onError(offset,"BAD_INDENT",startColMsg);const keyStart=keyProps.end,keyNode=key?composeNode(ctx,key,keyProps,onError):composeEmptyNode(ctx,keyStart,start,null,keyProps,onError);ctx.schema.compat&&flowIndentCheck(bm.indent,key,onError),mapIncludes(ctx,map.items,keyNode)&&onError(keyStart,"DUPLICATE_KEY","Map keys must be unique");const valueProps=resolveProps(sep??[],{indicator:"map-value-ind",next:value,offset:keyNode.range[2],onError,startOnNewline:!key||"block-scalar"===key.type});if(offset=valueProps.end,valueProps.found){implicitKey&&("block-map"!==value?.type||valueProps.hasNewline||onError(offset,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),ctx.options.strict&&keyProps.start<valueProps.found.offset-1024&&onError(keyNode.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const valueNode=value?composeNode(ctx,value,valueProps,onError):composeEmptyNode(ctx,offset,sep,null,valueProps,onError);ctx.schema.compat&&flowIndentCheck(bm.indent,value,onError),offset=valueNode.range[2];const pair=new Pair(keyNode,valueNode);ctx.options.keepSourceTokens&&(pair.srcToken=collItem),map.items.push(pair)}else{implicitKey&&onError(keyNode.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),valueProps.comment&&(keyNode.comment?keyNode.comment+="\n"+valueProps.comment:keyNode.comment=valueProps.comment);const pair=new Pair(keyNode);ctx.options.keepSourceTokens&&(pair.srcToken=collItem),map.items.push(pair)}}return commentEnd&&commentEnd<offset&&onError(commentEnd,"IMPOSSIBLE","Map comment with trailing content"),map.range=[bm.offset,offset,commentEnd??offset],map}(CN,ctx,token,onError,tag):"block-seq"===token.type?function resolveBlockSeq({composeNode,composeEmptyNode},ctx,bs,onError,tag){const seq=new(tag?.nodeClass??YAMLSeq)(ctx.schema);ctx.atRoot&&(ctx.atRoot=!1);let offset=bs.offset,commentEnd=null;for(const{start,value}of bs.items){const props=resolveProps(start,{indicator:"seq-item-ind",next:value,offset,onError,startOnNewline:!0});if(!props.found){if(!(props.anchor||props.tag||value)){commentEnd=props.end,props.comment&&(seq.comment=props.comment);continue}value&&"block-seq"===value.type?onError(props.end,"BAD_INDENT","All sequence items must start at the same column"):onError(offset,"MISSING_CHAR","Sequence item without - indicator")}const node=value?composeNode(ctx,value,props,onError):composeEmptyNode(ctx,props.end,start,null,props,onError);ctx.schema.compat&&flowIndentCheck(bs.indent,value,onError),offset=node.range[2],seq.items.push(node)}return seq.range=[bs.offset,offset,commentEnd??offset],seq}(CN,ctx,token,onError,tag):function resolveFlowCollection({composeNode,composeEmptyNode},ctx,fc,onError,tag){const isMap="{"===fc.start.source,fcName=isMap?"flow map":"flow sequence",coll=new(tag?.nodeClass??(isMap?YAMLMap:YAMLSeq))(ctx.schema);coll.flow=!0;const atRoot=ctx.atRoot;atRoot&&(ctx.atRoot=!1);let offset=fc.offset+fc.start.source.length;for(let i=0;i<fc.items.length;++i){const collItem=fc.items[i],{start,key,sep,value}=collItem,props=resolveProps(start,{flow:fcName,indicator:"explicit-key-ind",next:key??sep?.[0],offset,onError,startOnNewline:!1});if(!props.found){if(!(props.anchor||props.tag||sep||value)){0===i&&props.comma?onError(props.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${fcName}`):i<fc.items.length-1&&onError(props.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${fcName}`),props.comment&&(coll.comment?coll.comment+="\n"+props.comment:coll.comment=props.comment),offset=props.end;continue}!isMap&&ctx.options.strict&&containsNewline(key)&&onError(key,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===i)props.comma&&onError(props.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${fcName}`);else if(props.comma||onError(props.start,"MISSING_CHAR",`Missing , between ${fcName} items`),props.comment){let prevItemComment="";loop:for(const st of start)switch(st.type){case"comma":case"space":break;case"comment":prevItemComment=st.source.substring(1);break loop;default:break loop}if(prevItemComment){let prev=coll.items[coll.items.length-1];isPair(prev)&&(prev=prev.value??prev.key),prev.comment?prev.comment+="\n"+prevItemComment:prev.comment=prevItemComment,props.comment=props.comment.substring(prevItemComment.length+1)}}if(isMap||sep||props.found){const keyStart=props.end,keyNode=key?composeNode(ctx,key,props,onError):composeEmptyNode(ctx,keyStart,start,null,props,onError);isBlock(key)&&onError(keyNode.range,"BLOCK_IN_FLOW",blockMsg);const valueProps=resolveProps(sep??[],{flow:fcName,indicator:"map-value-ind",next:value,offset:keyNode.range[2],onError,startOnNewline:!1});if(valueProps.found){if(!isMap&&!props.found&&ctx.options.strict){if(sep)for(const st of sep){if(st===valueProps.found)break;if("newline"===st.type){onError(st,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}props.start<valueProps.found.offset-1024&&onError(valueProps.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else value&&("source"in value&&value.source&&":"===value.source[0]?onError(value,"MISSING_CHAR",`Missing space after : in ${fcName}`):onError(valueProps.start,"MISSING_CHAR",`Missing , or : between ${fcName} items`));const valueNode=value?composeNode(ctx,value,valueProps,onError):valueProps.found?composeEmptyNode(ctx,valueProps.end,sep,null,valueProps,onError):null;valueNode?isBlock(value)&&onError(valueNode.range,"BLOCK_IN_FLOW",blockMsg):valueProps.comment&&(keyNode.comment?keyNode.comment+="\n"+valueProps.comment:keyNode.comment=valueProps.comment);const pair=new Pair(keyNode,valueNode);if(ctx.options.keepSourceTokens&&(pair.srcToken=collItem),isMap){const map=coll;mapIncludes(ctx,map.items,keyNode)&&onError(keyStart,"DUPLICATE_KEY","Map keys must be unique"),map.items.push(pair)}else{const map=new YAMLMap(ctx.schema);map.flow=!0,map.items.push(pair),coll.items.push(map)}offset=valueNode?valueNode.range[2]:valueProps.end}else{const valueNode=value?composeNode(ctx,value,props,onError):composeEmptyNode(ctx,props.end,sep,null,props,onError);coll.items.push(valueNode),offset=valueNode.range[2],isBlock(value)&&onError(valueNode.range,"BLOCK_IN_FLOW",blockMsg)}}const expectedEnd=isMap?"}":"]",[ce,...ee]=fc.end;let cePos=offset;if(ce&&ce.source===expectedEnd)cePos=ce.offset+ce.source.length;else{const name=fcName[0].toUpperCase()+fcName.substring(1);onError(offset,atRoot?"MISSING_CHAR":"BAD_INDENT",atRoot?`${name} must end with a ${expectedEnd}`:`${name} in block collection must be sufficiently indented and end with a ${expectedEnd}`),ce&&1!==ce.source.length&&ee.unshift(ce)}if(ee.length>0){const end=resolveEnd(ee,cePos,ctx.options.strict,onError);end.comment&&(coll.comment?coll.comment+="\n"+end.comment:coll.comment=end.comment),coll.range=[fc.offset,cePos,end.offset]}else coll.range=[fc.offset,cePos,cePos];return coll}(CN,ctx,token,onError,tag),Coll=coll.constructor;return"!"===tagName||tagName===Coll.tagName?(coll.tag=Coll.tagName,coll):(tagName&&(coll.tag=tagName),coll)}function resolve_block_scalar_resolveBlockScalar(scalar,strict,onError){const start=scalar.offset,header=function parseBlockScalarHeader({offset,props},strict,onError){if("block-scalar-header"!==props[0].type)return onError(props[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source}=props[0],mode=source[0];let indent=0,chomp="",error=-1;for(let i=1;i<source.length;++i){const ch=source[i];if(chomp||"-"!==ch&&"+"!==ch){const n=Number(ch);!indent&&n?indent=n:-1===error&&(error=offset+i)}else chomp=ch}-1!==error&&onError(error,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${source}`);let hasSpace=!1,comment="",length=source.length;for(let i=1;i<props.length;++i){const token=props[i];switch(token.type){case"space":hasSpace=!0;case"newline":length+=token.source.length;break;case"comment":if(strict&&!hasSpace){onError(token,"MISSING_CHAR","Comments must be separated from other tokens by white space characters")}length+=token.source.length,comment=token.source.substring(1);break;case"error":onError(token,"UNEXPECTED_TOKEN",token.message),length+=token.source.length;break;default:{onError(token,"UNEXPECTED_TOKEN",`Unexpected token in block scalar header: ${token.type}`);const ts=token.source;ts&&"string"==typeof ts&&(length+=ts.length)}}}return{mode,indent,chomp,comment,length}}(scalar,strict,onError);if(!header)return{value:"",type:null,comment:"",range:[start,start,start]};const type=">"===header.mode?Scalar.BLOCK_FOLDED:Scalar.BLOCK_LITERAL,lines=scalar.source?function splitLines(source){const split=source.split(/\n( *)/),first=split[0],m=first.match(/^( *)/),lines=[m?.[1]?[m[1],first.slice(m[1].length)]:["",first]];for(let i=1;i<split.length;i+=2)lines.push([split[i],split[i+1]]);return lines}(scalar.source):[];let chompStart=lines.length;for(let i=lines.length-1;i>=0;--i){const content=lines[i][1];if(""!==content&&"\r"!==content)break;chompStart=i}if(0===chompStart){const value="+"===header.chomp&&lines.length>0?"\n".repeat(Math.max(1,lines.length-1)):"";let end=start+header.length;return scalar.source&&(end+=scalar.source.length),{value,type,comment:header.comment,range:[start,end,end]}}let trimIndent=scalar.indent+header.indent,offset=scalar.offset+header.length,contentStart=0;for(let i=0;i<chompStart;++i){const[indent,content]=lines[i];if(""!==content&&"\r"!==content){if(indent.length<trimIndent){const message="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";onError(offset+indent.length,"MISSING_CHAR",message)}0===header.indent&&(trimIndent=indent.length),contentStart=i;break}0===header.indent&&indent.length>trimIndent&&(trimIndent=indent.length),offset+=indent.length+content.length+1}for(let i=lines.length-1;i>=chompStart;--i)lines[i][0].length>trimIndent&&(chompStart=i+1);let value="",sep="",prevMoreIndented=!1;for(let i=0;i<contentStart;++i)value+=lines[i][0].slice(trimIndent)+"\n";for(let i=contentStart;i<chompStart;++i){let[indent,content]=lines[i];offset+=indent.length+content.length+1;const crlf="\r"===content[content.length-1];if(crlf&&(content=content.slice(0,-1)),content&&indent.length<trimIndent){const message=`Block scalar lines must not be less indented than their ${header.indent?"explicit indentation indicator":"first line"}`;onError(offset-content.length-(crlf?2:1),"BAD_INDENT",message),indent=""}type===Scalar.BLOCK_LITERAL?(value+=sep+indent.slice(trimIndent)+content,sep="\n"):indent.length>trimIndent||"\t"===content[0]?(" "===sep?sep="\n":prevMoreIndented||"\n"!==sep||(sep="\n\n"),value+=sep+indent.slice(trimIndent)+content,sep="\n",prevMoreIndented=!0):""===content?"\n"===sep?value+="\n":sep="\n":(value+=sep+content,sep=" ",prevMoreIndented=!1)}switch(header.chomp){case"-":break;case"+":for(let i=chompStart;i<lines.length;++i)value+="\n"+lines[i][0].slice(trimIndent);"\n"!==value[value.length-1]&&(value+="\n");break;default:value+="\n"}const end=start+header.length+scalar.source.length;return{value,type,comment:header.comment,range:[start,end,end]}}function resolve_flow_scalar_resolveFlowScalar(scalar,strict,onError){const{offset,type,source,end}=scalar;let _type,value;const _onError=(rel,code,msg)=>onError(offset+rel,code,msg);switch(type){case"scalar":_type=Scalar.PLAIN,value=function plainValue(source,onError){let badChar="";switch(source[0]){case"\t":badChar="a tab character";break;case",":badChar="flow indicator character ,";break;case"%":badChar="directive indicator character %";break;case"|":case">":badChar=`block scalar indicator ${source[0]}`;break;case"@":case"`":badChar=`reserved character ${source[0]}`}badChar&&onError(0,"BAD_SCALAR_START",`Plain value cannot start with ${badChar}`);return foldLines(source)}(source,_onError);break;case"single-quoted-scalar":_type=Scalar.QUOTE_SINGLE,value=function singleQuotedValue(source,onError){"'"===source[source.length-1]&&1!==source.length||onError(source.length,"MISSING_CHAR","Missing closing 'quote");return foldLines(source.slice(1,-1)).replace(/''/g,"'")}(source,_onError);break;case"double-quoted-scalar":_type=Scalar.QUOTE_DOUBLE,value=function doubleQuotedValue(source,onError){let res="";for(let i=1;i<source.length-1;++i){const ch=source[i];if("\r"!==ch||"\n"!==source[i+1])if("\n"===ch){const{fold,offset}=foldNewline(source,i);res+=fold,i=offset}else if("\\"===ch){let next=source[++i];const cc=escapeCodes[next];if(cc)res+=cc;else if("\n"===next)for(next=source[i+1];" "===next||"\t"===next;)next=source[1+ ++i];else if("\r"===next&&"\n"===source[i+1])for(next=source[1+ ++i];" "===next||"\t"===next;)next=source[1+ ++i];else if("x"===next||"u"===next||"U"===next){const length={x:2,u:4,U:8}[next];res+=parseCharCode(source,i+1,length,onError),i+=length}else{const raw=source.substr(i-1,2);onError(i-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${raw}`),res+=raw}}else if(" "===ch||"\t"===ch){const wsStart=i;let next=source[i+1];for(;" "===next||"\t"===next;)next=source[1+ ++i];"\n"===next||"\r"===next&&"\n"===source[i+2]||(res+=i>wsStart?source.slice(wsStart,i+1):ch)}else res+=ch}'"'===source[source.length-1]&&1!==source.length||onError(source.length,"MISSING_CHAR",'Missing closing "quote');return res}(source,_onError);break;default:return onError(scalar,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${type}`),{value:"",type:null,comment:"",range:[offset,offset+source.length,offset+source.length]}}const valueEnd=offset+source.length,re=resolveEnd(end,valueEnd,strict,onError);return{value,type:_type,comment:re.comment,range:[offset,valueEnd,re.offset]}}function foldLines(source){let first,line;try{first=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),line=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch(_){first=/(.*?)[ \t]*\r?\n/sy,line=/[ \t]*(.*?)[ \t]*\r?\n/sy}let match=first.exec(source);if(!match)return source;let res=match[1],sep=" ",pos=first.lastIndex;for(line.lastIndex=pos;match=line.exec(source);)""===match[1]?"\n"===sep?res+=sep:sep="\n":(res+=sep+match[1],sep=" "),pos=line.lastIndex;const last=/[ \t]*(.*)/sy;return last.lastIndex=pos,match=last.exec(source),res+sep+(match?.[1]??"")}function foldNewline(source,offset){let fold="",ch=source[offset+1];for(;!(" "!==ch&&"\t"!==ch&&"\n"!==ch&&"\r"!==ch||"\r"===ch&&"\n"!==source[offset+2]);)"\n"===ch&&(fold+="\n"),ch=source[(offset+=1)+1];return fold||(fold=" "),{fold,offset}}const escapeCodes={0:"\0",a:"",b:"\b",e:"",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function parseCharCode(source,offset,length,onError){const cc=source.substr(offset,length),code=cc.length===length&&/^[0-9a-fA-F]+$/.test(cc)?parseInt(cc,16):NaN;if(isNaN(code)){const raw=source.substr(offset-2,length+2);return onError(offset-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${raw}`),raw}return String.fromCodePoint(code)}function composeScalar(ctx,token,tagToken,onError){const{value,type,comment,range}="block-scalar"===token.type?resolve_block_scalar_resolveBlockScalar(token,ctx.options.strict,onError):resolve_flow_scalar_resolveFlowScalar(token,ctx.options.strict,onError),tagName=tagToken?ctx.directives.tagName(tagToken.source,(msg=>onError(tagToken,"TAG_RESOLVE_FAILED",msg))):null,tag=tagToken&&tagName?function findScalarTagByName(schema,value,tagName,tagToken,onError){if("!"===tagName)return schema[SCALAR];const matchWithTest=[];for(const tag of schema.tags)if(!tag.collection&&tag.tag===tagName){if(!tag.default||!tag.test)return tag;matchWithTest.push(tag)}for(const tag of matchWithTest)if(tag.test?.test(value))return tag;const kt=schema.knownTags[tagName];if(kt&&!kt.collection)return schema.tags.push(Object.assign({},kt,{default:!1,test:void 0})),kt;return onError(tagToken,"TAG_RESOLVE_FAILED",`Unresolved tag: ${tagName}`,"tag:yaml.org,2002:str"!==tagName),schema[SCALAR]}(ctx.schema,value,tagName,tagToken,onError):"scalar"===token.type?function findScalarTagByTest({directives,schema},value,token,onError){const tag=schema.tags.find((tag=>tag.default&&tag.test?.test(value)))||schema[SCALAR];if(schema.compat){const compat=schema.compat.find((tag=>tag.default&&tag.test?.test(value)))??schema[SCALAR];if(tag.tag!==compat.tag){onError(token,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${directives.tagString(tag.tag)} or ${directives.tagString(compat.tag)}`,!0)}}return tag}(ctx,value,token,onError):ctx.schema[SCALAR];let scalar;try{const res=tag.resolve(value,(msg=>onError(tagToken??token,"TAG_RESOLVE_FAILED",msg)),ctx.options);scalar=isScalar(res)?res:new Scalar(res)}catch(error){const msg=error instanceof Error?error.message:String(error);onError(tagToken??token,"TAG_RESOLVE_FAILED",msg),scalar=new Scalar(value)}return scalar.range=range,scalar.source=value,type&&(scalar.type=type),tagName&&(scalar.tag=tagName),tag.format&&(scalar.format=tag.format),comment&&(scalar.comment=comment),scalar}function emptyScalarPosition(offset,before,pos){if(before){null===pos&&(pos=before.length);for(let i=pos-1;i>=0;--i){let st=before[i];switch(st.type){case"space":case"comment":case"newline":offset-=st.source.length;continue}for(st=before[++i];"space"===st?.type;)offset+=st.source.length,st=before[++i];break}}return offset}const CN={composeNode,composeEmptyNode};function composeNode(ctx,token,props,onError){const{spaceBefore,comment,anchor,tag}=props;let node,isSrcToken=!0;switch(token.type){case"alias":node=function composeAlias({options},{offset,source,end},onError){const alias=new Alias(source.substring(1));""===alias.source&&onError(offset,"BAD_ALIAS","Alias cannot be an empty string");alias.source.endsWith(":")&&onError(offset+source.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const valueEnd=offset+source.length,re=resolveEnd(end,valueEnd,options.strict,onError);alias.range=[offset,valueEnd,re.offset],re.comment&&(alias.comment=re.comment);return alias}(ctx,token,onError),(anchor||tag)&&onError(token,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":node=composeScalar(ctx,token,tag,onError),anchor&&(node.anchor=anchor.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":node=function composeCollection(CN,ctx,token,tagToken,onError){const tagName=tagToken?ctx.directives.tagName(tagToken.source,(msg=>onError(tagToken,"TAG_RESOLVE_FAILED",msg))):null,expType="block-map"===token.type?"map":"block-seq"===token.type?"seq":"{"===token.start.source?"map":"seq";if(!tagToken||!tagName||"!"===tagName||tagName===YAMLMap.tagName&&"map"===expType||tagName===YAMLSeq.tagName&&"seq"===expType||!expType)return resolveCollection(CN,ctx,token,onError,tagName);let tag=ctx.schema.tags.find((t=>t.tag===tagName&&t.collection===expType));if(!tag){const kt=ctx.schema.knownTags[tagName];if(!kt||kt.collection!==expType)return kt?.collection?onError(tagToken,"BAD_COLLECTION_TYPE",`${kt.tag} used for ${expType} collection, but expects ${kt.collection}`,!0):onError(tagToken,"TAG_RESOLVE_FAILED",`Unresolved tag: ${tagName}`,!0),resolveCollection(CN,ctx,token,onError,tagName);ctx.schema.tags.push(Object.assign({},kt,{default:!1})),tag=kt}const coll=resolveCollection(CN,ctx,token,onError,tagName,tag),res=tag.resolve?.(coll,(msg=>onError(tagToken,"TAG_RESOLVE_FAILED",msg)),ctx.options)??coll,node=isNode(res)?res:new Scalar(res);return node.range=coll.range,node.tag=tagName,tag?.format&&(node.format=tag.format),node}(CN,ctx,token,tag,onError),anchor&&(node.anchor=anchor.source.substring(1));break;default:onError(token,"UNEXPECTED_TOKEN","error"===token.type?token.message:`Unsupported token (type: ${token.type})`),node=composeEmptyNode(ctx,token.offset,void 0,null,props,onError),isSrcToken=!1}return anchor&&""===node.anchor&&onError(anchor,"BAD_ALIAS","Anchor cannot be an empty string"),spaceBefore&&(node.spaceBefore=!0),comment&&("scalar"===token.type&&""===token.source?node.comment=comment:node.commentBefore=comment),ctx.options.keepSourceTokens&&isSrcToken&&(node.srcToken=token),node}function composeEmptyNode(ctx,offset,before,pos,{spaceBefore,comment,anchor,tag,end},onError){const node=composeScalar(ctx,{type:"scalar",offset:emptyScalarPosition(offset,before,pos),indent:-1,source:""},tag,onError);return anchor&&(node.anchor=anchor.source.substring(1),""===node.anchor&&onError(anchor,"BAD_ALIAS","Anchor cannot be an empty string")),spaceBefore&&(node.spaceBefore=!0),comment&&(node.comment=comment,node.range[2]=end),node}function getErrorPos(src){if("number"==typeof src)return[src,src+1];if(Array.isArray(src))return 2===src.length?src:[src[0],src[1]];const{offset,source}=src;return[offset,offset+("string"==typeof source?source.length:1)]}function parsePrelude(prelude){let comment="",atComment=!1,afterEmptyLine=!1;for(let i=0;i<prelude.length;++i){const source=prelude[i];switch(source[0]){case"#":comment+=(""===comment?"":afterEmptyLine?"\n\n":"\n")+(source.substring(1)||" "),atComment=!0,afterEmptyLine=!1;break;case"%":"#"!==prelude[i+1]?.[0]&&(i+=1),atComment=!1;break;default:atComment||(afterEmptyLine=!0),atComment=!1}}return{comment,afterEmptyLine}}class composer_Composer{constructor(options={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(source,code,message,warning)=>{const pos=getErrorPos(source);warning?this.warnings.push(new YAMLWarning(pos,code,message)):this.errors.push(new errors_YAMLParseError(pos,code,message))},this.directives=new Directives({version:options.version||"1.2"}),this.options=options}decorate(doc,afterDoc){const{comment,afterEmptyLine}=parsePrelude(this.prelude);if(comment){const dc=doc.contents;if(afterDoc)doc.comment=doc.comment?`${doc.comment}\n${comment}`:comment;else if(afterEmptyLine||doc.directives.docStart||!dc)doc.commentBefore=comment;else if(isCollection(dc)&&!dc.flow&&dc.items.length>0){let it=dc.items[0];isPair(it)&&(it=it.key);const cb=it.commentBefore;it.commentBefore=cb?`${comment}\n${cb}`:comment}else{const cb=dc.commentBefore;dc.commentBefore=cb?`${comment}\n${cb}`:comment}}afterDoc?(Array.prototype.push.apply(doc.errors,this.errors),Array.prototype.push.apply(doc.warnings,this.warnings)):(doc.errors=this.errors,doc.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:parsePrelude(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(tokens,forceDoc=!1,endOffset=-1){for(const token of tokens)yield*this.next(token);yield*this.end(forceDoc,endOffset)}*next(token){switch(token.type){case"directive":this.directives.add(token.source,((offset,message,warning)=>{const pos=getErrorPos(token);pos[0]+=offset,this.onError(pos,"BAD_DIRECTIVE",message,warning)})),this.prelude.push(token.source),this.atDirectives=!0;break;case"document":{const doc=function composeDoc(options,directives,{offset,start,value,end},onError){const opts=Object.assign({_directives:directives},options),doc=new Document_Document(void 0,opts),ctx={atRoot:!0,directives:doc.directives,options:doc.options,schema:doc.schema},props=resolveProps(start,{indicator:"doc-start",next:value??end?.[0],offset,onError,startOnNewline:!0});props.found&&(doc.directives.docStart=!0,!value||"block-map"!==value.type&&"block-seq"!==value.type||props.hasNewline||onError(props.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),doc.contents=value?composeNode(ctx,value,props,onError):composeEmptyNode(ctx,props.end,start,null,props,onError);const contentEnd=doc.contents.range[2],re=resolveEnd(end,contentEnd,!1,onError);return re.comment&&(doc.comment=re.comment),doc.range=[offset,contentEnd,re.offset],doc}(this.options,this.directives,token,this.onError);this.atDirectives&&!doc.directives.docStart&&this.onError(token,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(doc,!1),this.doc&&(yield this.doc),this.doc=doc,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(token.source);break;case"error":{const msg=token.source?`${token.message}: ${JSON.stringify(token.source)}`:token.message,error=new errors_YAMLParseError(getErrorPos(token),"UNEXPECTED_TOKEN",msg);this.atDirectives||!this.doc?this.errors.push(error):this.doc.errors.push(error);break}case"doc-end":{if(!this.doc){const msg="Unexpected doc-end without preceding document";this.errors.push(new errors_YAMLParseError(getErrorPos(token),"UNEXPECTED_TOKEN",msg));break}this.doc.directives.docEnd=!0;const end=resolveEnd(token.end,token.offset+token.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),end.comment){const dc=this.doc.comment;this.doc.comment=dc?`${dc}\n${end.comment}`:end.comment}this.doc.range[2]=end.offset;break}default:this.errors.push(new errors_YAMLParseError(getErrorPos(token),"UNEXPECTED_TOKEN",`Unsupported token ${token.type}`))}}*end(forceDoc=!1,endOffset=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(forceDoc){const opts=Object.assign({_directives:this.directives},this.options),doc=new Document_Document(void 0,opts);this.atDirectives&&this.onError(endOffset,"MISSING_CHAR","Missing directives-end indicator line"),doc.range=[0,endOffset,endOffset],this.decorate(doc,!1),yield doc}}}const cst_visit_BREAK=Symbol("break visit"),cst_visit_SKIP=Symbol("skip children"),cst_visit_REMOVE=Symbol("remove item");function cst_visit_visit(cst,visitor){"type"in cst&&"document"===cst.type&&(cst={start:cst.start,value:cst.value}),_visit(Object.freeze([]),cst,visitor)}function _visit(path,item,visitor){let ctrl=visitor(item,path);if("symbol"==typeof ctrl)return ctrl;for(const field of["key","value"]){const token=item[field];if(token&&"items"in token){for(let i=0;i<token.items.length;++i){const ci=_visit(Object.freeze(path.concat([[field,i]])),token.items[i],visitor);if("number"==typeof ci)i=ci-1;else{if(ci===cst_visit_BREAK)return cst_visit_BREAK;ci===cst_visit_REMOVE&&(token.items.splice(i,1),i-=1)}}"function"==typeof ctrl&&"key"===field&&(ctrl=ctrl(item,path))}}return"function"==typeof ctrl?ctrl(item,path):ctrl}cst_visit_visit.BREAK=cst_visit_BREAK,cst_visit_visit.SKIP=cst_visit_SKIP,cst_visit_visit.REMOVE=cst_visit_REMOVE,cst_visit_visit.itemAtPath=(cst,path)=>{let item=cst;for(const[field,index]of path){const tok=item?.[field];if(!tok||!("items"in tok))return;item=tok.items[index]}return item},cst_visit_visit.parentCollection=(cst,path)=>{const parent=cst_visit_visit.itemAtPath(cst,path.slice(0,-1)),field=path[path.length-1][0],coll=parent?.[field];if(coll&&"items"in coll)return coll;throw new Error("Parent collection not found")};function isEmpty(ch){switch(ch){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}const hexDigits="0123456789ABCDEFabcdef".split(""),tagChars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),invalidFlowScalarChars=",[]{}".split(""),invalidAnchorChars=" ,[]{}\n\r\t".split(""),isNotAnchorChar=ch=>!ch||invalidAnchorChars.includes(ch);class Lexer{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(source,incomplete=!1){source&&(this.buffer=this.buffer?this.buffer+source:source,this.lineEndPos=null),this.atEnd=!incomplete;let next=this.next??"stream";for(;next&&(incomplete||this.hasChars(1));)next=yield*this.parseNext(next)}atLineEnd(){let i=this.pos,ch=this.buffer[i];for(;" "===ch||"\t"===ch;)ch=this.buffer[++i];return!ch||"#"===ch||"\n"===ch||"\r"===ch&&"\n"===this.buffer[i+1]}charAt(n){return this.buffer[this.pos+n]}continueScalar(offset){let ch=this.buffer[offset];if(this.indentNext>0){let indent=0;for(;" "===ch;)ch=this.buffer[++indent+offset];if("\r"===ch){const next=this.buffer[indent+offset+1];if("\n"===next||!next&&!this.atEnd)return offset+indent+1}return"\n"===ch||indent>=this.indentNext||!ch&&!this.atEnd?offset+indent:-1}if("-"===ch||"."===ch){const dt=this.buffer.substr(offset,3);if(("---"===dt||"..."===dt)&&isEmpty(this.buffer[offset+3]))return-1}return offset}getLine(){let end=this.lineEndPos;return("number"!=typeof end||-1!==end&&end<this.pos)&&(end=this.buffer.indexOf("\n",this.pos),this.lineEndPos=end),-1===end?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[end-1]&&(end-=1),this.buffer.substring(this.pos,end))}hasChars(n){return this.pos+n<=this.buffer.length}setNext(state){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=state,null}peek(n){return this.buffer.substr(this.pos,n)}*parseNext(next){switch(next){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let line=this.getLine();if(null===line)return this.setNext("stream");if("\ufeff"===line[0]&&(yield*this.pushCount(1),line=line.substring(1)),"%"===line[0]){let dirEnd=line.length;const cs=line.indexOf("#");if(-1!==cs){const ch=line[cs-1];" "!==ch&&"\t"!==ch||(dirEnd=cs-1)}for(;;){const ch=line[dirEnd-1];if(" "!==ch&&"\t"!==ch)break;dirEnd-=1}const n=(yield*this.pushCount(dirEnd))+(yield*this.pushSpaces(!0));return yield*this.pushCount(line.length-n),this.pushNewline(),"stream"}if(this.atLineEnd()){const sp=yield*this.pushSpaces(!0);return yield*this.pushCount(line.length-sp),yield*this.pushNewline(),"stream"}return yield"",yield*this.parseLineStart()}*parseLineStart(){const ch=this.charAt(0);if(!ch&&!this.atEnd)return this.setNext("line-start");if("-"===ch||"."===ch){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const s=this.peek(3);if("---"===s&&isEmpty(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if("..."===s&&isEmpty(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!isEmpty(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[ch0,ch1]=this.peek(2);if(!ch1&&!this.atEnd)return this.setNext("block-start");if(("-"===ch0||"?"===ch0||":"===ch0)&&isEmpty(ch1)){const n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const line=this.getLine();if(null===line)return this.setNext("doc");let n=yield*this.pushIndicators();switch(line[n]){case"#":yield*this.pushCount(line.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(isNotAnchorChar),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=(yield*this.parseBlockScalarHeader()),n+=(yield*this.pushSpaces(!0)),yield*this.pushCount(line.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let nl,sp,indent=-1;do{nl=yield*this.pushNewline(),nl>0?(sp=yield*this.pushSpaces(!1),this.indentValue=indent=sp):sp=0,sp+=(yield*this.pushSpaces(!0))}while(nl+sp>0);const line=this.getLine();if(null===line)return this.setNext("flow");if(-1!==indent&&indent<this.indentNext&&"#"!==line[0]||0===indent&&(line.startsWith("---")||line.startsWith("..."))&&isEmpty(line[3])){if(!(indent===this.indentNext-1&&1===this.flowLevel&&("]"===line[0]||"}"===line[0])))return this.flowLevel=0,yield"",yield*this.parseLineStart()}let n=0;for(;","===line[n];)n+=(yield*this.pushCount(1)),n+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(n+=(yield*this.pushIndicators()),line[n]){case void 0:return"flow";case"#":return yield*this.pushCount(line.length-n),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(isNotAnchorChar),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const next=this.charAt(1);if(this.flowKey||isEmpty(next)||","===next)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const quote=this.charAt(0);let end=this.buffer.indexOf(quote,this.pos+1);if("'"===quote)for(;-1!==end&&"'"===this.buffer[end+1];)end=this.buffer.indexOf("'",end+2);else for(;-1!==end;){let n=0;for(;"\\"===this.buffer[end-1-n];)n+=1;if(n%2==0)break;end=this.buffer.indexOf('"',end+1)}const qb=this.buffer.substring(0,end);let nl=qb.indexOf("\n",this.pos);if(-1!==nl){for(;-1!==nl;){const cs=this.continueScalar(nl+1);if(-1===cs)break;nl=qb.indexOf("\n",cs)}-1!==nl&&(end=nl-("\r"===qb[nl-1]?2:1))}if(-1===end){if(!this.atEnd)return this.setNext("quoted-scalar");end=this.buffer.length}return yield*this.pushToIndex(end+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let i=this.pos;for(;;){const ch=this.buffer[++i];if("+"===ch)this.blockScalarKeep=!0;else if(ch>"0"&&ch<="9")this.blockScalarIndent=Number(ch)-1;else if("-"!==ch)break}return yield*this.pushUntil((ch=>isEmpty(ch)||"#"===ch))}*parseBlockScalar(){let ch,nl=this.pos-1,indent=0;loop:for(let i=this.pos;ch=this.buffer[i];++i)switch(ch){case" ":indent+=1;break;case"\n":nl=i,indent=0;break;case"\r":{const next=this.buffer[i+1];if(!next&&!this.atEnd)return this.setNext("block-scalar");if("\n"===next)break}default:break loop}if(!ch&&!this.atEnd)return this.setNext("block-scalar");if(indent>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=indent:this.indentNext+=this.blockScalarIndent;do{const cs=this.continueScalar(nl+1);if(-1===cs)break;nl=this.buffer.indexOf("\n",cs)}while(-1!==nl);if(-1===nl){if(!this.atEnd)return this.setNext("block-scalar");nl=this.buffer.length}}if(!this.blockScalarKeep)for(;;){let i=nl-1,ch=this.buffer[i];"\r"===ch&&(ch=this.buffer[--i]);const lastChar=i;for(;" "===ch||"\t"===ch;)ch=this.buffer[--i];if(!("\n"===ch&&i>=this.pos&&i+1+indent>lastChar))break;nl=i}return yield"",yield*this.pushToIndex(nl+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const inFlow=this.flowLevel>0;let ch,end=this.pos-1,i=this.pos-1;for(;ch=this.buffer[++i];)if(":"===ch){const next=this.buffer[i+1];if(isEmpty(next)||inFlow&&","===next)break;end=i}else if(isEmpty(ch)){let next=this.buffer[i+1];if("\r"===ch&&("\n"===next?(i+=1,ch="\n",next=this.buffer[i+1]):end=i),"#"===next||inFlow&&invalidFlowScalarChars.includes(next))break;if("\n"===ch){const cs=this.continueScalar(i+1);if(-1===cs)break;i=Math.max(i,cs-2)}}else{if(inFlow&&invalidFlowScalarChars.includes(ch))break;end=i}return ch||this.atEnd?(yield"",yield*this.pushToIndex(end+1,!0),inFlow?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(n){return n>0?(yield this.buffer.substr(this.pos,n),this.pos+=n,n):0}*pushToIndex(i,allowEmpty){const s=this.buffer.slice(this.pos,i);return s?(yield s,this.pos+=s.length,s.length):(allowEmpty&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(isNotAnchorChar))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const inFlow=this.flowLevel>0,ch1=this.charAt(1);if(isEmpty(ch1)||inFlow&&invalidFlowScalarChars.includes(ch1))return inFlow?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let i=this.pos+2,ch=this.buffer[i];for(;!isEmpty(ch)&&">"!==ch;)ch=this.buffer[++i];return yield*this.pushToIndex(">"===ch?i+1:i,!1)}{let i=this.pos+1,ch=this.buffer[i];for(;ch;)if(tagChars.includes(ch))ch=this.buffer[++i];else{if("%"!==ch||!hexDigits.includes(this.buffer[i+1])||!hexDigits.includes(this.buffer[i+2]))break;ch=this.buffer[i+=3]}return yield*this.pushToIndex(i,!1)}}*pushNewline(){const ch=this.buffer[this.pos];return"\n"===ch?yield*this.pushCount(1):"\r"===ch&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(allowTabs){let ch,i=this.pos-1;do{ch=this.buffer[++i]}while(" "===ch||allowTabs&&"\t"===ch);const n=i-this.pos;return n>0&&(yield this.buffer.substr(this.pos,n),this.pos=i),n}*pushUntil(test){let i=this.pos,ch=this.buffer[i];for(;!test(ch);)ch=this.buffer[++i];return yield*this.pushToIndex(i,!1)}}function includesToken(list,type){for(let i=0;i<list.length;++i)if(list[i].type===type)return!0;return!1}function findNonEmptyIndex(list){for(let i=0;i<list.length;++i)switch(list[i].type){case"space":case"comment":case"newline":break;default:return i}return-1}function isFlowToken(token){switch(token?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function getPrevProps(parent){switch(parent.type){case"document":return parent.start;case"block-map":{const it=parent.items[parent.items.length-1];return it.sep??it.start}case"block-seq":return parent.items[parent.items.length-1].start;default:return[]}}function getFirstKeyStartProps(prev){if(0===prev.length)return[];let i=prev.length;loop:for(;--i>=0;)switch(prev[i].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break loop}for(;"space"===prev[++i]?.type;);return prev.splice(i,prev.length)}function fixFlowSeqItems(fc){if("flow-seq-start"===fc.start.type)for(const it of fc.items)!it.sep||it.value||includesToken(it.start,"explicit-key-ind")||includesToken(it.sep,"map-value-ind")||(it.key&&(it.value=it.key),delete it.key,isFlowToken(it.value)?it.value.end?Array.prototype.push.apply(it.value.end,it.sep):it.value.end=it.sep:Array.prototype.push.apply(it.start,it.sep),delete it.sep)}class parser_Parser{constructor(onNewLine){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Lexer,this.onNewLine=onNewLine}*parse(source,incomplete=!1){this.onNewLine&&0===this.offset&&this.onNewLine(0);for(const lexeme of this.lexer.lex(source,incomplete))yield*this.next(lexeme);incomplete||(yield*this.end())}*next(source){if(this.source=source,this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=source.length);const type=function tokenType(source){switch(source){case"\ufeff":return"byte-order-mark";case"":return"doc-mode";case"":return"flow-error-end";case"":return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(source[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}(source);if(type)if("scalar"===type)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=type,yield*this.step(),type){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+source.length);break;case"space":this.atNewLine&&" "===source[0]&&(this.indent+=source.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=source.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=source.length}else{const message=`Not a YAML token: ${source}`;yield*this.pop({type:"error",offset:this.offset,message,source}),this.offset+=source.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const top=this.peek(1);if("doc-end"!==this.type||top&&"doc-end"===top.type){if(!top)return yield*this.stream();switch(top.type){case"document":return yield*this.document(top);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(top);case"block-scalar":return yield*this.blockScalar(top);case"block-map":return yield*this.blockMap(top);case"block-seq":return yield*this.blockSequence(top);case"flow-collection":return yield*this.flowCollection(top);case"doc-end":return yield*this.documentEnd(top)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(n){return this.stack[this.stack.length-n]}*pop(error){const token=error??this.stack.pop();if(token)if(0===this.stack.length)yield token;else{const top=this.peek(1);switch("block-scalar"===token.type?token.indent="indent"in top?top.indent:0:"flow-collection"===token.type&&"document"===top.type&&(token.indent=0),"flow-collection"===token.type&&fixFlowSeqItems(token),top.type){case"document":top.value=token;break;case"block-scalar":top.props.push(token);break;case"block-map":{const it=top.items[top.items.length-1];if(it.value)return top.items.push({start:[],key:token,sep:[]}),void(this.onKeyLine=!0);if(!it.sep)return Object.assign(it,{key:token,sep:[]}),void(this.onKeyLine=!includesToken(it.start,"explicit-key-ind"));it.value=token;break}case"block-seq":{const it=top.items[top.items.length-1];it.value?top.items.push({start:[],value:token}):it.value=token;break}case"flow-collection":{const it=top.items[top.items.length-1];return void(!it||it.value?top.items.push({start:[],key:token,sep:[]}):it.sep?it.value=token:Object.assign(it,{key:token,sep:[]}))}default:yield*this.pop(),yield*this.pop(token)}if(!("document"!==top.type&&"block-map"!==top.type&&"block-seq"!==top.type||"block-map"!==token.type&&"block-seq"!==token.type)){const last=token.items[token.items.length-1];last&&!last.sep&&!last.value&&last.start.length>0&&-1===findNonEmptyIndex(last.start)&&(0===token.indent||last.start.every((st=>"comment"!==st.type||st.indent<token.indent)))&&("document"===top.type?top.end=last.start:top.items.push({start:last.start}),token.items.splice(-1,1))}}else{const message="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message}}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":{const doc={type:"document",offset:this.offset,start:[]};return"doc-start"===this.type&&doc.start.push(this.sourceToken),void this.stack.push(doc)}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(doc){if(doc.value)return yield*this.lineEnd(doc);switch(this.type){case"doc-start":return void(-1!==findNonEmptyIndex(doc.start)?(yield*this.pop(),yield*this.step()):doc.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void doc.start.push(this.sourceToken)}const bv=this.startBlockValue(doc);bv?this.stack.push(bv):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(scalar){if("map-value-ind"===this.type){const start=getFirstKeyStartProps(getPrevProps(this.peek(2)));let sep;scalar.end?(sep=scalar.end,sep.push(this.sourceToken),delete scalar.end):sep=[this.sourceToken];const map={type:"block-map",offset:scalar.offset,indent:scalar.indent,items:[{start,key:scalar,sep}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=map}else yield*this.lineEnd(scalar)}*blockScalar(scalar){switch(this.type){case"space":case"comment":case"newline":return void scalar.props.push(this.sourceToken);case"scalar":if(scalar.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let nl=this.source.indexOf("\n")+1;for(;0!==nl;)this.onNewLine(this.offset+nl),nl=this.source.indexOf("\n",nl)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(map){const it=map.items[map.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,it.value){const end="end"in it.value?it.value.end:void 0,last=Array.isArray(end)?end[end.length-1]:void 0;"comment"===last?.type?end?.push(this.sourceToken):map.items.push({start:[this.sourceToken]})}else it.sep?it.sep.push(this.sourceToken):it.start.push(this.sourceToken);return;case"space":case"comment":if(it.value)map.items.push({start:[this.sourceToken]});else if(it.sep)it.sep.push(this.sourceToken);else{if(this.atIndentedComment(it.start,map.indent)){const prev=map.items[map.items.length-2],end=prev?.value?.end;if(Array.isArray(end))return Array.prototype.push.apply(end,it.start),end.push(this.sourceToken),void map.items.pop()}it.start.push(this.sourceToken)}return}if(this.indent>=map.indent){const atNextItem=!this.onKeyLine&&this.indent===map.indent&&it.sep;let start=[];if(atNextItem&&it.sep&&!it.value){const nl=[];for(let i=0;i<it.sep.length;++i){const st=it.sep[i];switch(st.type){case"newline":nl.push(i);break;case"space":break;case"comment":st.indent>map.indent&&(nl.length=0);break;default:nl.length=0}}nl.length>=2&&(start=it.sep.splice(nl[1]))}switch(this.type){case"anchor":case"tag":return void(atNextItem||it.value?(start.push(this.sourceToken),map.items.push({start}),this.onKeyLine=!0):it.sep?it.sep.push(this.sourceToken):it.start.push(this.sourceToken));case"explicit-key-ind":return it.sep||includesToken(it.start,"explicit-key-ind")?atNextItem||it.value?(start.push(this.sourceToken),map.items.push({start})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}):it.start.push(this.sourceToken),void(this.onKeyLine=!0);case"map-value-ind":if(includesToken(it.start,"explicit-key-ind"))if(it.sep)if(it.value)map.items.push({start:[],key:null,sep:[this.sourceToken]});else if(includesToken(it.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start,key:null,sep:[this.sourceToken]}]});else if(isFlowToken(it.key)&&!includesToken(it.sep,"newline")){const start=getFirstKeyStartProps(it.start),key=it.key,sep=it.sep;sep.push(this.sourceToken),delete it.key,delete it.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start,key,sep}]})}else start.length>0?it.sep=it.sep.concat(start,this.sourceToken):it.sep.push(this.sourceToken);else if(includesToken(it.start,"newline"))Object.assign(it,{key:null,sep:[this.sourceToken]});else{const start=getFirstKeyStartProps(it.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start,key:null,sep:[this.sourceToken]}]})}else it.sep?it.value||atNextItem?map.items.push({start,key:null,sep:[this.sourceToken]}):includesToken(it.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):it.sep.push(this.sourceToken):Object.assign(it,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const fs=this.flowScalar(this.type);return void(atNextItem||it.value?(map.items.push({start,key:fs,sep:[]}),this.onKeyLine=!0):it.sep?this.stack.push(fs):(Object.assign(it,{key:fs,sep:[]}),this.onKeyLine=!0))}default:{const bv=this.startBlockValue(map);if(bv)return atNextItem&&"block-seq"!==bv.type&&includesToken(it.start,"explicit-key-ind")&&map.items.push({start}),void this.stack.push(bv)}}}yield*this.pop(),yield*this.step()}*blockSequence(seq){const it=seq.items[seq.items.length-1];switch(this.type){case"newline":if(it.value){const end="end"in it.value?it.value.end:void 0,last=Array.isArray(end)?end[end.length-1]:void 0;"comment"===last?.type?end?.push(this.sourceToken):seq.items.push({start:[this.sourceToken]})}else it.start.push(this.sourceToken);return;case"space":case"comment":if(it.value)seq.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(it.start,seq.indent)){const prev=seq.items[seq.items.length-2],end=prev?.value?.end;if(Array.isArray(end))return Array.prototype.push.apply(end,it.start),end.push(this.sourceToken),void seq.items.pop()}it.start.push(this.sourceToken)}return;case"anchor":case"tag":if(it.value||this.indent<=seq.indent)break;return void it.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==seq.indent)break;return void(it.value||includesToken(it.start,"seq-item-ind")?seq.items.push({start:[this.sourceToken]}):it.start.push(this.sourceToken))}if(this.indent>seq.indent){const bv=this.startBlockValue(seq);if(bv)return void this.stack.push(bv)}yield*this.pop(),yield*this.step()}*flowCollection(fc){const it=fc.items[fc.items.length-1];if("flow-error-end"===this.type){let top;do{yield*this.pop(),top=this.peek(1)}while(top&&"flow-collection"===top.type)}else if(0===fc.end.length){switch(this.type){case"comma":case"explicit-key-ind":return void(!it||it.sep?fc.items.push({start:[this.sourceToken]}):it.start.push(this.sourceToken));case"map-value-ind":return void(!it||it.value?fc.items.push({start:[],key:null,sep:[this.sourceToken]}):it.sep?it.sep.push(this.sourceToken):Object.assign(it,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!it||it.value?fc.items.push({start:[this.sourceToken]}):it.sep?it.sep.push(this.sourceToken):it.start.push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const fs=this.flowScalar(this.type);return void(!it||it.value?fc.items.push({start:[],key:fs,sep:[]}):it.sep?this.stack.push(fs):Object.assign(it,{key:fs,sep:[]}))}case"flow-map-end":case"flow-seq-end":return void fc.end.push(this.sourceToken)}const bv=this.startBlockValue(fc);bv?this.stack.push(bv):(yield*this.pop(),yield*this.step())}else{const parent=this.peek(2);if("block-map"===parent.type&&("map-value-ind"===this.type&&parent.indent===fc.indent||"newline"===this.type&&!parent.items[parent.items.length-1].sep))yield*this.pop(),yield*this.step();else if("map-value-ind"===this.type&&"flow-collection"!==parent.type){const start=getFirstKeyStartProps(getPrevProps(parent));fixFlowSeqItems(fc);const sep=fc.end.splice(1,fc.end.length);sep.push(this.sourceToken);const map={type:"block-map",offset:fc.offset,indent:fc.indent,items:[{start,key:fc,sep}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=map}else yield*this.lineEnd(fc)}}flowScalar(type){if(this.onNewLine){let nl=this.source.indexOf("\n")+1;for(;0!==nl;)this.onNewLine(this.offset+nl),nl=this.source.indexOf("\n",nl)+1}return{type,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(parent){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const start=getFirstKeyStartProps(getPrevProps(parent));return start.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start}]}}case"map-value-ind":{this.onKeyLine=!0;const start=getFirstKeyStartProps(getPrevProps(parent));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(start,indent){return"comment"===this.type&&(!(this.indent<=indent)&&start.every((st=>"newline"===st.type||"space"===st.type)))}*documentEnd(docEnd){"doc-mode"!==this.type&&(docEnd.end?docEnd.end.push(this.sourceToken):docEnd.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(token){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:token.end?token.end.push(this.sourceToken):token.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}class LineCounter{constructor(){this.lineStarts=[],this.addNewLine=offset=>this.lineStarts.push(offset),this.linePos=offset=>{let low=0,high=this.lineStarts.length;for(;low<high;){const mid=low+high>>1;this.lineStarts[mid]<offset?low=mid+1:high=mid}if(this.lineStarts[low]===offset)return{line:low+1,col:1};if(0===low)return{line:0,col:offset};return{line:low,col:offset-this.lineStarts[low-1]+1}}}}function parseOptions(options){const prettyErrors=!1!==options.prettyErrors;return{lineCounter:options.lineCounter||prettyErrors&&new LineCounter||null,prettyErrors}}function parse(src,reviver,options){let _reviver;"function"==typeof reviver?_reviver=reviver:void 0===options&&reviver&&"object"==typeof reviver&&(options=reviver);const doc=function parseDocument(source,options={}){const{lineCounter,prettyErrors}=parseOptions(options),parser=new parser_Parser(lineCounter?.addNewLine),composer=new composer_Composer(options);let doc=null;for(const _doc of composer.compose(parser.parse(source),!0,source.length))if(doc){if("silent"!==doc.options.logLevel){doc.errors.push(new errors_YAMLParseError(_doc.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else doc=_doc;return prettyErrors&&lineCounter&&(doc.errors.forEach(errors_prettifyError(source,lineCounter)),doc.warnings.forEach(errors_prettifyError(source,lineCounter))),doc}(src,options);if(!doc)return null;if(doc.warnings.forEach((warning=>warn(doc.options.logLevel,warning))),doc.errors.length>0){if("silent"!==doc.options.logLevel)throw doc.errors[0];doc.errors=[]}return doc.toJS(Object.assign({reviver:_reviver},options))}}}]);