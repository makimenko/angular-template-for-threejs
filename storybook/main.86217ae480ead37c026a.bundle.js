(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AbstractCamera}));var _a,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6);let AbstractCamera=class AbstractCamera{constructor(rendererService){this.rendererService=rendererService,this.zAxisUp=!1}ngOnInit(){this.createCamera(),this.layer?this.camera.layers.enable(this.layer):this.camera.layers.enableAll(),this.applyZAxisUp(),this.applyPosition(),this.rendererService.setCamera(this)}ngOnChanges(changes){let mustRerender=!1;["positionX","positionY","positionZ"].some(propName=>propName in changes)&&(this.applyPosition(),mustRerender=!0),mustRerender&&this.rendererService.render()}applyPosition(){this.camera&&this.camera.position.set(this.positionX||0,this.positionY||0,this.positionZ||0)}applyZAxisUp(){this.camera&&this.zAxisUp&&this.camera.up.set(0,0,1)}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number)],AbstractCamera.prototype,"positionX",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number)],AbstractCamera.prototype,"positionY",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number)],AbstractCamera.prototype,"positionZ",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],AbstractCamera.prototype,"zAxisUp",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number)],AbstractCamera.prototype,"layer",void 0),AbstractCamera=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_2__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_2__.a)?_a:Object])],AbstractCamera)},118:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return worldSceneWrapper}));const worldSceneWrapper=content=>`\n  <atft-map-controls style="height:100%" rotateSpeed=1 zoomSpeed=1.2 [enableDamping]="false" [autoRotate]="false">\n      <atft-renderer-canvas>\n          <atft-perspective-camera [zAxisUp]="true" positionX=40 positionY=-100\n                positionZ=50 atft-raycaster-camera atft-raycaster-enable>\n          </atft-perspective-camera>\n          <atft-scene name="scene" background="0xa0a0a0">\n          <atft-fog color="0xa0a0a0" near="80" far="500"></atft-fog>\n          <atft-plane-mesh name="ground" height="2000" width="2000" materialColor="0x999999" [depthWrite]="true" [castShadow]="false"\n            [receiveShadow]="true" heightSegments="10" widthSegments="10" translateZ="-0.1">\n            </atft-plane-mesh>\n              \x3c!--atft-axes-helper size=1000></atft-axes-helper--\x3e\n              <atft-hemisphere-light name="hemi-light" skyColor="0xffffff" groundColor="0xffffff"  intensity="0.3"\n                translateX="-20" translateY="-20" translateZ="100">\n              </atft-hemisphere-light>\n              \x3c!--<atft-directional-light color="0xffffff" intensity="0.7" translateX="20" translateY="-50" translateZ="50">\n              </atft-directional-light>--\x3e\n              <atft-point-light name="point-light" intensity="1" translateX="20" translateY="-50" translateZ="50" [castShadow]="true"></atft-point-light>\n              ${content}\n          </atft-scene>\n      </atft-renderer-canvas>\n  </atft-map-controls>\n`},1273:function(module,exports,__webpack_require__){"use strict";__webpack_require__(15),__webpack_require__(97),__webpack_require__(71),__webpack_require__(1274),__webpack_require__(1275),__webpack_require__(20),__webpack_require__(72);var _clientApi=__webpack_require__(96),_clientLogger=__webpack_require__(58),_configFilename=__webpack_require__(1276);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),_configFilename.loaders&&_configFilename.loaders.forEach((function(loader){return(0,_clientApi.addLoader)(loader,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},1276:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"parameters",(function(){return parameters}));var parameters={layout:"fullscreen",style:{height:"50px"}}},1277:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(25).configure)([__webpack_require__(1278)],module,!1)}).call(this,__webpack_require__(196)(module))},1278:function(module,exports,__webpack_require__){var map={"./stories/all-in-one/infrastructure.stories.ts":1279,"./stories/all-in-one/virtual-city.stories.ts":1339,"./stories/dynamic/editor.stories.ts":1313,"./stories/dynamic/for-loop.stories.ts":1314,"./stories/dynamic/ng-content.stories.ts":1315,"./stories/dynamic/routing.stories.ts":1316,"./stories/effect/blur.stories.ts":1317,"./stories/effect/dashed-draw.stories.ts":1318,"./stories/effect/depth-of-field.stories.ts":1319,"./stories/effect/dot-screen.stories.ts":1320,"./stories/effect/fog.stories.ts":1321,"./stories/other/animate.stories.ts":1322,"./stories/other/connector.stories.ts":1323,"./stories/other/loader.stories.ts":1324,"./stories/other/mesh.stories.ts":1325,"./stories/other/object.stories.mdx":1326,"./stories/other/object.stories.ts":1327,"./stories/other/performance.stories.ts":1340,"./stories/other/raycaster.stories.ts":1328,"./stories/other/server.stories.ts":1329,"./stories/other/video.stories.ts":1330,"./stories/ux/intro.stories.ts":1331,"./stories/ux/loader.stories.ts":1332,"./stories/ux/text.stories.ts":1333};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1278},1279:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Infrastructure",(function(){return Infrastructure}));var _a,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_storybook_angular__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),_projects_atft_src_lib_actor_data_center__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(188),_projects_atft_src_lib_animation_animation_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(44),_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(22),_scene_wrapper_world_scene_wrapper__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(118);let StorybookInfrastructureComponent=class StorybookInfrastructureComponent{constructor(animationService){this.animationService=animationService,this.animationIncrement=-.002,this.animationService.start()}};StorybookInfrastructureComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({template:Object(_scene_wrapper_world_scene_wrapper__WEBPACK_IMPORTED_MODULE_6__.a)('\n<atft-empty [translateZ]="0.5" [translateY]="-40">\n\n  <atft-layer-actor width="180" height="45" [translateY]="30" name="On-Premise">\n  </atft-layer-actor>\n  <atft-layer-actor width="180" height="45" [translateY]="90" name="Security">\n  </atft-layer-actor>\n  <atft-layer-actor width="180" height="45" [translateY]="140" name="Frontend">\n  </atft-layer-actor>\n  <atft-layer-actor width="180" height="45" [translateY]="190" name="Backend">\n  </atft-layer-actor>\n  <atft-layer-actor width="180" height="45" [translateY]="240" name="Storage">\n  </atft-layer-actor>\n\n  <atft-empty>\n    \x3c!-- Servers / Nodes: --\x3e\n    <atft-server-compact-actor #ad1 label="Active Directory" translateY="30" [translateX]="-60" [svgName]="svgName">\n    </atft-server-compact-actor>\n    <atft-server-compact-actor #ad2 label="Active Directory (Replica)" translateY="90" [translateX]="-60" svgName="users-solid.svg">\n    </atft-server-compact-actor>\n    <atft-workstation-actor #ws1 [label]="label" translateY="30" translateX="0"\n       videoSrc="https://raw.githubusercontent.com/makimenko/files/master/angular-template-for-threejs/videos/ui/retro_futuristic_ui_360p.mp4">\n    </atft-workstation-actor>\n\n    <atft-server-compact-actor #lb label="Load Balancer" translateY="90" [translateX]="-0" svgName="sitemap-solid.svg">\n    </atft-server-compact-actor>\n    <atft-server-icon-actor label="Firewall" translateY="90" [translateX]="20" svgName="expeditedssl-brands.svg">\n    </atft-server-icon-actor>\n    <atft-server-icon-actor label="Auto-Scaling" translateY="90" [translateX]="40" svgName="external-link-alt-solid.svg">\n    </atft-server-icon-actor>\n\n    <atft-server-stand-actor #fs1 label="Frontend Server 1" translateY="140" [translateX]="-40" svgName="grid-world.svg">\n    </atft-server-stand-actor>\n    <atft-server-stand-actor #fs2 label="Frontend Server 2" translateY="140" [translateX]="40" svgName="grid-world.svg">\n    </atft-server-stand-actor>\n    <atft-server-icon-actor label="Application Insights" translateY="140" [translateX]="0" [svgName]="svgName">\n    </atft-server-icon-actor>\n\n    <atft-server-stand-actor #bs1 label="Backend Server 1" translateY="190" [translateX]="-40" svgName="server-solid.svg">\n    </atft-server-stand-actor>\n    <atft-server-stand-actor #bs2 label="Backend Server 2" translateY="190" [translateX]="40" svgName="server-solid.svg">\n    </atft-server-stand-actor>\n    <atft-server-icon-actor label="Cloud Bursting Enabled" translateY="190" [translateX]="0" svgName="upload.svg">\n    </atft-server-icon-actor>\n\n    <atft-server-barrel-actor #db1 label="DB Cluster 1" translateY="240" [translateX]="-40" svgName="galactic-republic-brands.svg">\n    </atft-server-barrel-actor>\n    <atft-server-barrel-actor #db2 label="DB Cluster 2" translateY="240" [translateX]="40" svgName="galactic-republic-brands.svg">\n    </atft-server-barrel-actor>\n    <atft-server-icon-actor label="In-Memory Cache Enabled" translateY="240" [translateX]="0" svgName="border-none-solid.svg">\n    </atft-server-icon-actor>\n\n    \x3c!-- Connectors / Edges: --\x3e\n    <atft-empty translateZ="0.1">\n      <atft-mesh-line-connector [source]="ad1" [target]="ad2" materialColor="0xffffff" [lineWidth]="1" translateZ="1"\n          [transparent]="true" opacity="0.4" [animated]="true" [animationIncrement]="animationIncrement">\n      </atft-mesh-line-connector>\n      <atft-mesh-line-connector [source]="ad2" [target]="lb" materialColor="0xffffff" [lineWidth]="1" translateZ="1"\n          [transparent]="true" opacity="0.4" [animated]="true" [animationIncrement]="animationIncrement">\n      </atft-mesh-line-connector>\n      <atft-mesh-line-connector [source]="ws1" [target]="lb" materialColor="0xffffff" [lineWidth]="1" translateZ="1"\n          [transparent]="true" opacity="0.4" [animated]="true" [animationIncrement]="animationIncrement">\n      </atft-mesh-line-connector>\n\n      <atft-mesh-line-connector [source]="lb" [target]="fs1" materialColor="0xffffff" [lineWidth]="1" translateZ="1"\n          [transparent]="true" opacity="0.4" [animated]="true" [animationIncrement]="animationIncrement">\n      </atft-mesh-line-connector>\n      <atft-mesh-line-connector [source]="lb" [target]="fs2" materialColor="0xff1111" [lineWidth]="1" translateZ="1"\n          [transparent]="true" opacity="0.4" [animated]="true" [animationIncrement]="-0.0005">\n      </atft-mesh-line-connector>\n\n\n      <atft-mesh-line-connector [source]="fs1" [target]="bs1" materialColor="0xffffff" [lineWidth]="1" translateZ="1"\n          [transparent]="true" opacity="0.4" [animated]="true" [animationIncrement]="animationIncrement">\n      </atft-mesh-line-connector>\n      <atft-mesh-line-connector [source]="fs2" [target]="bs2" materialColor="0xffffff" [lineWidth]="1" translateZ="1"\n          [transparent]="true" opacity="0.4" [animated]="true" [animationIncrement]="animationIncrement">\n      </atft-mesh-line-connector>\n\n      <atft-mesh-line-connector [source]="bs1" [target]="db1" materialColor="0xffffff" [lineWidth]="1" translateZ="1"\n          [transparent]="true" opacity="0.4" [animated]="true" [animationIncrement]="animationIncrement">\n      </atft-mesh-line-connector>\n      <atft-mesh-line-connector [source]="bs2" [target]="db2" materialColor="0xffffff" [lineWidth]="1" translateZ="1"\n          [transparent]="true" opacity="0.4" [animated]="true" [animationIncrement]="animationIncrement">\n      </atft-mesh-line-connector>\n\n     </atft-empty>\n   </atft-empty>\n</atft-empty>\n  ')}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_projects_atft_src_lib_animation_animation_service__WEBPACK_IMPORTED_MODULE_4__.a&&_projects_atft_src_lib_animation_animation_service__WEBPACK_IMPORTED_MODULE_4__.a)?_a:Object])],StorybookInfrastructureComponent),__webpack_exports__.default={title:"All-in-One/Infrastructure",decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_2__.moduleMetadata)({imports:[_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_5__.a,_projects_atft_src_lib_actor_data_center__WEBPACK_IMPORTED_MODULE_3__.a]})],args:{svgName:"idea.svg",label:"Workstation"},argTypes:{svgName:{description:"Please choose SVG file from assets",control:{type:"select",options:["idea.svg","upload.svg","grid-world.svg"]}},label:{description:"Please choose title of workstation",control:{type:"text"}}}};const Infrastructure=args=>({component:StorybookInfrastructureComponent,props:args});Infrastructure.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookInfrastructureComponent,\n  props: args\n})"}},Infrastructure.parameters)},13:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return applied_color.a})),__webpack_require__.d(__webpack_exports__,"b",(function(){return appliedMaterial})),__webpack_require__.d(__webpack_exports__,"c",(function(){return provideParent}));var applied_color=__webpack_require__(75),three_module=__webpack_require__(3);function appliedMaterial(materialColor,materialName,depthWrite){const props={color:materialColor instanceof three_module.Color?materialColor:Object(applied_color.a)(materialColor),side:three_module.DoubleSide,depthWrite:void 0===depthWrite||depthWrite};return"lamb"===materialName?new three_module.MeshLambertMaterial(props):"basic"===materialName?new three_module.MeshBasicMaterial(props):new three_module.MeshPhongMaterial(props)}__webpack_require__(226),__webpack_require__(227),__webpack_require__(355);var core=__webpack_require__(0),abstract_object_3d=__webpack_require__(8);function provideParent(component,parentType){return{provide:parentType||abstract_object_3d.a,useExisting:Object(core.forwardRef)(()=>component)}}},1313:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Editor",(function(){return Editor}));var _a,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_storybook_angular__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),_projects_atft_src_lib_actor_data_center__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(188),_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(22);let StorybookEditorComponent=class StorybookEditorComponent{constructor(resolver){this.resolver=resolver,this.x=0,this.y=0}onGridEnter(event){this.x=event.array[0],this.y=event.array[1]}onGridClick(event){console.log("StorybookEditorComponent.onGridClick",event);const factory=this.resolver.resolveComponentFactory(_projects_atft_src_lib_actor_data_center__WEBPACK_IMPORTED_MODULE_3__.b),componentRef=this.gridcontainer.createComponent(factory);componentRef.instance.label="Server",componentRef.instance.svgName="grid-world.svg",componentRef.instance.translateX=this.x,componentRef.instance.translateY=this.y}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild)("gridcontainer",{read:_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewContainerRef}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],StorybookEditorComponent.prototype,"gridcontainer",void 0),StorybookEditorComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({template:'\n    <atft-renderer-canvas>\n      <atft-orthographic-camera [zAxisUp]="true" [positionX]=50 [positionY]=-50 [positionZ]=50 [zoom]="8"\n                                atft-raycaster-camera atft-raycaster-enable>\n      </atft-orthographic-camera>\n      <atft-scene name="scene" background="0xa0a0a0">\n        <atft-fog color="0xa0a0a0" near="80" far="500"></atft-fog>\n        <atft-plane-mesh name="ground" height="2000" width="2000" materialColor="0x999999" [depthWrite]="true" [castShadow]="false"\n                         [receiveShadow]="true" heightSegments="10" widthSegments="10" translateZ="-0.1">\n        </atft-plane-mesh>\n        <atft-hemisphere-light name="hemi-light" skyColor="0xffffff" groundColor="0xffffff" intensity="0.5"\n                               translateX="-20" translateY="-20" translateZ="100">\n        </atft-hemisphere-light>\n        <atft-point-light name="point-light" intensity="0.2" translateX="-50" translateY="-50" translateZ="50"\n                          [castShadow]="true"></atft-point-light>\n\n        <atft-grid-actor iterationsX="30" iterationsY="20" offset="1.1" (gridEnter)="onGridEnter($event)" (gridClick)="onGridClick($event)">\n          <atft-frame-mesh [thickness]="1" [sizeX]="15" [sizeY]="15" [translateZ]="0.1" material="basic"\n                           [translateX]="x" [translateY]="y">\n          </atft-frame-mesh>\n          <template #gridcontainer>\n          </template>\n        </atft-grid-actor>\n\n      </atft-scene>\n    </atft-renderer-canvas>\n  '}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.ComponentFactoryResolver)?_a:Object])],StorybookEditorComponent),__webpack_exports__.default={title:"Dynamic/Editor",decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_2__.moduleMetadata)({imports:[_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_4__.a,_projects_atft_src_lib_actor_data_center__WEBPACK_IMPORTED_MODULE_3__.a],entryComponents:[_projects_atft_src_lib_actor_data_center__WEBPACK_IMPORTED_MODULE_3__.b]})],args:{svgName:"idea.svg",label:"Workstation"},argTypes:{svgName:{description:"Please choose SVG file from assets",control:{type:"select",options:["idea.svg","upload.svg","grid-world.svg"]}},label:{description:"Please choose title of workstation",control:{type:"text"}}}};const Editor=args=>({component:StorybookEditorComponent,props:args});Editor.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookEditorComponent,\n  props: args\n})"}},Editor.parameters)},1314:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ForLoop",(function(){return ForLoop}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_storybook_angular__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22),_scene_wrapper_axes_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(60);let StorybookDynamicComponent=class StorybookDynamicComponent{fakeArray(length){if(length>=0){const arr=new Array(length);for(let i=0;i<arr.length;i++)arr[i]=10*i;return arr}}};StorybookDynamicComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({template:Object(_scene_wrapper_axes_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__.a)('\n      <atft-empty name="emptyObj">\n        <div>\n            <atft-sphere-mesh *ngFor="let x of fakeArray(numObjects)" [radius]="4" [translateY]="x" name="dynamicObj"\n                widthSegments="64" hightSegments="64">\n            </atft-sphere-mesh>\n        </div>\n      </atft-empty>\n  ')})],StorybookDynamicComponent),__webpack_exports__.default={title:"Dynamic/For Loop",decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_2__.moduleMetadata)({imports:[_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_3__.a]})],args:{numObjects:2},argTypes:{numObjects:{control:{type:"range",min:0,max:5,step:1}}}};const ForLoop=args=>({component:StorybookDynamicComponent,props:args});ForLoop.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookDynamicComponent,\n  props: args\n})"}},ForLoop.parameters)},1315:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NgContent",(function(){return NgContent}));var StorybookWrapperComponent_1,_a,_b,StorybookEmbeddedComponent_1,_c,_d,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_storybook_angular__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22),_projects_atft_src_lib_object_abstract_object_3d__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8),_projects_atft_src_lib_object_helper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(80),_projects_atft_src_lib_renderer__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(89),_projects_atft_src_lib_util__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(13),_projects_atft_src_lib_object_content_projection_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(229);let StorybookWrapperComponent=StorybookWrapperComponent_1=class StorybookWrapperComponent extends _projects_atft_src_lib_object_content_projection_component__WEBPACK_IMPORTED_MODULE_8__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,console.log("StorybookWrapperComponent.constructor",parent)}};StorybookWrapperComponent=StorybookWrapperComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"app-storybook-wrapper",providers:[Object(_projects_atft_src_lib_util__WEBPACK_IMPORTED_MODULE_7__.c)(StorybookWrapperComponent_1)],template:'\n    <atft-orbit-controls rotateSpeed=1 zoomSpeed=1.2>\n      <atft-renderer-canvas>\n        <atft-perspective-camera positionX=10 positionY=50 positionZ=50></atft-perspective-camera>\n        <atft-scene #contentProjection>\n          <atft-axes-helper size=200></atft-axes-helper>\n          <atft-grid-helper size=100 divisions=10></atft-grid-helper>\n          <atft-point-light intensity="0.9" distance="1000" translateX=50 translateY=50\n                            translateZ=50></atft-point-light>\n          \x3c!-- Why it\'s not working? --\x3e\n          <ng-content></ng-content>\n        </atft-scene>\n      </atft-renderer-canvas>\n    </atft-orbit-controls>\n  '}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_projects_atft_src_lib_renderer__WEBPACK_IMPORTED_MODULE_6__.a&&_projects_atft_src_lib_renderer__WEBPACK_IMPORTED_MODULE_6__.a)?_a:Object,"function"==typeof(_b=void 0!==_projects_atft_src_lib_object_abstract_object_3d__WEBPACK_IMPORTED_MODULE_4__.a&&_projects_atft_src_lib_object_abstract_object_3d__WEBPACK_IMPORTED_MODULE_4__.a)?_b:Object])],StorybookWrapperComponent);let StorybookEmbeddedComponent=StorybookEmbeddedComponent_1=class StorybookEmbeddedComponent extends _projects_atft_src_lib_object_helper__WEBPACK_IMPORTED_MODULE_5__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,console.log("StorybookEmbeddedComponent.constructor",parent)}};StorybookEmbeddedComponent=StorybookEmbeddedComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"app-storybook-embedded",providers:[Object(_projects_atft_src_lib_util__WEBPACK_IMPORTED_MODULE_7__.c)(StorybookEmbeddedComponent_1)],template:'\n    <app-storybook-wrapper>\n      <atft-cylinder-mesh [radiusTop]="2" [radiusBottom]="3" [height]="10" [radialSegments]="36" [heightSegments]="1"\n                          material="lamb" materialColor="0xff0000" [translateZ]="10">\n      </atft-cylinder-mesh>\n    </app-storybook-wrapper>\n  '}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_c=void 0!==_projects_atft_src_lib_renderer__WEBPACK_IMPORTED_MODULE_6__.a&&_projects_atft_src_lib_renderer__WEBPACK_IMPORTED_MODULE_6__.a)?_c:Object,"function"==typeof(_d=void 0!==_projects_atft_src_lib_object_abstract_object_3d__WEBPACK_IMPORTED_MODULE_4__.a&&_projects_atft_src_lib_object_abstract_object_3d__WEBPACK_IMPORTED_MODULE_4__.a)?_d:Object])],StorybookEmbeddedComponent),__webpack_exports__.default={title:"Dynamic/Ng Content",decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_2__.moduleMetadata)({imports:[_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_3__.a],declarations:[StorybookEmbeddedComponent,StorybookWrapperComponent]})]};const NgContent=args=>({component:StorybookEmbeddedComponent,props:args});NgContent.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookEmbeddedComponent,\n  props: args\n})"}},NgContent.parameters)},1316:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Routing",(function(){return Routing}));var _a,FirstPageComponent_1,_b,_c,SecondPageComponent_1,_d,_e,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_storybook_angular__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22),_angular_router__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(301),_angular_platform_browser__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(264),_angular_common__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9),_scene_wrapper_world_scene_wrapper__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(118),_projects_atft_src_lib_object_helper__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(80),_projects_atft_src_lib_util__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(13),_projects_atft_src_lib_renderer__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(89),_projects_atft_src_lib_object__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(67);let MainComponent=class MainComponent{constructor(router){this.router=router}chooseFirst(){console.log("Choose first"),this.router.navigate(["first"])}chooseSecond(){console.log("Choose second"),this.router.navigate(["second"])}};MainComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"app-main",template:Object(_scene_wrapper_world_scene_wrapper__WEBPACK_IMPORTED_MODULE_7__.a)('\n    <atft-empty name="main">\n      <atft-empty name="selector">\n        <atft-box-mesh name="box1" atft-raycaster-group (click)="chooseFirst()" height="20" width="20" depth="20" translateZ="10">\n        </atft-box-mesh>\n        <atft-box-mesh name="box2" atft-raycaster-group (click)="chooseSecond()" height="20" width="20" depth="20" translateZ="10" translateX="30">\n        </atft-box-mesh>\n      </atft-empty>\n      <router-outlet></router-outlet>\n    </atft-empty>\n')}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_angular_router__WEBPACK_IMPORTED_MODULE_4__.a&&_angular_router__WEBPACK_IMPORTED_MODULE_4__.a)?_a:Object])],MainComponent);let FirstPageComponent=FirstPageComponent_1=class FirstPageComponent extends _projects_atft_src_lib_object_helper__WEBPACK_IMPORTED_MODULE_8__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,console.log("FirstPageComponent.constructor",parent)}};FirstPageComponent=FirstPageComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"app-first-page",providers:[Object(_projects_atft_src_lib_util__WEBPACK_IMPORTED_MODULE_9__.c)(FirstPageComponent_1)],template:'\n    <atft-box-mesh name="first-box" height="10" width="10" depth="10" translateZ="30">\n    </atft-box-mesh>\n  '}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_b=void 0!==_projects_atft_src_lib_renderer__WEBPACK_IMPORTED_MODULE_10__.a&&_projects_atft_src_lib_renderer__WEBPACK_IMPORTED_MODULE_10__.a)?_b:Object,"function"==typeof(_c=void 0!==_projects_atft_src_lib_object__WEBPACK_IMPORTED_MODULE_11__.a&&_projects_atft_src_lib_object__WEBPACK_IMPORTED_MODULE_11__.a)?_c:Object])],FirstPageComponent);let SecondPageComponent=SecondPageComponent_1=class SecondPageComponent extends _projects_atft_src_lib_object_helper__WEBPACK_IMPORTED_MODULE_8__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,console.log("SecondPageComponent.constructor",parent)}};SecondPageComponent=SecondPageComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"app-second-page",providers:[Object(_projects_atft_src_lib_util__WEBPACK_IMPORTED_MODULE_9__.c)(SecondPageComponent_1)],template:'\n    <atft-box-mesh name="second-box" height="10" width="10" depth="10" translateZ="30" translateX="30">\n    </atft-box-mesh>\n  '}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_d=void 0!==_projects_atft_src_lib_renderer__WEBPACK_IMPORTED_MODULE_10__.a&&_projects_atft_src_lib_renderer__WEBPACK_IMPORTED_MODULE_10__.a)?_d:Object,"function"==typeof(_e=void 0!==_projects_atft_src_lib_object__WEBPACK_IMPORTED_MODULE_11__.a&&_projects_atft_src_lib_object__WEBPACK_IMPORTED_MODULE_11__.a)?_e:Object])],SecondPageComponent);const routes=[{path:"",redirectTo:"/first",pathMatch:"full"},{path:"first",component:FirstPageComponent},{path:"second",component:SecondPageComponent},{path:"**",redirectTo:"first"}];let StoryRoutingModule=class StoryRoutingModule{};StoryRoutingModule=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule)({imports:[_angular_router__WEBPACK_IMPORTED_MODULE_4__.b.forRoot(routes)],exports:[_angular_router__WEBPACK_IMPORTED_MODULE_4__.b]})],StoryRoutingModule);let StoryModule=class StoryModule{};StoryModule=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule)({declarations:[MainComponent,FirstPageComponent,SecondPageComponent],imports:[_angular_platform_browser__WEBPACK_IMPORTED_MODULE_5__.BrowserModule,StoryRoutingModule,_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_3__.a],providers:[{provide:_angular_common__WEBPACK_IMPORTED_MODULE_6__.a,useValue:"/"}],bootstrap:[MainComponent]})],StoryModule),__webpack_exports__.default={title:"Dynamic/Routing",decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_2__.moduleMetadata)({imports:[StoryModule],declarations:[]})]};const Routing=args=>({component:MainComponent,props:args});Routing.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: MainComponent,\n  props: args\n})"}},Routing.parameters)},1317:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Blur",(function(){return Blur}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_storybook_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25),_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(22),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_scene_wrapper_effects_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(185);let StorybookDotScreenComponent=class StorybookDotScreenComponent{};StorybookDotScreenComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Component)({template:Object(_scene_wrapper_effects_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__.a)('\n    <atft-effect-composer *ngIf="enable">\n    <atft-blur *ngIf="enable" ></atft-blur>\n    </atft-effect-composer>\n  ')})],StorybookDotScreenComponent),__webpack_exports__.default={title:"Effect/Blur",decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_1__.moduleMetadata)({imports:[_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_2__.a]})],args:{enable:!0,background:"0xFFFFFF"},argTypes:{enable:{control:{type:"boolean"}},background:{control:{type:"select",options:["0xFFFFFF","0xDDDDDD","0xAA0000","0x00AA00","0x0000AA"]}}}};const Blur=args=>({component:StorybookDotScreenComponent,props:args});Blur.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookDotScreenComponent,\n  props: args\n})"}},Blur.parameters)},1318:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DashedDraw",(function(){return DashedDraw}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_storybook_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25),_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(22),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_scene_wrapper_performance_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(214);let StorybookDashedDrawComponent=class StorybookDashedDrawComponent{};StorybookDashedDrawComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Component)({template:Object(_scene_wrapper_performance_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__.a)('\n    <atft-text-mesh\n        atft-dashed-draw materialColor="0x00EE00" dashColor="0x00FF00"\n        [initialOpacity]="0.0" [targetOpacity]="0.1"\n        text="Hello world"\n    ></atft-text-mesh>\n\n    <atft-sphere-mesh\n        atft-dashed-draw materialColor="0x0000FF" dashColor="0x0000FF"\n        [targetOpacity]="0.1"\n        [radius]="10" [hightSegments]="10" [widthSegments]="10"\n        [translateY]="20"\n    ></atft-sphere-mesh>\n\n    <atft-cylinder-mesh\n        atft-dashed-draw materialColor="0x0000FF" dashColor="0x0000FF"\n        [initialOpacity]="0.5" [hideDash]="true"\n        [height]="20" [heightSegments]="20" [radialSegments]="20"\n        [radiusBottom]="2" [radiusTop]="5"\n        [translateY]="20" [translateX]="20"\n    ></atft-cylinder-mesh>\n  ')})],StorybookDashedDrawComponent),__webpack_exports__.default={title:"Effect/Dashed Draw",decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_1__.moduleMetadata)({imports:[_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_2__.a]})]};const DashedDraw=args=>({component:StorybookDashedDrawComponent,props:args});DashedDraw.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookDashedDrawComponent,\n  props: args\n})"}},DashedDraw.parameters)},1319:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DepthOfField",(function(){return DepthOfField}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_storybook_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25),_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(22),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_scene_wrapper_effects_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(185);let StorybookDofComponent=class StorybookDofComponent{};StorybookDofComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Component)({template:Object(_scene_wrapper_effects_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__.a)('\n    <atft-effect-composer *ngIf="enable">\n        <atft-dof [focus]="focus" [aperture]="aperture" [maxblur]="maxblur"></atft-dof>\n    </atft-effect-composer>\n  ')})],StorybookDofComponent),__webpack_exports__.default={title:"Effect/Depth Of Field",decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_1__.moduleMetadata)({imports:[_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_2__.a]})],args:{enable:!0,background:"0xFFFFFF",focus:10,aperture:1e-4,maxblur:.005},argTypes:{enable:{control:{type:"boolean"}},background:{control:{type:"select",options:["0xFFFFFF","0xDDDDDD","0xAA0000","0x00AA00","0x0000AA"]}},focus:{control:{type:"range",min:1,max:3e3,step:10}},aperture:{control:{type:"range",min:0,max:5e-4,step:1e-5}},maxblur:{control:{type:"range",min:0,max:.05,step:.001}}}};const DepthOfField=args=>({component:StorybookDofComponent,props:args});DepthOfField.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookDofComponent,\n  props: args\n})"}},DepthOfField.parameters)},1320:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DotScreen",(function(){return DotScreen}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_storybook_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25),_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(22),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_scene_wrapper_effects_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(185);let StorybookDotScreenComponent=class StorybookDotScreenComponent{};StorybookDotScreenComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Component)({template:Object(_scene_wrapper_effects_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__.a)('\n    <atft-effect-composer *ngIf="enable">\n    <atft-dot-screen *ngIf="enable" ></atft-dot-screen>\n    </atft-effect-composer>\n  ')})],StorybookDotScreenComponent),__webpack_exports__.default={title:"Effect/Dot Screen",decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_1__.moduleMetadata)({imports:[_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_2__.a]})],args:{enable:!0,background:"0xFFFFFF"},argTypes:{enable:{control:{type:"boolean"}},background:{control:{type:"select",options:["0xFFFFFF","0xDDDDDD","0xAA0000","0x00AA00","0x0000AA"]}}}};const DotScreen=args=>({component:StorybookDotScreenComponent,props:args});DotScreen.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookDotScreenComponent,\n  props: args\n})"}},DotScreen.parameters)},1321:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Fog",(function(){return Fog}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_storybook_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25),_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(22),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_scene_wrapper_effects_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(185);let StorybookFogComponent=class StorybookFogComponent{};StorybookFogComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Component)({template:Object(_scene_wrapper_effects_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__.a)('\n    <atft-effect-composer *ngIf="enable">\n        <atft-fog [near]="near" [far]="far" [color]="color"></atft-fog>\n    </atft-effect-composer>\n  ')})],StorybookFogComponent),__webpack_exports__.default={title:"Effect/Fog",decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_1__.moduleMetadata)({imports:[_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_2__.a]})],args:{enable:!0,background:"0xDDDDDD",color:"0xDDDDDD",near:10,far:200},argTypes:{enable:{control:{type:"boolean"}},background:{control:{type:"select",options:["0xFFFFFF","0xDDDDDD","0xAA0000","0x00AA00","0x0000AA"]}},color:{control:{type:"select",options:["0xFFFFFF","0xDDDDDD","0xAA0000","0x00AA00","0x0000AA"]}},near:{control:{type:"number",min:1,max:1e3}},far:{control:{type:"number",min:1,max:1e3}}}};const Fog=args=>({component:StorybookFogComponent,props:args});Fog.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookFogComponent,\n  props: args\n})"}},Fog.parameters)},1322:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Loop",(function(){return Loop})),__webpack_require__.d(__webpack_exports__,"Mixer",(function(){return Mixer})),__webpack_require__.d(__webpack_exports__,"ReactiveGrid",(function(){return ReactiveGrid}));var _a,_b,_c,_d,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_storybook_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25),_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(22),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_scene_wrapper_axes_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(60),_projects_atft_src_lib_object_mesh_box_mesh_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(163),_projects_atft_src_lib_animation_animation_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(44),three__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3),_scene_wrapper_world_scene_wrapper__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(118);let StorybookLoopComponent=class StorybookLoopComponent{constructor(animationService){this.animationService=animationService,this.k=0}ngAfterViewInit(){this.animate=this.animate.bind(this),this.animationService.animate.subscribe(this.animate),this.animationService.start()}animate(){this.k+=.02,this.box.rotateX=this.k,this.box.rotateY=2*-this.k,this.box.rotateZ=3.3*this.k,this.box.applyRotation()}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__.ViewChild)(_projects_atft_src_lib_object_mesh_box_mesh_component__WEBPACK_IMPORTED_MODULE_5__.a,{static:!1}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],StorybookLoopComponent.prototype,"box",void 0),StorybookLoopComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Component)({template:Object(_scene_wrapper_axes_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__.a)('\n  <atft-box-mesh height="10" width="10" depth="10" material="phong" materialColor="0xffffff">\n  </atft-box-mesh>\n  ')}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_projects_atft_src_lib_animation_animation_service__WEBPACK_IMPORTED_MODULE_6__.a&&_projects_atft_src_lib_animation_animation_service__WEBPACK_IMPORTED_MODULE_6__.a)?_a:Object])],StorybookLoopComponent);let StorybookMixerComponent=class StorybookMixerComponent{constructor(animationService){this.animationService=animationService,this.clock=new three__WEBPACK_IMPORTED_MODULE_7__.Clock}ngAfterViewInit(){this.boxObject=this.box.getObject();const positionKF=new three__WEBPACK_IMPORTED_MODULE_7__.VectorKeyframeTrack(".position",[0,1,2,4],[0,0,0,0,50,0,0,50,5,0,0,0]),helloClip=new three__WEBPACK_IMPORTED_MODULE_7__.AnimationClip("Hello",4,[positionKF]);this.mixer=new three__WEBPACK_IMPORTED_MODULE_7__.AnimationMixer(this.boxObject);this.mixer.clipAction(helloClip).play(),this.animate=this.animate.bind(this),this.animationService.animate.subscribe(this.animate),this.animationService.start()}animate(){this.mixer&&this.mixer.update(this.clock.getDelta())}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__.ViewChild)(_projects_atft_src_lib_object_mesh_box_mesh_component__WEBPACK_IMPORTED_MODULE_5__.a,{static:!1}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],StorybookMixerComponent.prototype,"box",void 0),StorybookMixerComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Component)({template:Object(_scene_wrapper_axes_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__.a)('\n  <atft-box-mesh height="10" width="10" depth="10" material="phong" materialColor="0xffffff">\n  </atft-box-mesh>\n  ')}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_b=void 0!==_projects_atft_src_lib_animation_animation_service__WEBPACK_IMPORTED_MODULE_6__.a&&_projects_atft_src_lib_animation_animation_service__WEBPACK_IMPORTED_MODULE_6__.a)?_b:Object])],StorybookMixerComponent);let StorybookReactiveGridComponent=class StorybookReactiveGridComponent{constructor(animationService){this.animationService=animationService,this.mixers=new Map,this.clock=new three__WEBPACK_IMPORTED_MODULE_7__.Clock;const mouseOverKeyFrame=new three__WEBPACK_IMPORTED_MODULE_7__.VectorKeyframeTrack(".position",[0,.2,.5],[0,0,0,0,0,1.5,0,0,1.4],three__WEBPACK_IMPORTED_MODULE_7__.InterpolateSmooth);this.mouseOverClip=new three__WEBPACK_IMPORTED_MODULE_7__.AnimationClip("Mouse over",.5,[mouseOverKeyFrame])}mouseEnter(event){const boxComponent=event.component;if(boxComponent){const mixer=this.mixers.get(boxComponent.name),existing=mixer.existingAction(this.mouseOverClip);if(existing)existing.isRunning()||existing.reset();else{const clipAction=mixer.clipAction(this.mouseOverClip);clipAction.loop=three__WEBPACK_IMPORTED_MODULE_7__.LoopPingPong,clipAction.repetitions=2,clipAction.play()}}}mouseExit(){}createMixers(){this.boxes.forEach(i=>this.mixers.set(i.name,new three__WEBPACK_IMPORTED_MODULE_7__.AnimationMixer(i.getObject())))}playAppearForAll(){this.mixers.forEach(i=>{const duration=Math.random(),appearKeyFrame=new three__WEBPACK_IMPORTED_MODULE_7__.VectorKeyframeTrack(".position",[0,duration],[0,0,-5,0,0,0],three__WEBPACK_IMPORTED_MODULE_7__.InterpolateLinear),appearClip=new three__WEBPACK_IMPORTED_MODULE_7__.AnimationClip("Appear",duration,[appearKeyFrame]),clipAction=i.clipAction(appearClip);clipAction.loop=three__WEBPACK_IMPORTED_MODULE_7__.LoopOnce,clipAction.play()})}ngAfterViewInit(){this.createMixers(),this.playAppearForAll(),this.animate=this.animate.bind(this),this.animationService.animate.subscribe(this.animate),this.animationService.start()}animate(){if(this.mixers&&this.mixers.size>0){const delta=this.clock.getDelta();this.mixers.forEach(i=>{i.update(delta)})}}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__.ViewChildren)(_projects_atft_src_lib_object_mesh_box_mesh_component__WEBPACK_IMPORTED_MODULE_5__.a),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type","function"==typeof(_c=void 0!==_angular_core__WEBPACK_IMPORTED_MODULE_3__.QueryList&&_angular_core__WEBPACK_IMPORTED_MODULE_3__.QueryList)?_c:Object)],StorybookReactiveGridComponent.prototype,"boxes",void 0),StorybookReactiveGridComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Component)({template:Object(_scene_wrapper_world_scene_wrapper__WEBPACK_IMPORTED_MODULE_8__.a)('\n  <div *ngFor="let item of [].constructor(10); let x = index">\n    <div *ngFor="let item of [].constructor(10); let y = index">\n        <atft-empty [translateX]="(x*10.3)-50" [translateY]="(y*10.3)-50" [translateZ]="5">\n            <atft-box-mesh height="10" [width]="10" depth="0.2" materialColor="0xdadaff"\n            atft-raycaster-group (mouseEnter)="mouseEnter($event)" (mouseExit)="mouseExit($event)"\n            [name]="\'obj\'+x+\'_\'+y">\n            </atft-box-mesh>\n        </atft-empty>\n    </div>\n  </div>\n  ')}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_d=void 0!==_projects_atft_src_lib_animation_animation_service__WEBPACK_IMPORTED_MODULE_6__.a&&_projects_atft_src_lib_animation_animation_service__WEBPACK_IMPORTED_MODULE_6__.a)?_d:Object])],StorybookReactiveGridComponent),__webpack_exports__.default={title:"Other/Animate",decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_1__.moduleMetadata)({imports:[_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_2__.a]})]};const Loop=args=>({component:StorybookLoopComponent,props:args}),Mixer=args=>({component:StorybookMixerComponent,props:args}),ReactiveGrid=args=>({component:StorybookReactiveGridComponent,props:args});Loop.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookLoopComponent,\n  props: args\n})"}},Loop.parameters),Mixer.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookMixerComponent,\n  props: args\n})"}},Mixer.parameters),ReactiveGrid.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookReactiveGridComponent,\n  props: args\n})"}},ReactiveGrid.parameters)},1323:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"MeshLine",(function(){return MeshLine})),__webpack_require__.d(__webpack_exports__,"Line",(function(){return Line})),__webpack_require__.d(__webpack_exports__,"AnimatedMeshLine",(function(){return AnimatedMeshLine}));var _a,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_storybook_angular__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),_projects_atft_src_lib_animation_animation_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(44),_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(22),_scene_wrapper_axes_scene_wrapper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(60);let StorybookLineComponent=class StorybookLineComponent{};StorybookLineComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({template:Object(_scene_wrapper_axes_scene_wrapper__WEBPACK_IMPORTED_MODULE_5__.a)('\n  <atft-sphere-mesh [radius]="2" [widthSegments]="10" [hightSegments]="20" material="lamb" materialColor="0x00ff00"\n    #a translateY="50" translateX="-10" [translateZ]="translateZ">\n  </atft-sphere-mesh>\n  <atft-sphere-mesh [radius]="2" [widthSegments]="10" [hightSegments]="20" material="lamb" materialColor="0x00ff00"\n    #b translateY="-20" translateX="-30" translateZ="+10">\n  </atft-sphere-mesh>\n  <atft-line-connector [source]="a" [target]="b" materialColor="0xff0000"></atft-line-connector>\n  ')})],StorybookLineComponent);let StorybookMeshLineComponent=class StorybookMeshLineComponent{};StorybookMeshLineComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({template:Object(_scene_wrapper_axes_scene_wrapper__WEBPACK_IMPORTED_MODULE_5__.a)('\n  <atft-sphere-mesh [radius]="2" [widthSegments]="10" [hightSegments]="20" material="lamb" materialColor="0x00ff00"\n    #a translateY="50" translateX="-10" [translateZ]="translateZ">\n  </atft-sphere-mesh>\n  <atft-sphere-mesh [radius]="2" [widthSegments]="10" [hightSegments]="20" material="lamb" materialColor="0x00ff00"\n    #b translateY="-50" translateX="10" translateZ="+10">\n  </atft-sphere-mesh>\n  <atft-mesh-line-connector [source]="a" [target]="b" materialColor="0xff0000"></atft-mesh-line-connector>\n  ')})],StorybookMeshLineComponent);let StorybookMeshLineAnimationComponent=class StorybookMeshLineAnimationComponent{constructor(animationService){this.animationService=animationService,this.animationService.start()}};StorybookMeshLineAnimationComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({template:Object(_scene_wrapper_axes_scene_wrapper__WEBPACK_IMPORTED_MODULE_5__.a)('\n  <atft-sphere-mesh [radius]="2" [widthSegments]="10" [hightSegments]="20" material="lamb" materialColor="0x00ff00"\n    #a translateY="50" translateX="-10" [translateZ]="translateZ">\n  </atft-sphere-mesh>\n  <atft-sphere-mesh [radius]="2" [widthSegments]="10" [hightSegments]="20" material="lamb" materialColor="0x00ff00"\n    #b translateY="-50" translateX="10" translateZ="+10">\n  </atft-sphere-mesh>\n\n  <atft-mesh-line-connector [source]="a" [target]="b" materialColor="0xff0000"\n  [animated]="true"\n  >\n  </atft-mesh-line-connector>\n  ')}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_projects_atft_src_lib_animation_animation_service__WEBPACK_IMPORTED_MODULE_3__.a&&_projects_atft_src_lib_animation_animation_service__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object])],StorybookMeshLineAnimationComponent),__webpack_exports__.default={title:"Other/Connector",decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_2__.moduleMetadata)({imports:[_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_4__.a]})],args:{translateZ:-10},argTypes:{translateZ:{control:{type:"range",min:-100,max:100,step:1}}}};const MeshLine=args=>({component:StorybookMeshLineComponent,props:args}),Line=args=>({component:StorybookLineComponent,props:args}),AnimatedMeshLine=args=>({component:StorybookMeshLineAnimationComponent,props:args});MeshLine.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookMeshLineComponent,\n  props: args\n})"}},MeshLine.parameters),Line.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookLineComponent,\n  props: args\n})"}},Line.parameters),AnimatedMeshLine.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookMeshLineAnimationComponent,\n  props: args\n})"}},AnimatedMeshLine.parameters)},1324:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ObjectLoader",(function(){return ObjectLoader})),__webpack_require__.d(__webpack_exports__,"ObjLoader",(function(){return ObjLoader})),__webpack_require__.d(__webpack_exports__,"SvgLoader",(function(){return SvgLoader}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_storybook_angular__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22),_scene_wrapper_axes_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(60),_scene_wrapper_world_scene_wrapper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(118);const modelPath="https://raw.githubusercontent.com/makimenko/files/master/angular-template-for-threejs/model/SampleArchitecture";let StorybookObjLoaderComponent=class StorybookObjLoaderComponent{};StorybookObjLoaderComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({template:Object(_scene_wrapper_world_scene_wrapper__WEBPACK_IMPORTED_MODULE_5__.a)(`\n      <atft-obj-loader\n              model="${modelPath}/SampleArchitecture.obj"\n              material="${modelPath}/SampleArchitecture.mtl"\n              resourcePath="${modelPath}/"\n              translateX="-60" translateY="-40" translateZ="0.5">\n          >\n      </atft-obj-loader>\n  `)})],StorybookObjLoaderComponent);let StorybookObjectLoaderComponent=class StorybookObjectLoaderComponent{};StorybookObjectLoaderComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({template:Object(_scene_wrapper_axes_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__.a)('\n      <atft-object-loader  model="assets/model/Server.json">\n      </atft-object-loader>\n  ')})],StorybookObjectLoaderComponent);let StorybookSVGLoaderComponent=class StorybookSVGLoaderComponent{};StorybookSVGLoaderComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({template:Object(_scene_wrapper_axes_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__.a)('\n      <atft-svg-loader model="./assets/svg/worldwide.svg" maxX="15" maxY="15">\n      </atft-svg-loader>\n      <atft-svg-loader [model]="model" [overrideMaterialColor]="overrideMaterialColor"\n        maxX="10" maxY="10"  translateZ="2">\n      </atft-svg-loader>\n  ')})],StorybookSVGLoaderComponent),__webpack_exports__.default={title:"Other/Loader",decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_2__.moduleMetadata)({imports:[_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_3__.a]})]};const ObjectLoader=args=>({component:StorybookObjectLoaderComponent,props:args}),ObjLoader=args=>({component:StorybookObjLoaderComponent,props:args}),SvgLoader=args=>({component:StorybookSVGLoaderComponent,props:args});SvgLoader.args={model:"./assets/svg/idea.svg",overrideMaterialColor:"0xff0000"},SvgLoader.argTypes={model:{control:{type:"select",options:["./assets/svg/idea.svg","./assets/svg/grid-world.svg","./assets/svg/upload.svg"]}},overrideMaterialColor:{control:{type:"select",options:["0xff0000","0x00ff00","0x0000ff"]}}},ObjectLoader.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookObjectLoaderComponent,\n  props: args\n})"}},ObjectLoader.parameters),ObjLoader.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookObjLoaderComponent,\n  props: args\n})"}},ObjLoader.parameters),SvgLoader.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookSVGLoaderComponent,\n  props: args\n})"}},SvgLoader.parameters)},1325:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Box",(function(){return Box})),__webpack_require__.d(__webpack_exports__,"Cylinder",(function(){return Cylinder})),__webpack_require__.d(__webpack_exports__,"Shpere",(function(){return Shpere})),__webpack_require__.d(__webpack_exports__,"Torus",(function(){return Torus})),__webpack_require__.d(__webpack_exports__,"Frame",(function(){return Frame})),__webpack_require__.d(__webpack_exports__,"Text",(function(){return Text}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_storybook_angular__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22),_scene_wrapper_axes_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(60);let StorybookBoxMeshComponent=class StorybookBoxMeshComponent{};StorybookBoxMeshComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({template:Object(_scene_wrapper_axes_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__.a)('\n  <atft-box-mesh height="10" width="10" depth="10" [translateX]="translateX" [materialColor]="materialColor"></atft-box-mesh>\n  ')})],StorybookBoxMeshComponent);let StorybookCylinderMeshComponent=class StorybookCylinderMeshComponent{};StorybookCylinderMeshComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"app-storybook-cylinder-mesh",template:Object(_scene_wrapper_axes_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__.a)('\n      <atft-cylinder-mesh [radiusTop]="2.0" [radiusBottom]="7.0" [height]="10" [radialSegments]="36" [heightSegments]="1"\n                          [translateX]="translateX" [materialColor]="materialColor">\n      </atft-cylinder-mesh>\n  ')})],StorybookCylinderMeshComponent);let StorybookSphereMeshComponent=class StorybookSphereMeshComponent{constructor(){this.translateX=0}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],StorybookSphereMeshComponent.prototype,"translateX",void 0),StorybookSphereMeshComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({template:Object(_scene_wrapper_axes_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__.a)('\n      <atft-sphere-mesh [radius]="4" [widthSegments]="20" [hightSegments]="20" [translateX]="translateX" [materialColor]="materialColor">\n      </atft-sphere-mesh>\n  ')})],StorybookSphereMeshComponent);let StorybookTextMeshComponent=class StorybookTextMeshComponent{};StorybookTextMeshComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({template:Object(_scene_wrapper_axes_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__.a)('\n  <atft-text-mesh [text]="text" [rotateZ]="(90 | deg2rad)" [translateX]="translateX" [materialColor]="materialColor"\n      [bevelEnabled]="true" curveSegments="20" [centered]="true">\n  </atft-text-mesh>')})],StorybookTextMeshComponent);let StorybookTorusMeshComponent=class StorybookTorusMeshComponent{};StorybookTorusMeshComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({template:Object(_scene_wrapper_axes_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__.a)('\n  <atft-torus-mesh [radius]="5" [tube]="2" [radialSegments]="16" [tubularSegments]="100" [arc]="6.28" [translateX]="translateX"\n        [materialColor]="materialColor">\n  </atft-torus-mesh>\n  ')})],StorybookTorusMeshComponent);let StorybookFrameMeshComponent=class StorybookFrameMeshComponent{};StorybookFrameMeshComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({template:Object(_scene_wrapper_axes_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__.a)('\n  <atft-frame-mesh [thickness]="2" [sizeX]="15" [sizeY]="20" [translateZ]="0.5" [translateX]="translateX" [materialColor]="materialColor">\n  </atft-frame-mesh>\n  ')})],StorybookFrameMeshComponent),__webpack_exports__.default={title:"Other/Mesh",decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_2__.moduleMetadata)({imports:[_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_3__.a]})],args:{materialColor:"0x00ff00",translateX:0},argTypes:{materialColor:{control:{type:"select",options:["0xff0000","0x00ff00","0x0000ff"]}},translateX:{control:{type:"range",min:-50,max:50,step:1}}}};const Box=args=>({component:StorybookBoxMeshComponent,props:args}),Cylinder=args=>({component:StorybookCylinderMeshComponent,props:args}),Shpere=args=>({component:StorybookSphereMeshComponent,props:args}),Torus=args=>({component:StorybookTorusMeshComponent,props:args}),Frame=args=>({component:StorybookFrameMeshComponent,props:args}),Text=args=>({component:StorybookTextMeshComponent,props:args});Text.args={text:"Hello :)"},Text.argTypes={text:"text"},Box.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookBoxMeshComponent,\n  props: args\n})"}},Box.parameters),Cylinder.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookCylinderMeshComponent,\n  props: args\n})"}},Cylinder.parameters),Shpere.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookSphereMeshComponent,\n  props: args\n})"}},Shpere.parameters),Torus.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookTorusMeshComponent,\n  props: args\n})"}},Torus.parameters),Frame.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookFrameMeshComponent,\n  props: args\n})"}},Frame.parameters),Text.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookTextMeshComponent,\n  props: args\n})"}},Text.parameters)},1326:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(15),__webpack_require__(29),__webpack_require__(17),__webpack_require__(20),__webpack_require__(2);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(69),_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(372);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,["components"]);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__.Meta,{title:"Other/Object/Abstract",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("h2",{id:"reusableabstract-data-binding"},"Reusable/Abstract data binding"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("p",null,"This storybook demonstrates data binding (change propagation) which is by default supported by all components extended from AbstractObject3D.\nThe input fields ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("inlineCode",{parentName:"p"},"translate{X,Y,Z}"),", ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("inlineCode",{parentName:"p"},"rotate{X,Y,Z}")," are forwarded internally to ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("a",_extends({parentName:"p"},{href:"https://threejs.org/docs/#api/en/core/Object3D",target:"_blank",rel:"nofollow noopener noreferrer"}),"Object3D"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("h3",{id:"source-code"},"Source Code"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("code",_extends({parentName:"pre"},{className:"language-html"}),'<atft-empty\n    [translateX]="translateX"\n    [translateY]="translateY"\n    [translateZ]="translateZ"\n    [rotateX]="rotateX"\n    [rotateY]="rotateY"\n    [rotateZ]="rotateZ">\n      \n    <atft-cylinder-mesh ></atft-cylinder-mesh>\n    <atft-torus-mesh ></atft-torus-mesh>\n     ...\n</atft-empty>\n')),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("h3",{id:"how-it-works"},"How it works"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("p",null,"The components atft-empty, atft-cylinder-mesh, atft-torus-mesh and others extends AbstractObject3D, with ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("a",_extends({parentName:"p"},{href:"https://angular.io/api/core/OnChanges",target:"_blank",rel:"nofollow noopener noreferrer"}),"ngOnChanges")," method to handle the changes:"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("pre",null,Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)("code",_extends({parentName:"pre"},{className:"language-typescript"}),"public ngOnChanges(changes: SimpleChanges) {\n  \n  if (['rotateX', 'rotateY', 'rotateZ'].some(propName => propName in changes)) {\n    this.applyRotation();\n    mustRerender = true;\n  }\n  \n}\n")))}MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Other/Object/Abstract",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(_storybook_addon_docs_blocks__WEBPACK_IMPORTED_MODULE_6__.AddContext,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.mdx)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},1327:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"AbstractProperties",(function(){return AbstractProperties}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_storybook_angular__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22),_scene_wrapper_axes_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(60);let StorybookObjectComponent=class StorybookObjectComponent{constructor(){this.material="phong"}};StorybookObjectComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({template:Object(_scene_wrapper_axes_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__.a)('\n    <atft-empty\n        [translateX]="translateX"\n        [translateY]="translateY"\n        [translateZ]="translateZ"\n        [rotateX]="rotateX"\n        [rotateY]="rotateY"\n        [rotateZ]="rotateZ"\n    >\n      <atft-cylinder-mesh [radiusTop]="2.0" [radiusBottom]="7.0" [height]="10" [radialSegments]="36" [heightSegments]="1"\n                          [material]="material" materialColor="0x00ff00">\n      </atft-cylinder-mesh>\n      <atft-torus-mesh [radius]="10" [tube]="1" [radialSegments]="16" [tubularSegments]="100" material="phong"\n            materialColor="0x0000ff">\n      </atft-torus-mesh>\n            <atft-torus-mesh [radius]="10" [tube]="1" [radialSegments]="16" [tubularSegments]="100" material="phong"\n            materialColor="0xff0000" [rotateX]="90 | deg2rad">\n      </atft-torus-mesh>\n    </atft-empty>\n  ')})],StorybookObjectComponent),__webpack_exports__.default={title:"Other/Object",decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_2__.moduleMetadata)({imports:[_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_3__.a]})],args:{translateX:0,translateY:0,translateZ:0,rotateX:0,rotateY:0,rotateZ:0},argTypes:{translateX:{control:{type:"range",min:-50,max:50,step:1}},translateY:{control:{type:"range",min:-50,max:50,step:1}},translateZ:{control:{type:"range",min:-50,max:50,step:1}},rotateX:{control:{type:"range",min:0,max:3.14,step:.1}},rotateY:{control:{type:"range",min:0,max:3.14,step:.1}},rotateZ:{control:{type:"range",min:0,max:3.14,step:.1}}}};const AbstractProperties=args=>({component:StorybookObjectComponent,props:args});AbstractProperties.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookObjectComponent,\n  props: args\n})"}},AbstractProperties.parameters)},1328:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Raycaster",(function(){return Raycaster}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_storybook_angular__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22),_scene_wrapper_world_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(118);let StorybookRaycasterGroupComponent=class StorybookRaycasterGroupComponent{constructor(){this.color=65280}mouseEnter(){console.log("mouseEnter"),this.color=255}mouseExit(){console.log("mouseExit"),this.color=65280}click(){console.log("click"),this.color=16711680}};StorybookRaycasterGroupComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({template:Object(_scene_wrapper_world_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__.a)('\n    <atft-empty atft-raycaster-group name="root-empty" (mouseEnter)="mouseEnter()" (mouseExit)="mouseExit()" (click)="click()">\n      <atft-box-mesh name="parent-box" height="10" width="10" depth="10" [materialColor]="color" translateZ="10">\n        <atft-box-mesh name="child-box1" height="5" width="5" depth="5" translateX="12" [materialColor]="color">\n                  <atft-box-mesh name="child-box1" height="3" width="3" depth="3" translateX="12" [materialColor]="color">\n                  </atft-box-mesh>\n        </atft-box-mesh>\n      </atft-box-mesh>\n    </atft-empty>\n')})],StorybookRaycasterGroupComponent),__webpack_exports__.default={title:"Other/Raycaster",decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_2__.moduleMetadata)({imports:[_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_3__.a]})]};const Raycaster=args=>({component:StorybookRaycasterGroupComponent,props:args});Raycaster.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookRaycasterGroupComponent,\n  props: args\n})"}},Raycaster.parameters)},1329:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Server",(function(){return Server}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_storybook_angular__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),_projects_atft_src_lib_actor_data_center__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(188),_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(22),_scene_wrapper_world_scene_wrapper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(118);let StorybookServerComponent=class StorybookServerComponent{mouseEnter(){console.log("Mouse enter")}};StorybookServerComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({template:Object(_scene_wrapper_world_scene_wrapper__WEBPACK_IMPORTED_MODULE_5__.a)('\n    <atft-server-stand-actor atft-raycaster-group (mouseEnter)="mouseEnter()" [label]="label" [svgName]="svgName" translateX="-40">\n    </atft-server-stand-actor>\n\n    <atft-server-compact-actor atft-raycaster-group (mouseEnter)="mouseEnter()" [label]="label" [svgName]="svgName" translateX="-20">\n    </atft-server-compact-actor>\n\n    <atft-server-barrel-actor atft-raycaster-group (mouseEnter)="mouseEnter()" [label]="label" [svgName]="svgName" translateX="0">\n    </atft-server-barrel-actor>\n\n    <atft-server-icon-actor atft-raycaster-group (mouseEnter)="mouseEnter()" [label]="label" [svgName]="svgName" translateX="20">\n    </atft-server-icon-actor>\n\n    <atft-workstation-actor atft-raycaster-group (mouseEnter)="mouseEnter()" [label]="label" [svgName]="svgName" translateX="40"\n      videoSrc="https://raw.githubusercontent.com/makimenko/files/master/angular-template-for-threejs/videos/ui/retro_futuristic_ui_360p.mp4">\n    </atft-workstation-actor>\n  ')})],StorybookServerComponent),__webpack_exports__.default={title:"Other/Server",decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_2__.moduleMetadata)({imports:[_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_4__.a,_projects_atft_src_lib_actor_data_center__WEBPACK_IMPORTED_MODULE_3__.a]})],args:{svgName:"idea.svg",label:"Workstation"},argTypes:{svgName:{description:"Please choose SVG file from assets",control:{type:"select",options:["idea.svg","upload.svg","grid-world.svg"]}},label:{description:"Please choose title of workstation",control:{type:"text"}}}};const Server=args=>({component:StorybookServerComponent,props:args});Server.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookServerComponent,\n  props: args\n})"}},Server.parameters)},1330:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"VideoTexture",(function(){return VideoTexture}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_storybook_angular__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22),_scene_wrapper_axes_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(60);let StorybookVideoComponent=class StorybookVideoComponent{};StorybookVideoComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({template:Object(_scene_wrapper_axes_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__.a)('\n  <atft-plane-mesh *ngFor="let item of [].constructor(10); let i = index"\n    height="24.5" width="42" materialColor="0xffffff" material="phong"\n    [rotateZ]="(90 | deg2rad)" [rotateY]="(90 | deg2rad)" translateZ="10" [translateX]="(i*-20)">\n    <atft-video-mesh height="22.5" width="40" translateZ="0.1"\n        videoSrc="https://raw.githubusercontent.com/makimenko/files/master/angular-template-for-threejs/videos/ui/retro_futuristic_ui_720p.mp4">\n    </atft-video-mesh>\n  </atft-plane-mesh>\n  ')})],StorybookVideoComponent),__webpack_exports__.default={title:"Other/Video Texture",decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_2__.moduleMetadata)({imports:[_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_3__.a]})]};const VideoTexture=args=>({component:StorybookVideoComponent,props:args});VideoTexture.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookVideoComponent,\n  props: args\n})"}},VideoTexture.parameters)},1331:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Intro",(function(){return Intro}));var _a,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_storybook_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(25),_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(22),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),_projects_atft_src_lib_animation__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(92),_projects_atft_src_lib_object_helper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(80),_projects_atft_src_lib_actor_ux__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(186);let StorybookIntroComponent=class StorybookIntroComponent{constructor(animationService){this.animationService=animationService,this.k=0}ngAfterViewInit(){this.animate=this.animate.bind(this),this.animationService.animate.subscribe(this.animate),this.animationService.start()}animate(){this.k+=.02}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__.ViewChild)(_projects_atft_src_lib_object_helper__WEBPACK_IMPORTED_MODULE_5__.a),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],StorybookIntroComponent.prototype,"box",void 0),StorybookIntroComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_3__.Component)({template:'\n    <atft-renderer-canvas>\n      <atft-orthographic-camera [positionX]=0 [positionY]=0 [positionZ]="100" [zoom]="4">\n      </atft-orthographic-camera>\n\n      \x3c!-- Background --\x3e\n      <atft-scene name="backgroundScene" background="0x000051">\n        <atft-effect-composer [renderToScreen]="false" [sceneBackgroundTarget]="mainScene">\n          <atft-blur></atft-blur>\n        </atft-effect-composer>\n\n        <atft-point-light intensity="0.4" distance="1000" [translateX]="-60" [translateY]="-60"\n                          [translateZ]="50"></atft-point-light>\n\n        <atft-loader-actor materialColor = "0x5DADE2"></atft-loader-actor>\n      </atft-scene>\n\n      \x3c!-- Foreground --\x3e\n      <atft-scene name="scene" #mainScene atft-stats-auto-show>\n        <atft-ambient-light color="0xFFFFFF" intensity="0.4"></atft-ambient-light>\n\n        <atft-point-light intensity="0.5" distance="1000" translateX=90 translateY=90\n                          translateZ=90></atft-point-light>\n        <atft-point-light intensity="0.8" distance="1000" [translateX]="-60" [translateY]="-60"\n                          [translateZ]="50"></atft-point-light>\n\n        <atft-text-actor text="Introducing Angular Template for Three.js" translateX="-200" translateY="-50" translateZ="1"\n                         [animate]="true" [minDelay]="5" [maxDelay]="5" materialColor="0xDDDDDD"\n        ></atft-text-actor>\n\n      </atft-scene>\n    </atft-renderer-canvas>\n  '}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_projects_atft_src_lib_animation__WEBPACK_IMPORTED_MODULE_4__.a&&_projects_atft_src_lib_animation__WEBPACK_IMPORTED_MODULE_4__.a)?_a:Object])],StorybookIntroComponent),__webpack_exports__.default={title:"UX / Intro",decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_1__.moduleMetadata)({imports:[_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_2__.a,_projects_atft_src_lib_actor_ux__WEBPACK_IMPORTED_MODULE_6__.a]})],args:{},argTypes:{}};const Intro=args=>({component:StorybookIntroComponent,props:args});Intro.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookIntroComponent,\n  props: args\n})"}},Intro.parameters)},1332:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Loader1",(function(){return Loader1}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_storybook_angular__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22),_projects_atft_src_lib_actor_ux__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(186),_scene_wrapper_ux_scene_wrapper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(373);let StorybookTextComponent=class StorybookTextComponent{};StorybookTextComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({template:Object(_scene_wrapper_ux_scene_wrapper__WEBPACK_IMPORTED_MODULE_5__.a)("\n    <atft-loader-actor></atft-loader-actor>\n  ")})],StorybookTextComponent),__webpack_exports__.default={title:"UX / Loader",decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_2__.moduleMetadata)({imports:[_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_3__.a,_projects_atft_src_lib_actor_ux__WEBPACK_IMPORTED_MODULE_4__.a]})],args:{},argTypes:{}};const Loader1=args=>({component:StorybookTextComponent,props:args});Loader1.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookTextComponent,\n  props: args\n})"}},Loader1.parameters)},1333:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Animate",(function(){return Animate}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_storybook_angular__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22),_scene_wrapper_ux_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(373),_projects_atft_src_lib_actor_ux__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(186);let StorybookTextComponent=class StorybookTextComponent{};StorybookTextComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({template:Object(_scene_wrapper_ux_scene_wrapper__WEBPACK_IMPORTED_MODULE_4__.a)('\n    <atft-text-actor [text]="label" [animate]="animate" [minDelay]="minDelay" [maxDelay]="maxDelay">\n    </atft-text-actor>\n  ')})],StorybookTextComponent),__webpack_exports__.default={title:"UX / Text",decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_2__.moduleMetadata)({imports:[_projects_atft_src_lib_atft_module__WEBPACK_IMPORTED_MODULE_3__.a,_projects_atft_src_lib_actor_ux__WEBPACK_IMPORTED_MODULE_5__.a]})],args:{animate:!0,label:"Hello, welcome to the world of animationService!",minDelay:5,maxDelay:20},argTypes:{animate:{description:"Enable animated text?",control:{type:"boolean"}},label:{description:"Please choose title of workstation",control:{type:"text"}},minDelay:{control:{type:"range",min:0,max:300,step:1}},maxDelay:{control:{type:"range",min:0,max:1e3,step:1}}}};const Animate=args=>({component:StorybookTextComponent,props:args});Animate.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookTextComponent,\n  props: args\n})"}},Animate.parameters)},1334:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_angular_devkit_build_angular_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(656),_node_modules_angular_devkit_build_angular_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_angular_devkit_build_angular_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_cjs_js_ref_9_1_node_modules_angular_devkit_build_angular_node_modules_postcss_loader_dist_cjs_js_ref_9_2_node_modules_resolve_url_loader_index_js_ref_9_3_node_modules_sass_loader_dist_cjs_js_ref_9_4_styles_scss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(478),options={insert:"head",singleton:!1};_node_modules_angular_devkit_build_angular_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_ref_9_1_node_modules_angular_devkit_build_angular_node_modules_postcss_loader_dist_cjs_js_ref_9_2_node_modules_resolve_url_loader_index_js_ref_9_3_node_modules_sass_loader_dist_cjs_js_ref_9_4_styles_scss__WEBPACK_IMPORTED_MODULE_1__.a,options);__webpack_exports__.default=_node_modules_css_loader_dist_cjs_js_ref_9_1_node_modules_angular_devkit_build_angular_node_modules_postcss_loader_dist_cjs_js_ref_9_2_node_modules_resolve_url_loader_index_js_ref_9_3_node_modules_sass_loader_dist_cjs_js_ref_9_4_styles_scss__WEBPACK_IMPORTED_MODULE_1__.a.locals||{}},1339:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"VirtualCity",(function(){return VirtualCity}));var tslib_es6=__webpack_require__(1),client=__webpack_require__(25),atft_module=__webpack_require__(22),core=__webpack_require__(0),animation=__webpack_require__(92),ux=__webpack_require__(186),three_module=__webpack_require__(3),common=(__webpack_require__(71),__webpack_require__(29),__webpack_require__(30),__webpack_require__(628),__webpack_require__(622),__webpack_require__(18),__webpack_require__(27),__webpack_require__(218),__webpack_require__(1280),__webpack_require__(1287),__webpack_require__(1289),__webpack_require__(1290),__webpack_require__(1291),__webpack_require__(1292),__webpack_require__(1293),__webpack_require__(1294),__webpack_require__(1295),__webpack_require__(1296),__webpack_require__(1297),__webpack_require__(1298),__webpack_require__(1299),__webpack_require__(1301),__webpack_require__(1302),__webpack_require__(1303),__webpack_require__(1304),__webpack_require__(1305),__webpack_require__(1306),__webpack_require__(1307),__webpack_require__(1308),__webpack_require__(1309),__webpack_require__(1310),__webpack_require__(1311),__webpack_require__(72),__webpack_require__(1312),__webpack_require__(9)),stats_module=__webpack_require__(365),THREE_MeshLine=__webpack_require__(190),MTLLoader=__webpack_require__(367),OBJLoader=__webpack_require__(368),SVGLoader=__webpack_require__(369),OrbitControls=__webpack_require__(213),BokehPass=__webpack_require__(375),EffectComposer=__webpack_require__(374),RenderPass=__webpack_require__(370),ShaderPass=__webpack_require__(88),DotScreenShader=__webpack_require__(371),VerticalBlurShader=__webpack_require__(234),HorizontalBlurShader=__webpack_require__(235);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(target,property,receiver){var base=function _superPropBase(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var atft_StatsService=function(){function StatsService(){var _this=this;_classCallCheck(this,StatsService),document.body.addEventListener("keydown",(function(event){event.altKey&&"s"===event.key&&_this.toggle()}))}return _createClass(StatsService,[{key:"update",value:function update(){this.stats&&this.stats.update()}},{key:"toggle",value:function toggle(){this.stats?this.remove():this.create()}},{key:"create",value:function create(){this.stats||(this.stats=Object(stats_module.a)(),document.body.appendChild(this.stats.dom))}},{key:"remove",value:function remove(){this.stats&&(this.stats.dom.remove(),this.stats.dom=null,this.stats=null)}},{key:"ngOnDestroy",value:function ngOnDestroy(){this.remove()}}]),StatsService}();atft_StatsService.decorators=[{type:core.Injectable}],atft_StatsService.ctorParameters=function(){return[]};var atft_RendererService=function(){function RendererService(statsService){_classCallCheck(this,RendererService),this.statsService=statsService,this.init=!1}return _createClass(RendererService,[{key:"ngOnDestroy",value:function ngOnDestroy(){}},{key:"setScene",value:function setScene(scene){this.scene=scene}},{key:"setCamera",value:function setCamera(camera){this.camera=camera,this.camera.updateAspectRatio(this.aspect)}},{key:"render",value:function render(){this.init&&this.scene&&this.camera&&(this.composer?(this.composer.render(),this.composer.renderToScreen||this.webGlRenderer.render(this.scene.getObject(),this.camera.camera)):this.webGlRenderer.render(this.scene.getObject(),this.camera.camera),this.statsService.update())}},{key:"initialize",value:function initialize(canvas){this.webGlRenderer=new three_module.WebGLRenderer({canvas:canvas,antialias:!0,alpha:!0}),this.webGlRenderer.setPixelRatio(window.devicePixelRatio),this.webGlRenderer.setSize(canvas.clientWidth,canvas.clientHeight,!0),this.webGlRenderer.shadowMap.enabled=!1,this.webGlRenderer.shadowMap.autoUpdate=!1,this.webGlRenderer.shadowMap.type=three_module.PCFSoftShadowMap,this.webGlRenderer.setClearColor(0,0),this.webGlRenderer.autoClear=!0,canvas.style.zIndex="2",this.updateChildCamerasAspectRatio(canvas),this.init=!0,this.render()}},{key:"resize",value:function resize(canvas,size){canvas.style.width=size,canvas.style.height=size,canvas.style.border="none";var width=canvas.clientWidth,height=canvas.clientHeight;this.webGlRenderer.setSize(width,height,!0),this.updateChildCamerasAspectRatio(canvas),this.render()}},{key:"calculateAspectRatio",value:function calculateAspectRatio(canvas){if(0===canvas.clientHeight)return 0;this.aspect=canvas.clientWidth/canvas.clientHeight}},{key:"updateChildCamerasAspectRatio",value:function updateChildCamerasAspectRatio(canvas){this.calculateAspectRatio(canvas),this.camera&&this.camera.updateAspectRatio(this.aspect)}},{key:"getScene",value:function getScene(){return this.scene}},{key:"getCamera",value:function getCamera(){return this.camera}},{key:"getWebGlRenderer",value:function getWebGlRenderer(){return this.webGlRenderer}},{key:"setComposer",value:function setComposer(composer){this.composer=composer}}]),RendererService}();function appliedColor(color,defaultColor){var resultColor=defaultColor||16777215;return void 0!==color&&(resultColor=1*color),resultColor}function appliedMaterial(materialColor,materialName,depthWrite){var props={color:materialColor instanceof three_module.Color?materialColor:appliedColor(materialColor),side:three_module.DoubleSide,depthWrite:void 0===depthWrite||depthWrite};return"lamb"===materialName?new three_module.MeshLambertMaterial(props):"basic"===materialName?new three_module.MeshBasicMaterial(props):new three_module.MeshPhongMaterial(props)}function calculateSize(group){var box=(new three_module.Box3).setFromObject(group);return new three_module.Vector3(box.max.x-box.min.x,box.max.y-box.min.y,box.max.z-box.min.z)}function fixCenter(group){var box=calculateSize(group);group.translateX(-box.x/2),group.translateY(-box.y/2),group.translateZ(-box.z/2)}function scaleToFit(group,max){var box=calculateSize(group),scaleX=max.x/box.x,scaleY=max.y/box.y,scaleZ=max.z/box.z;group.scale.set(scaleX<1?scaleX:1,scaleY<1?scaleY:1,scaleZ<1?scaleZ:1)}atft_RendererService.decorators=[{type:core.Injectable}],atft_RendererService.ctorParameters=function(){return[{type:atft_StatsService}]};var atft_AbstractObject3D=function(){function AbstractObject3D(rendererService,parent){_classCallCheck(this,AbstractObject3D),this.rendererService=rendererService,this.parent=parent,this.scaleX=1,this.scaleY=1,this.scaleZ=1,this.layer=0,this.changed=new core.EventEmitter}return _createClass(AbstractObject3D,[{key:"ngOnChanges",value:function ngOnChanges(changes){if(this.object){var modified=!1;["rotateX","rotateY","rotateZ"].some((function(propName){return propName in changes}))&&(this.applyRotation(),modified=!0),["translateX","translateY","translateZ"].some((function(propName){return propName in changes}))&&(this.applyTranslation(),modified=!0),["scaleX","scaleY","scaleZ"].some((function(propName){return propName in changes}))&&(this.applyScale(),modified=!0),modified&&(this.changed.emit(),this.rendererService.render())}}},{key:"ngOnDestroy",value:function ngOnDestroy(){this.object&&this.object.parent&&(this.object.parent.remove(this.object),this.rendererService&&this.rendererService.render())}},{key:"ngOnInit",value:function ngOnInit(){this.object=this.newObject3DInstance(),this.layer?(this.object.layers.disableAll(),this.object.layers.enable(this.layer)):this.object.layers.enableAll(),this.applyTranslation(),this.applyRotation(),this.applyScale(),this.afterInit()}},{key:"updateParent",value:function updateParent(){this.parent&&(this.parent.addChild(this.object),this.rendererService.render())}},{key:"applyRotation",value:function applyRotation(){this.object.rotation.set(this.rotateX||0,this.rotateY||0,this.rotateZ||0,"XYZ")}},{key:"applyTranslation",value:function applyTranslation(){this.object.position.set(this.translateX||0,this.translateY||0,this.translateZ||0)}},{key:"applyScale",value:function applyScale(){this.object.scale.set(this.scaleX||0,this.scaleY||0,this.scaleZ||0)}},{key:"addChild",value:function addChild(object){this.object&&(this.object.add(object),this.rendererService&&this.rendererService.render())}},{key:"afterInit",value:function afterInit(){}},{key:"removeChild",value:function removeChild(object){this.object&&this.object.remove(object)}},{key:"getObject",value:function getObject(){return this.object}},{key:"ngAfterViewInit",value:function ngAfterViewInit(){this.updateParent()}}]),AbstractObject3D}();function provideParent(component,parentType){return{provide:parentType||atft_AbstractObject3D,useExisting:Object(core.forwardRef)((function(){return component}))}}atft_AbstractObject3D.decorators=[{type:core.Directive}],atft_AbstractObject3D.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},atft_AbstractObject3D.propDecorators={rotateX:[{type:core.Input}],rotateY:[{type:core.Input}],rotateZ:[{type:core.Input}],translateX:[{type:core.Input}],translateY:[{type:core.Input}],translateZ:[{type:core.Input}],scaleX:[{type:core.Input}],scaleY:[{type:core.Input}],scaleZ:[{type:core.Input}],name:[{type:core.Input}],layer:[{type:core.Input}],changed:[{type:core.Output}]};var AbstractCamera=function(){function AbstractCamera(rendererService){_classCallCheck(this,AbstractCamera),this.rendererService=rendererService,this.zAxisUp=!1}return _createClass(AbstractCamera,[{key:"ngOnInit",value:function ngOnInit(){this.createCamera(),this.layer?this.camera.layers.enable(this.layer):this.camera.layers.enableAll(),this.applyZAxisUp(),this.applyPosition(),this.rendererService.setCamera(this)}},{key:"ngOnChanges",value:function ngOnChanges(changes){var mustRerender=!1;["positionX","positionY","positionZ"].some((function(propName){return propName in changes}))&&(this.applyPosition(),mustRerender=!0),mustRerender&&this.rendererService.render()}},{key:"applyPosition",value:function applyPosition(){this.camera&&this.camera.position.set(this.positionX||0,this.positionY||0,this.positionZ||0)}},{key:"applyZAxisUp",value:function applyZAxisUp(){this.camera&&this.zAxisUp&&this.camera.up.set(0,0,1)}}]),AbstractCamera}();AbstractCamera.decorators=[{type:core.Directive}],AbstractCamera.ctorParameters=function(){return[{type:atft_RendererService}]},AbstractCamera.propDecorators={positionX:[{type:core.Input}],positionY:[{type:core.Input}],positionZ:[{type:core.Input}],zAxisUp:[{type:core.Input}],layer:[{type:core.Input}]};var atft_PerspectiveCameraComponent=function(_AbstractCamera){_inherits(PerspectiveCameraComponent,_AbstractCamera);var _super=_createSuper(PerspectiveCameraComponent);function PerspectiveCameraComponent(rendererService){var _this2;return _classCallCheck(this,PerspectiveCameraComponent),(_this2=_super.call(this,rendererService)).rendererService=rendererService,_this2}return _createClass(PerspectiveCameraComponent,[{key:"createCamera",value:function createCamera(){this.camera=new three_module.PerspectiveCamera(this.fov,void 0,this.near,this.far)}},{key:"updateAspectRatio",value:function updateAspectRatio(aspect){this.camera.aspect=aspect,this.camera.updateProjectionMatrix()}}]),PerspectiveCameraComponent}(AbstractCamera);atft_PerspectiveCameraComponent.decorators=[{type:core.Component,args:[{selector:"atft-perspective-camera",providers:[provideParent(atft_PerspectiveCameraComponent,AbstractCamera)],template:"<ng-content></ng-content>"}]}],atft_PerspectiveCameraComponent.ctorParameters=function(){return[{type:atft_RendererService}]},atft_PerspectiveCameraComponent.propDecorators={fov:[{type:core.Input}],near:[{type:core.Input}],far:[{type:core.Input}]};var atft_OrthographicCameraComponent=function(_AbstractCamera2){_inherits(OrthographicCameraComponent,_AbstractCamera2);var _super2=_createSuper(OrthographicCameraComponent);function OrthographicCameraComponent(rendererService){var _this3;return _classCallCheck(this,OrthographicCameraComponent),(_this3=_super2.call(this,rendererService)).rendererService=rendererService,_this3.zoom=4,_this3}return _createClass(OrthographicCameraComponent,[{key:"createCamera",value:function createCamera(){this.camera=new three_module.OrthographicCamera(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/-2,window.innerHeight/2,.1,1e4),this.updateZoom()}},{key:"ngOnChanges",value:function ngOnChanges(changes){if(this.camera){var mustRerender=!1;["zoom"].some((function(propName){return propName in changes}))&&(this.updateZoom(),mustRerender=!0),mustRerender&&this.rendererService.render()}}},{key:"updateZoom",value:function updateZoom(){this.camera.zoom=this.zoom}},{key:"updateAspectRatio",value:function updateAspectRatio(aspect){this.camera.left=-1e3*aspect/2,this.camera.right=1e3*aspect/2,this.camera.top=500,this.camera.bottom=-500,this.camera.updateProjectionMatrix(),this.camera.lookAt(new three_module.Vector3(0,0,0))}}]),OrthographicCameraComponent}(AbstractCamera);atft_OrthographicCameraComponent.decorators=[{type:core.Component,args:[{selector:"atft-orthographic-camera",providers:[provideParent(atft_OrthographicCameraComponent,AbstractCamera)],template:"<ng-content></ng-content>"}]}],atft_OrthographicCameraComponent.ctorParameters=function(){return[{type:atft_RendererService}]},atft_OrthographicCameraComponent.propDecorators={zoom:[{type:core.Input}]};var AtftCameraModule=function AtftCameraModule(){_classCallCheck(this,AtftCameraModule)};AtftCameraModule.decorators=[{type:core.NgModule,args:[{imports:[common.b],declarations:[atft_PerspectiveCameraComponent,atft_OrthographicCameraComponent],exports:[atft_PerspectiveCameraComponent,atft_OrthographicCameraComponent]}]}];var atft_AbstractConnector=function(_AbstractObject3D){_inherits(AbstractConnector,_AbstractObject3D);var _super3=_createSuper(AbstractConnector);function AbstractConnector(){return _classCallCheck(this,AbstractConnector),_super3.apply(this,arguments)}return _createClass(AbstractConnector,[{key:"newObject3DInstance",value:function newObject3DInstance(){var mesh=this.createConnectorObject();return this.watchObjects(),mesh}},{key:"watchObjects",value:function watchObjects(){var _this4=this;this.source.changed.subscribe((function(item){_this4.updateLineGeometry()})),this.target.changed.subscribe((function(item){_this4.updateLineGeometry()}))}},{key:"getLineGeometry",value:function getLineGeometry(){if(!this.source||!this.target)throw new Error("AbstractConnector: source or target inputs are missing!");var geometry=new three_module.BufferGeometry,positions=[],source=this.source.getObject().position,target=this.target.getObject().position;return positions.push(source.x,source.y,source.z),positions.push(target.x,target.y,target.z),geometry.setAttribute("position",new three_module.Float32BufferAttribute(positions,3)),geometry}}]),AbstractConnector}(atft_AbstractObject3D);atft_AbstractConnector.decorators=[{type:core.Directive}],atft_AbstractConnector.propDecorators={source:[{type:core.Input}],target:[{type:core.Input}]};var atft_AnimationService=function(){function AnimationService(rendererService){_classCallCheck(this,AnimationService),this.rendererService=rendererService,this.animate=new core.EventEmitter,this.enabled=!1,this.animationStep=this.animationStep.bind(this)}return _createClass(AnimationService,[{key:"start",value:function start(){this.enabled||(this.enabled=!0,this.animationStep())}},{key:"stop",value:function stop(){this.enabled&&(this.enabled=!1)}},{key:"animationStep",value:function animationStep(){this.enabled&&this.animate.observers&&(requestAnimationFrame(this.animationStep),this.animate.observers.length>0&&(this.animate.emit(),this.rendererService.render()))}}]),AnimationService}();atft_AnimationService.decorators=[{type:core.Injectable}],atft_AnimationService.ctorParameters=function(){return[{type:atft_RendererService}]};var atft_MeshLineConnectorComponent=function(_AbstractConnector){_inherits(MeshLineConnectorComponent,_AbstractConnector);var _super4=_createSuper(MeshLineConnectorComponent);function MeshLineConnectorComponent(rendererService,parent,animationService){var _this5;return _classCallCheck(this,MeshLineConnectorComponent),(_this5=_super4.call(this,rendererService,parent)).rendererService=rendererService,_this5.parent=parent,_this5.animationService=animationService,_this5.materialColor=16776960,_this5.transparent=!0,_this5.opacity=.5,_this5.lineWidth=.5,_this5.depthWrite=!0,_this5.depthTest=!0,_this5.animated=!1,_this5.animationIncrement=.002,_this5}return _createClass(MeshLineConnectorComponent,[{key:"createConnectorObject",value:function createConnectorObject(){this.geometry=this.getLineGeometry(),this.line=new THREE_MeshLine.MeshLine;var arr=this.geometry.getAttribute("position").array;this.line.setGeometry(arr),this.lineMaterial=this.animated?new THREE_MeshLine.MeshLineMaterial({color:appliedColor(this.materialColor),transparent:this.transparent,opacity:this.opacity,lineWidth:this.lineWidth,depthWrite:this.depthWrite,depthTest:this.depthTest,side:three_module.DoubleSide,blending:three_module.NormalBlending,dashArray:.05,dashOffset:.1,dashRatio:.1}):new THREE_MeshLine.MeshLineMaterial({color:appliedColor(this.materialColor),transparent:this.transparent,opacity:this.opacity,lineWidth:this.lineWidth,depthWrite:this.depthWrite,depthTest:this.depthTest,side:three_module.DoubleSide,blending:three_module.NormalBlending});var mesh=new three_module.Mesh(this.line.geometry,this.lineMaterial);return this.animated&&(this.animate=this.animate.bind(this),this.animationService.animate.subscribe(this.animate)),mesh}},{key:"animate",value:function animate(){this.lineMaterial.uniforms.dashOffset.value+=this.animationIncrement}},{key:"updateLineGeometry",value:function updateLineGeometry(){this.geometry=this.getLineGeometry(),this.line.setGeometry(this.geometry),this.rendererService.render()}}]),MeshLineConnectorComponent}(atft_AbstractConnector);atft_MeshLineConnectorComponent.decorators=[{type:core.Component,args:[{selector:"atft-mesh-line-connector",providers:[provideParent(atft_MeshLineConnectorComponent)],template:"<ng-content></ng-content>"}]}],atft_MeshLineConnectorComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]},{type:atft_AnimationService}]},atft_MeshLineConnectorComponent.propDecorators={materialColor:[{type:core.Input}],transparent:[{type:core.Input}],opacity:[{type:core.Input}],lineWidth:[{type:core.Input}],depthWrite:[{type:core.Input}],depthTest:[{type:core.Input}],animated:[{type:core.Input}],animationIncrement:[{type:core.Input}]};var atft_LineConnectorComponent=function(_AbstractConnector2){_inherits(LineConnectorComponent,_AbstractConnector2);var _super5=_createSuper(LineConnectorComponent);function LineConnectorComponent(rendererService,parent){var _this6;return _classCallCheck(this,LineConnectorComponent),(_this6=_super5.call(this,rendererService,parent)).rendererService=rendererService,_this6.parent=parent,_this6.materialColor=16776960,_this6}return _createClass(LineConnectorComponent,[{key:"createConnectorObject",value:function createConnectorObject(){this.geometry=this.getLineGeometry();var material=new three_module.LineBasicMaterial({color:appliedColor(this.materialColor),linewidth:1});return this.line=new three_module.Line(this.geometry,material),this.line}},{key:"updateLineGeometry",value:function updateLineGeometry(){this.geometry=this.getLineGeometry(),this.line.geometry=this.geometry,this.rendererService.render()}}]),LineConnectorComponent}(atft_AbstractConnector);atft_LineConnectorComponent.decorators=[{type:core.Component,args:[{selector:"atft-line-connector",providers:[provideParent(atft_LineConnectorComponent)],template:"<ng-content></ng-content>"}]}],atft_LineConnectorComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},atft_LineConnectorComponent.propDecorators={materialColor:[{type:core.Input}]};var AtftConnectorModule=function AtftConnectorModule(){_classCallCheck(this,AtftConnectorModule)};AtftConnectorModule.decorators=[{type:core.NgModule,args:[{declarations:[atft_LineConnectorComponent,atft_MeshLineConnectorComponent],imports:[common.b],exports:[atft_LineConnectorComponent,atft_MeshLineConnectorComponent]}]}];var atft_AxesHelperComponent=function(_AbstractObject3D2){_inherits(AxesHelperComponent,_AbstractObject3D2);var _super6=_createSuper(AxesHelperComponent);function AxesHelperComponent(rendererService,parent){var _this7;return _classCallCheck(this,AxesHelperComponent),(_this7=_super6.call(this,rendererService,parent)).rendererService=rendererService,_this7.parent=parent,_this7}return _createClass(AxesHelperComponent,[{key:"newObject3DInstance",value:function newObject3DInstance(){return new three_module.AxesHelper(this.size)}}]),AxesHelperComponent}(atft_AbstractObject3D);atft_AxesHelperComponent.decorators=[{type:core.Component,args:[{selector:"atft-axes-helper",providers:[provideParent(atft_AxesHelperComponent)],template:"<ng-content></ng-content>"}]}],atft_AxesHelperComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},atft_AxesHelperComponent.propDecorators={size:[{type:core.Input}]};var atft_EmptyComponent=function(_AbstractObject3D3){_inherits(EmptyComponent,_AbstractObject3D3);var _super7=_createSuper(EmptyComponent);function EmptyComponent(rendererService,parent){var _this8;return _classCallCheck(this,EmptyComponent),(_this8=_super7.call(this,rendererService,parent)).rendererService=rendererService,_this8.parent=parent,_this8}return _createClass(EmptyComponent,[{key:"newObject3DInstance",value:function newObject3DInstance(){return new three_module.Object3D}}]),EmptyComponent}(atft_AbstractObject3D);atft_EmptyComponent.decorators=[{type:core.Component,args:[{selector:"atft-empty",providers:[provideParent(atft_EmptyComponent)],template:"<ng-content></ng-content>"}]}],atft_EmptyComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]};var atft_GridHelperComponent=function(_AbstractObject3D4){_inherits(GridHelperComponent,_AbstractObject3D4);var _super8=_createSuper(GridHelperComponent);function GridHelperComponent(rendererService,parent){var _this9;return _classCallCheck(this,GridHelperComponent),(_this9=_super8.call(this,rendererService,parent)).rendererService=rendererService,_this9.parent=parent,_this9}return _createClass(GridHelperComponent,[{key:"newObject3DInstance",value:function newObject3DInstance(){return new three_module.GridHelper(this.size,this.divisions)}}]),GridHelperComponent}(atft_AbstractObject3D);atft_GridHelperComponent.decorators=[{type:core.Component,args:[{selector:"atft-grid-helper",providers:[provideParent(atft_GridHelperComponent)],template:"<ng-content></ng-content>"}]}],atft_GridHelperComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},atft_GridHelperComponent.propDecorators={size:[{type:core.Input}],divisions:[{type:core.Input}]};var AtftHelperModule=function AtftHelperModule(){_classCallCheck(this,AtftHelperModule)};AtftHelperModule.decorators=[{type:core.NgModule,args:[{declarations:[atft_AxesHelperComponent,atft_EmptyComponent,atft_GridHelperComponent],imports:[common.b],exports:[atft_AxesHelperComponent,atft_EmptyComponent,atft_GridHelperComponent]}]}];var atft_PointLightComponent=function(_AbstractObject3D5){_inherits(PointLightComponent,_AbstractObject3D5);var _super9=_createSuper(PointLightComponent);function PointLightComponent(rendererService,parent){var _this10;return _classCallCheck(this,PointLightComponent),(_this10=_super9.call(this,rendererService,parent)).rendererService=rendererService,_this10.parent=parent,_this10.color=16777215,_this10.intensity=1,_this10.distance=500,_this10.castShadow=!1,_this10}return _createClass(PointLightComponent,[{key:"newObject3DInstance",value:function newObject3DInstance(){var light=new three_module.PointLight(appliedColor(this.color),this.intensity,this.distance);return!0===this.castShadow&&(light.castShadow=this.castShadow,light.shadow.mapSize.width=1024,light.shadow.mapSize.height=1024,light.shadow.camera.near=.5,light.shadow.camera.far=500,light.shadow.bias=-.001,light.shadow.radius=1),light}}]),PointLightComponent}(atft_AbstractObject3D);atft_PointLightComponent.decorators=[{type:core.Component,args:[{selector:"atft-point-light",providers:[provideParent(atft_PointLightComponent)],template:"<ng-content></ng-content>"}]}],atft_PointLightComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},atft_PointLightComponent.propDecorators={color:[{type:core.Input}],intensity:[{type:core.Input}],distance:[{type:core.Input}],castShadow:[{type:core.Input}]};var atft_HemisphereLightComponent=function(_AbstractObject3D6){_inherits(HemisphereLightComponent,_AbstractObject3D6);var _super10=_createSuper(HemisphereLightComponent);function HemisphereLightComponent(rendererService,parent){var _this11;return _classCallCheck(this,HemisphereLightComponent),(_this11=_super10.call(this,rendererService,parent)).rendererService=rendererService,_this11.parent=parent,_this11.skyColor=16777215,_this11.groundColor=4473924,_this11.intensity=1,_this11}return _createClass(HemisphereLightComponent,[{key:"newObject3DInstance",value:function newObject3DInstance(){return new three_module.HemisphereLight(appliedColor(this.skyColor),appliedColor(this.groundColor),appliedColor(this.intensity))}}]),HemisphereLightComponent}(atft_AbstractObject3D);atft_HemisphereLightComponent.decorators=[{type:core.Component,args:[{selector:"atft-hemisphere-light",providers:[provideParent(atft_HemisphereLightComponent)],template:"<ng-content></ng-content>"}]}],atft_HemisphereLightComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},atft_HemisphereLightComponent.propDecorators={skyColor:[{type:core.Input}],groundColor:[{type:core.Input}],intensity:[{type:core.Input}]};var atft_DirectionalLightComponent=function(_AbstractObject3D7){_inherits(DirectionalLightComponent,_AbstractObject3D7);var _super11=_createSuper(DirectionalLightComponent);function DirectionalLightComponent(rendererService,parent){var _this12;return _classCallCheck(this,DirectionalLightComponent),(_this12=_super11.call(this,rendererService,parent)).rendererService=rendererService,_this12.parent=parent,_this12.color=16777215,_this12.intensity=1,_this12.target=new three_module.Object3D,_this12.castShadow=!0,_this12}return _createClass(DirectionalLightComponent,[{key:"newObject3DInstance",value:function newObject3DInstance(){var light=new three_module.DirectionalLight(appliedColor(this.color),this.intensity);return light.target=this.target,!0===this.castShadow&&(light.castShadow=this.castShadow,light.shadow.camera.top=100,light.shadow.camera.bottom=-100,light.shadow.camera.left=-100,light.shadow.camera.right=100,light.shadow.camera.near=.1,light.shadow.camera.far=500,light.shadow.mapSize.set(1024,1024),light.shadow.bias=-.001),light}}]),DirectionalLightComponent}(atft_AbstractObject3D);atft_DirectionalLightComponent.decorators=[{type:core.Component,args:[{selector:"atft-directional-light",providers:[provideParent(atft_DirectionalLightComponent)],template:"<ng-content></ng-content>"}]}],atft_DirectionalLightComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},atft_DirectionalLightComponent.propDecorators={color:[{type:core.Input}],intensity:[{type:core.Input}],target:[{type:core.Input}],castShadow:[{type:core.Input}]};var atft_AmbientLightComponent=function(_AbstractObject3D8){_inherits(AmbientLightComponent,_AbstractObject3D8);var _super12=_createSuper(AmbientLightComponent);function AmbientLightComponent(rendererService,parent){var _this13;return _classCallCheck(this,AmbientLightComponent),(_this13=_super12.call(this,rendererService,parent)).rendererService=rendererService,_this13.parent=parent,_this13.color=16777215,_this13.intensity=.8,_this13}return _createClass(AmbientLightComponent,[{key:"newObject3DInstance",value:function newObject3DInstance(){var light=new three_module.AmbientLight(appliedColor(this.color));return light.intensity=this.intensity,light}}]),AmbientLightComponent}(atft_AbstractObject3D);atft_AmbientLightComponent.decorators=[{type:core.Component,args:[{selector:"atft-ambient-light",providers:[provideParent(atft_AmbientLightComponent)],template:"<ng-content></ng-content>"}]}],atft_AmbientLightComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},atft_AmbientLightComponent.propDecorators={color:[{type:core.Input}],intensity:[{type:core.Input}]};var AtftLightModule=function AtftLightModule(){_classCallCheck(this,AtftLightModule)};AtftLightModule.decorators=[{type:core.NgModule,args:[{declarations:[atft_DirectionalLightComponent,atft_HemisphereLightComponent,atft_PointLightComponent,atft_AmbientLightComponent],imports:[common.b],exports:[atft_DirectionalLightComponent,atft_HemisphereLightComponent,atft_PointLightComponent,atft_AmbientLightComponent]}]}];var atft_AbstractLazyObject3D=function(_AbstractObject3D9){_inherits(AbstractLazyObject3D,_AbstractObject3D9);var _super13=_createSuper(AbstractLazyObject3D);function AbstractLazyObject3D(){var _this14;return _classCallCheck(this,AbstractLazyObject3D),(_this14=_super13.apply(this,arguments)).parentInitialized=!1,_this14}return _createClass(AbstractLazyObject3D,[{key:"afterInit",value:function afterInit(){_get(_getPrototypeOf(AbstractLazyObject3D.prototype),"afterInit",this).call(this),this.parentInitialized=!0,this.startLoading()}},{key:"startLoading",value:function startLoading(){var _this15=this;this.loadLazyObject().then((function(obj){_this15.lazyObject&&_get(_getPrototypeOf(AbstractLazyObject3D.prototype),"removeChild",_this15).call(_this15,_this15.lazyObject),_this15.lazyObject=obj,_get(_getPrototypeOf(AbstractLazyObject3D.prototype),"addChild",_this15).call(_this15,obj),_this15.rendererService.render()})).catch((function(err){console.error(err)}))}},{key:"ngOnDestroy",value:function ngOnDestroy(){this.lazyObject&&_get(_getPrototypeOf(AbstractLazyObject3D.prototype),"removeChild",this).call(this,this.lazyObject)}},{key:"newObject3DInstance",value:function newObject3DInstance(){return new three_module.Object3D}}]),AbstractLazyObject3D}(atft_AbstractObject3D);atft_AbstractLazyObject3D.decorators=[{type:core.Directive}];var AbstractModelLoader=function(_AbstractLazyObject3D){_inherits(AbstractModelLoader,_AbstractLazyObject3D);var _super14=_createSuper(AbstractModelLoader);function AbstractModelLoader(){return _classCallCheck(this,AbstractModelLoader),_super14.apply(this,arguments)}return _createClass(AbstractModelLoader,[{key:"model",set:function set(newModelUrl){this._model!==newModelUrl&&(this._model=newModelUrl,_get(_getPrototypeOf(AbstractModelLoader.prototype),"startLoading",this).call(this))},get:function get(){return this._model}}]),AbstractModelLoader}(atft_AbstractLazyObject3D);AbstractModelLoader.decorators=[{type:core.Directive}],AbstractModelLoader.propDecorators={model:[{type:core.Input}]};var atft_ObjectLoaderComponent=function(_AbstractModelLoader){_inherits(ObjectLoaderComponent,_AbstractModelLoader);var _super15=_createSuper(ObjectLoaderComponent);function ObjectLoaderComponent(rendererService,parent){var _this16;return _classCallCheck(this,ObjectLoaderComponent),(_this16=_super15.call(this,rendererService,parent)).rendererService=rendererService,_this16.parent=parent,_this16.loader=new three_module.ObjectLoader,_this16}return _createClass(ObjectLoaderComponent,[{key:"loadLazyObject",value:function loadLazyObject(){return Object(tslib_es6.a)(this,void 0,void 0,regeneratorRuntime.mark((function _callee(){var _this17=this;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",new Promise((function(resolve,reject){_this17.loader.load(_this17.model,(function(model){resolve(model)}),void 0,reject)})));case 1:case"end":return _context.stop()}}),_callee)})))}}]),ObjectLoaderComponent}(AbstractModelLoader);atft_ObjectLoaderComponent.decorators=[{type:core.Component,args:[{selector:"atft-object-loader",providers:[provideParent(atft_ObjectLoaderComponent)],template:"<ng-content></ng-content>"}]}],atft_ObjectLoaderComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]};var atft_ObjLoaderComponent=function(_AbstractModelLoader2){_inherits(ObjLoaderComponent,_AbstractModelLoader2);var _super16=_createSuper(ObjLoaderComponent);function ObjLoaderComponent(rendererService,parent){var _this18;return _classCallCheck(this,ObjLoaderComponent),(_this18=_super16.call(this,rendererService,parent)).rendererService=rendererService,_this18.parent=parent,_this18.loader=new OBJLoader.a,_this18.mtlLoader=new MTLLoader.a,_this18}return _createClass(ObjLoaderComponent,[{key:"loadLazyObject",value:function loadLazyObject(){return Object(tslib_es6.a)(this,void 0,void 0,regeneratorRuntime.mark((function _callee2(){var preloadingStep,_this19=this;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return preloadingStep=new Promise((function(resolve,reject){void 0===_this19.material?resolve():(_this19.mtlLoader.setResourcePath(_this19.resourcePath),_this19.mtlLoader.load(_this19.material,(function(materialCreator){materialCreator.preload(),_this19.loader.setMaterials(materialCreator),resolve()}),void 0,reject))})),_context2.abrupt("return",preloadingStep.then((function(){return new Promise((function(resolve,reject){_this19.loader.load(_this19.model,(function(model){resolve(model)}),void 0,reject)}))})));case 2:case"end":return _context2.stop()}}),_callee2)})))}},{key:"texturePath",set:function set(newTexturePath){this.resourcePath=newTexturePath}}]),ObjLoaderComponent}(AbstractModelLoader);atft_ObjLoaderComponent.decorators=[{type:core.Component,args:[{selector:"atft-obj-loader",providers:[provideParent(atft_ObjLoaderComponent)],template:"<ng-content></ng-content>"}]}],atft_ObjLoaderComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},atft_ObjLoaderComponent.propDecorators={material:[{type:core.Input}],texturePath:[{type:core.Input}],resourcePath:[{type:core.Input}]};var atft_SVGLoaderComponent=function(_AbstractModelLoader3){_inherits(SVGLoaderComponent,_AbstractModelLoader3);var _super17=_createSuper(SVGLoaderComponent);function SVGLoaderComponent(rendererService,parent){var _this20;return _classCallCheck(this,SVGLoaderComponent),(_this20=_super17.call(this,rendererService,parent)).rendererService=rendererService,_this20.parent=parent,_this20._overrideMaterialColor=void 0,_this20.material="basic",_this20.depthWrite=!0,_this20.centered=!0,_this20.loader=new SVGLoader.a,_this20}return _createClass(SVGLoaderComponent,[{key:"loadLazyObject",value:function loadLazyObject(){return Object(tslib_es6.a)(this,void 0,void 0,regeneratorRuntime.mark((function _callee3(){var _this21=this;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",new Promise((function(resolve,reject){_this21.loader.load(_this21.model,(function(data){for(var paths=data.paths,group=new three_module.Group,i=0;i<paths.length;i++)for(var path=paths[i],material=appliedMaterial(_this21._overrideMaterialColor?appliedColor(_this21._overrideMaterialColor):path.color,_this21.material,_this21.depthWrite),shapes=path.toShapes(!0,{}),j=0;j<shapes.length;j++){var shape=shapes[j],geometry=new three_module.ShapeBufferGeometry(shape),mesh=new three_module.Mesh(geometry,material);group.add(mesh)}(_this21.maxX||_this21.maxY)&&scaleToFit(group,new three_module.Vector3(_this21.maxX,_this21.maxY,0)),_this21.centered&&fixCenter(group),resolve(group)}),void 0,reject)})));case 1:case"end":return _context3.stop()}}),_callee3)})))}},{key:"overrideMaterialColor",get:function get(){return this._overrideMaterialColor},set:function set(value){this._overrideMaterialColor=value,this.startLoading()}}]),SVGLoaderComponent}(AbstractModelLoader);atft_SVGLoaderComponent.decorators=[{type:core.Component,args:[{selector:"atft-svg-loader",providers:[provideParent(atft_SVGLoaderComponent)],template:"<ng-content></ng-content>"}]}],atft_SVGLoaderComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},atft_SVGLoaderComponent.propDecorators={overrideMaterialColor:[{type:core.Input}],material:[{type:core.Input}],depthWrite:[{type:core.Input}],maxX:[{type:core.Input}],maxY:[{type:core.Input}],centered:[{type:core.Input}]};var AtftLoaderModule=function AtftLoaderModule(){_classCallCheck(this,AtftLoaderModule)};AtftLoaderModule.decorators=[{type:core.NgModule,args:[{declarations:[atft_ObjLoaderComponent,atft_ObjectLoaderComponent,atft_SVGLoaderComponent],imports:[common.b],exports:[atft_ObjLoaderComponent,atft_ObjectLoaderComponent,atft_SVGLoaderComponent]}]}];var AbstractMesh=function(_AbstractObject3D10){_inherits(AbstractMesh,_AbstractObject3D10);var _super18=_createSuper(AbstractMesh);function AbstractMesh(){var _this22;return _classCallCheck(this,AbstractMesh),(_this22=_super18.apply(this,arguments)).materialColor=6139362,_this22.castShadow=!0,_this22.receiveShadow=!0,_this22.depthWrite=!0,_this22}return _createClass(AbstractMesh,[{key:"getMaterial",value:function getMaterial(){return appliedMaterial(this.materialColor,this.material,this.depthWrite)}},{key:"applyShadowProps",value:function applyShadowProps(mesh){mesh.castShadow=this.castShadow,mesh.receiveShadow=this.receiveShadow}},{key:"ngOnChanges",value:function ngOnChanges(changes){if(_get(_getPrototypeOf(AbstractMesh.prototype),"ngOnChanges",this).call(this,changes),this.getObject()){var mustRerender=!1;["material","materialColor","depthWrite"].some((function(propName){return propName in changes}))&&(this.applyMaterial(),mustRerender=!0),mustRerender&&this.rendererService.render()}}},{key:"applyMaterial",value:function applyMaterial(){this.getObject().material=this.getMaterial()}}]),AbstractMesh}(atft_AbstractObject3D);AbstractMesh.decorators=[{type:core.Directive}],AbstractMesh.propDecorators={material:[{type:core.Input}],materialColor:[{type:core.Input}],castShadow:[{type:core.Input}],receiveShadow:[{type:core.Input}],depthWrite:[{type:core.Input}]};var atft_BoxMeshComponent=function(_AbstractMesh){_inherits(BoxMeshComponent,_AbstractMesh);var _super19=_createSuper(BoxMeshComponent);function BoxMeshComponent(rendererService,parent){var _this23;return _classCallCheck(this,BoxMeshComponent),(_this23=_super19.call(this,rendererService,parent)).rendererService=rendererService,_this23.parent=parent,_this23.width=1,_this23.height=1,_this23.depth=1,_this23.widthSegments=1,_this23.heightSegments=1,_this23.depthSegments=1,_this23}return _createClass(BoxMeshComponent,[{key:"newObject3DInstance",value:function newObject3DInstance(){var geometry=new three_module.BoxBufferGeometry(this.width,this.height,this.depth,this.widthSegments,this.heightSegments,this.depthSegments),material=this.getMaterial(),mesh=new three_module.Mesh(geometry,material);return this.applyShadowProps(mesh),mesh}}]),BoxMeshComponent}(AbstractMesh);atft_BoxMeshComponent.decorators=[{type:core.Component,args:[{selector:"atft-box-mesh",providers:[provideParent(atft_BoxMeshComponent)],template:"<ng-content></ng-content>"}]}],atft_BoxMeshComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},atft_BoxMeshComponent.propDecorators={width:[{type:core.Input}],height:[{type:core.Input}],depth:[{type:core.Input}],widthSegments:[{type:core.Input}],heightSegments:[{type:core.Input}],depthSegments:[{type:core.Input}]};var atft_CylinderMeshComponent=function(_AbstractMesh2){_inherits(CylinderMeshComponent,_AbstractMesh2);var _super20=_createSuper(CylinderMeshComponent);function CylinderMeshComponent(rendererService,parent){var _this24;return _classCallCheck(this,CylinderMeshComponent),(_this24=_super20.call(this,rendererService,parent)).rendererService=rendererService,_this24.parent=parent,_this24.radiusTop=1,_this24.radiusBottom=1,_this24.height=1,_this24.radialSegments=8,_this24.heightSegments=1,_this24.openEnded=!1,_this24.thetaStart=0,_this24.thetaLength=2*Math.PI,_this24}return _createClass(CylinderMeshComponent,[{key:"newObject3DInstance",value:function newObject3DInstance(){var geometry=new three_module.CylinderGeometry(this.radiusTop,this.radiusBottom,this.height,this.radialSegments,this.heightSegments,this.openEnded,this.thetaStart,this.thetaLength),material=this.getMaterial(),mesh=new three_module.Mesh(geometry,material);return this.applyShadowProps(mesh),mesh}}]),CylinderMeshComponent}(AbstractMesh);atft_CylinderMeshComponent.decorators=[{type:core.Component,args:[{selector:"atft-cylinder-mesh",providers:[provideParent(atft_CylinderMeshComponent)],template:"<ng-content></ng-content>"}]}],atft_CylinderMeshComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},atft_CylinderMeshComponent.propDecorators={radiusTop:[{type:core.Input}],radiusBottom:[{type:core.Input}],height:[{type:core.Input}],radialSegments:[{type:core.Input}],heightSegments:[{type:core.Input}],openEnded:[{type:core.Input}],thetaStart:[{type:core.Input}],thetaLength:[{type:core.Input}]};var atft_FrameMeshComponent=function(_AbstractMesh3){_inherits(FrameMeshComponent,_AbstractMesh3);var _super21=_createSuper(FrameMeshComponent);function FrameMeshComponent(rendererService,parent){var _this25;return _classCallCheck(this,FrameMeshComponent),(_this25=_super21.call(this,rendererService,parent)).rendererService=rendererService,_this25.parent=parent,_this25.thickness=2,_this25.sizeX=20,_this25.sizeY=20,_this25}return _createClass(FrameMeshComponent,[{key:"newObject3DInstance",value:function newObject3DInstance(){var halfX=this.sizeX/2,halfY=this.sizeY/2,t=this.thickness,shape=new three_module.Shape;shape.moveTo(-halfX,halfY),shape.lineTo(-halfX-t,halfY+t),shape.lineTo(halfX+t,halfY+t),shape.lineTo(halfX+t,-halfY-t),shape.lineTo(-halfX-t,-halfY-t),shape.lineTo(-halfX-t,halfY+t),shape.lineTo(-halfX,halfY),shape.lineTo(-halfX,-halfY),shape.lineTo(halfX,-halfY),shape.lineTo(halfX,halfY),shape.lineTo(-halfX,halfY);var geometry=new three_module.ShapeBufferGeometry(shape),material=this.getMaterial(),mesh=new three_module.Mesh(geometry,material);return this.applyShadowProps(mesh),mesh}}]),FrameMeshComponent}(AbstractMesh);atft_FrameMeshComponent.decorators=[{type:core.Component,args:[{selector:"atft-frame-mesh",providers:[provideParent(atft_FrameMeshComponent)],template:"<ng-content></ng-content>"}]}],atft_FrameMeshComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},atft_FrameMeshComponent.propDecorators={thickness:[{type:core.Input}],sizeX:[{type:core.Input}],sizeY:[{type:core.Input}]};var atft_PlaneMeshComponent=function(_AbstractMesh4){_inherits(PlaneMeshComponent,_AbstractMesh4);var _super22=_createSuper(PlaneMeshComponent);function PlaneMeshComponent(rendererService,parent){var _this26;return _classCallCheck(this,PlaneMeshComponent),(_this26=_super22.call(this,rendererService,parent)).rendererService=rendererService,_this26.parent=parent,_this26.width=1,_this26.height=1,_this26.widthSegments=1,_this26.heightSegments=1,_this26}return _createClass(PlaneMeshComponent,[{key:"newObject3DInstance",value:function newObject3DInstance(){var geometry=new three_module.PlaneBufferGeometry(this.width,this.height,this.widthSegments,this.heightSegments),material=this.getMaterial(),mesh=new three_module.Mesh(geometry,material);return this.applyShadowProps(mesh),mesh}}]),PlaneMeshComponent}(AbstractMesh);atft_PlaneMeshComponent.decorators=[{type:core.Component,args:[{selector:"atft-plane-mesh",providers:[provideParent(atft_PlaneMeshComponent)],template:"<ng-content></ng-content>"}]}],atft_PlaneMeshComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},atft_PlaneMeshComponent.propDecorators={width:[{type:core.Input}],height:[{type:core.Input}],widthSegments:[{type:core.Input}],heightSegments:[{type:core.Input}]};var atft_SphereMeshComponent=function(_AbstractMesh5){_inherits(SphereMeshComponent,_AbstractMesh5);var _super23=_createSuper(SphereMeshComponent);function SphereMeshComponent(rendererService,parent){var _this27;return _classCallCheck(this,SphereMeshComponent),(_this27=_super23.call(this,rendererService,parent)).rendererService=rendererService,_this27.parent=parent,_this27}return _createClass(SphereMeshComponent,[{key:"newObject3DInstance",value:function newObject3DInstance(){var geometry=new three_module.SphereGeometry(this.radius,this.widthSegments,this.hightSegments),material=this.getMaterial(),mesh=new three_module.Mesh(geometry,material);return this.applyShadowProps(mesh),mesh}}]),SphereMeshComponent}(AbstractMesh);atft_SphereMeshComponent.decorators=[{type:core.Component,args:[{selector:"atft-sphere-mesh",providers:[provideParent(atft_SphereMeshComponent)],template:"<ng-content></ng-content>"}]}],atft_SphereMeshComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},atft_SphereMeshComponent.propDecorators={radius:[{type:core.Input}],widthSegments:[{type:core.Input}],hightSegments:[{type:core.Input}]};var atft_TorusMeshComponent=function(_AbstractMesh6){_inherits(TorusMeshComponent,_AbstractMesh6);var _super24=_createSuper(TorusMeshComponent);function TorusMeshComponent(rendererService,parent){var _this28;return _classCallCheck(this,TorusMeshComponent),(_this28=_super24.call(this,rendererService,parent)).rendererService=rendererService,_this28.parent=parent,_this28.radius=.4,_this28.radialSegments=8,_this28.tubularSegments=6,_this28.arc=2*Math.PI,_this28}return _createClass(TorusMeshComponent,[{key:"newObject3DInstance",value:function newObject3DInstance(){this.radius*=1,this.tube*=1,this.radialSegments*=1,this.tubularSegments*=1;var geometry=new three_module.TorusGeometry(this.radius,this.tube,this.radialSegments,this.tubularSegments),material=this.getMaterial(),mesh=new three_module.Mesh(geometry,material);return this.applyShadowProps(mesh),mesh}}]),TorusMeshComponent}(AbstractMesh);atft_TorusMeshComponent.decorators=[{type:core.Component,args:[{selector:"atft-torus-mesh",providers:[provideParent(atft_TorusMeshComponent)],template:"<ng-content></ng-content>"}]}],atft_TorusMeshComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},atft_TorusMeshComponent.propDecorators={radius:[{type:core.Input}],tube:[{type:core.Input}],radialSegments:[{type:core.Input}],tubularSegments:[{type:core.Input}],arc:[{type:core.Input}]};var atft_GridMeshComponent=function(_AbstractMesh7){_inherits(GridMeshComponent,_AbstractMesh7);var _super25=_createSuper(GridMeshComponent);function GridMeshComponent(rendererService,parent){var _this29;return _classCallCheck(this,GridMeshComponent),(_this29=_super25.call(this,rendererService,parent)).rendererService=rendererService,_this29.parent=parent,_this29.size=5,_this29.iterationsX=30,_this29.iterationsY=30,_this29.offset=1.05,_this29}return _createClass(GridMeshComponent,[{key:"newObject3DInstance",value:function newObject3DInstance(){for(var geometry=new three_module.BufferGeometry,vertices=[],d=this.size,x0=-this.iterationsX*(d*this.offset)/2,y0=-this.iterationsY*(d*this.offset)/2,x=x0,y=y0,i=0;i<this.iterationsX;i++){for(var j=0;j<this.iterationsY;j++)vertices.push(x,y,0),vertices.push(x+d,y+d,0),vertices.push(x,y+d,0),vertices.push(x+d,y+d,0),vertices.push(x,y,0),vertices.push(x+d,y,0),y+=this.size*this.offset;y=y0,x+=this.size*this.offset}geometry.setAttribute("position",new three_module.BufferAttribute(new Float32Array(vertices),3));var material=this.getMaterial(),mesh=new three_module.Mesh(geometry,material);return geometry.computeBoundingBox(),geometry.computeVertexNormals(),this.applyShadowProps(mesh),mesh}}]),GridMeshComponent}(AbstractMesh);atft_GridMeshComponent.decorators=[{type:core.Component,args:[{selector:"atft-grid-mesh",providers:[provideParent(atft_GridMeshComponent)],template:"<ng-content></ng-content>"}]}],atft_GridMeshComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},atft_GridMeshComponent.propDecorators={size:[{type:core.Input}],iterationsX:[{type:core.Input}],iterationsY:[{type:core.Input}],offset:[{type:core.Input}]};var AtftAnimationModule=function AtftAnimationModule(){_classCallCheck(this,AtftAnimationModule)};AtftAnimationModule.decorators=[{type:core.NgModule,args:[{providers:[atft_AnimationService]}]}];var atft_VideoMeshComponent=function(_AbstractMesh8){_inherits(VideoMeshComponent,_AbstractMesh8);var _super26=_createSuper(VideoMeshComponent);function VideoMeshComponent(rendererService,parent,animationService){var _this30;return _classCallCheck(this,VideoMeshComponent),(_this30=_super26.call(this,rendererService,parent)).rendererService=rendererService,_this30.parent=parent,_this30.animationService=animationService,_this30.width=1,_this30.height=1,_this30.type="video/mp4",_this30.autoplay=!0,_this30.loop=!0,_this30.muted=!0,_this30.video=document.createElement("video"),_this30.widthSegments=1,_this30.heightSegments=1,_this30}return _createClass(VideoMeshComponent,[{key:"newObject3DInstance",value:function newObject3DInstance(){var geometry=new three_module.PlaneBufferGeometry(this.width,this.height,this.widthSegments,this.heightSegments),material=this.getMaterial(),mesh=new three_module.Mesh(geometry,material);return this.applyShadowProps(mesh),mesh}},{key:"getMaterial",value:function getMaterial(){var source=document.createElement("source");source.src=this.videoSrc,source.type=this.type,this.video.appendChild(source),this.video.crossOrigin="anonymous",this.video.autoplay=!1,this.video.loop=this.loop,this.video.muted=this.muted;var texture=new three_module.VideoTexture(this.video);return new three_module.MeshBasicMaterial({color:16777215,map:texture})}},{key:"animate",value:function animate(){}},{key:"ngAfterViewInit",value:function ngAfterViewInit(){var _this31=this;_get(_getPrototypeOf(VideoMeshComponent.prototype),"ngAfterViewInit",this).call(this),this.autoplay&&(this.animationService.start(),this.animate=this.animate.bind(this),this.animationService.animate.subscribe(this.animate),this.video.load(),this.video.addEventListener("canplay",(function(){_this31.video&&_this31.video.play()})))}},{key:"ngOnDestroy",value:function ngOnDestroy(){this.video&&(this.animationService.animate.unsubscribe(),this.video.pause(),this.video.remove())}}]),VideoMeshComponent}(AbstractMesh);atft_VideoMeshComponent.decorators=[{type:core.Component,args:[{selector:"atft-video-mesh",providers:[provideParent(atft_VideoMeshComponent)],template:"<ng-content></ng-content>"}]}],atft_VideoMeshComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]},{type:atft_AnimationService}]},atft_VideoMeshComponent.propDecorators={width:[{type:core.Input}],height:[{type:core.Input}],videoSrc:[{type:core.Input}],type:[{type:core.Input}],autoplay:[{type:core.Input}],loop:[{type:core.Input}],muted:[{type:core.Input}]};var AtftMeshModule=function AtftMeshModule(){_classCallCheck(this,AtftMeshModule)};AtftMeshModule.decorators=[{type:core.NgModule,args:[{declarations:[atft_BoxMeshComponent,atft_CylinderMeshComponent,atft_FrameMeshComponent,atft_PlaneMeshComponent,atft_SphereMeshComponent,atft_TorusMeshComponent,atft_GridMeshComponent,atft_VideoMeshComponent],imports:[common.b],exports:[atft_BoxMeshComponent,atft_CylinderMeshComponent,atft_FrameMeshComponent,atft_PlaneMeshComponent,atft_SphereMeshComponent,atft_TorusMeshComponent,atft_GridMeshComponent,atft_VideoMeshComponent]}]}];var atft_TextMeshComponent=function(_AbstractLazyObject3D2){_inherits(TextMeshComponent,_AbstractLazyObject3D2);var _super27=_createSuper(TextMeshComponent);function TextMeshComponent(rendererService,parent){var _this32;return _classCallCheck(this,TextMeshComponent),(_this32=_super27.call(this,rendererService,parent)).rendererService=rendererService,_this32.parent=parent,_this32.material="basic",_this32._materialColor=14342874,_this32._text="Text",_this32.size=10,_this32.height=.3,_this32.curveSegments=2,_this32.bevelEnabled=!1,_this32.bevelThickness=.1,_this32.bevelSize=.1,_this32.bevelOffset=0,_this32.bevelSegments=1,_this32.fontUrl="./assets/font/helvetiker_regular.typeface.json",_this32.castShadow=!0,_this32.receiveShadow=!0,_this32.depthWrite=!0,_this32.centered=!0,_this32}return _createClass(TextMeshComponent,[{key:"getMaterial",value:function getMaterial(){return appliedMaterial(this.materialColor,this.material,this.depthWrite)}},{key:"loadLazyObject",value:function loadLazyObject(){return Object(tslib_es6.a)(this,void 0,void 0,regeneratorRuntime.mark((function _callee4(){var _this33=this;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(!this.fontCache){_context4.next=4;break}return _context4.abrupt("return",new Promise((function(resolve){resolve(_this33.getTextMesh(_this33.fontCache))})));case 4:return _context4.abrupt("return",new Promise((function(resolve){(new three_module.FontLoader).load(_this33.fontUrl,(function(font){_this33.fontCache=font,resolve(_this33.getTextMesh(font))}))})));case 5:case"end":return _context4.stop()}}),_callee4,this)})))}},{key:"getTextMesh",value:function getTextMesh(font){var geometry=new three_module.TextGeometry(this.text,{font:font,size:this.size,height:this.height,curveSegments:this.curveSegments,bevelEnabled:this.bevelEnabled,bevelThickness:this.bevelThickness,bevelSize:this.bevelSize,bevelOffset:this.bevelOffset,bevelSegments:this.bevelOffset}),material=this.getMaterial(),mesh=new three_module.Mesh(geometry,material);return mesh.castShadow=this.castShadow,mesh.receiveShadow=this.receiveShadow,this.centered&&fixCenter(mesh),mesh}},{key:"materialColor",set:function set(materialColor){this._materialColor=materialColor,this.startLoading()},get:function get(){return this._materialColor}},{key:"text",set:function set(text){this._text=text,this.startLoading()},get:function get(){return this._text}}]),TextMeshComponent}(atft_AbstractLazyObject3D);atft_TextMeshComponent.decorators=[{type:core.Component,args:[{selector:"atft-text-mesh",providers:[provideParent(atft_TextMeshComponent)],template:"<ng-content></ng-content>"}]}],atft_TextMeshComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},atft_TextMeshComponent.propDecorators={material:[{type:core.Input}],materialColor:[{type:core.Input}],text:[{type:core.Input}],size:[{type:core.Input}],height:[{type:core.Input}],curveSegments:[{type:core.Input}],bevelEnabled:[{type:core.Input}],bevelThickness:[{type:core.Input}],bevelSize:[{type:core.Input}],bevelOffset:[{type:core.Input}],bevelSegments:[{type:core.Input}],fontUrl:[{type:core.Input}],castShadow:[{type:core.Input}],receiveShadow:[{type:core.Input}],depthWrite:[{type:core.Input}],centered:[{type:core.Input}]};var AtftTextModule=function AtftTextModule(){_classCallCheck(this,AtftTextModule)};AtftTextModule.decorators=[{type:core.NgModule,args:[{declarations:[atft_TextMeshComponent],imports:[common.b],exports:[atft_TextMeshComponent]}]}];var atft_SceneComponent=function(_AbstractObject3D11){_inherits(SceneComponent,_AbstractObject3D11);var _super28=_createSuper(SceneComponent);function SceneComponent(rendererService,parent){var _this34;return _classCallCheck(this,SceneComponent),(_this34=_super28.call(this,rendererService,parent)).rendererService=rendererService,_this34.parent=parent,_this34.background=16777215,rendererService.setScene(_assertThisInitialized(_this34)),_this34}return _createClass(SceneComponent,[{key:"newObject3DInstance",value:function newObject3DInstance(){var scene=new three_module.Scene;return scene.background=new three_module.Color(appliedColor(this.background)),scene}},{key:"updateParent",value:function updateParent(){}},{key:"ngOnChanges",value:function ngOnChanges(changes){if(_get(_getPrototypeOf(SceneComponent.prototype),"ngOnChanges",this).call(this,changes),this.object){var modified=!1;["background"].some((function(propName){return propName in changes}))&&(this.getObject().background=new three_module.Color(appliedColor(this.background)),modified=!0),modified&&this.rendererService.render()}}}]),SceneComponent}(atft_AbstractObject3D);atft_SceneComponent.decorators=[{type:core.Component,args:[{selector:"atft-scene",providers:[provideParent(atft_SceneComponent)],template:"<ng-content></ng-content>"}]}],atft_SceneComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},atft_SceneComponent.propDecorators={background:[{type:core.Input}]};var ContentProjectionComponent=function(_EmptyComponent){_inherits(ContentProjectionComponent,_EmptyComponent);var _super29=_createSuper(ContentProjectionComponent);function ContentProjectionComponent(rendererService,parent){var _this35;return _classCallCheck(this,ContentProjectionComponent),(_this35=_super29.call(this,rendererService,parent)).rendererService=rendererService,_this35.parent=parent,_this35}return _createClass(ContentProjectionComponent,[{key:"addChild",value:function addChild(object){this.contentProjection?this.contentProjection.addChild(object):console.error('ContentProjectionComponent error: #contentProjection id not found! Embedded child object in "ng-content" can not be attached to parentScene object')}}]),ContentProjectionComponent}(atft_EmptyComponent);ContentProjectionComponent.decorators=[{type:core.Component,args:[{selector:"atft-content-projection",providers:[provideParent(ContentProjectionComponent)],template:"<ng-content></ng-content>"}]}],ContentProjectionComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_AbstractObject3D,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},ContentProjectionComponent.propDecorators={contentProjection:[{type:core.ViewChild,args:["contentProjection"]}]};var AtftObjectModule=function AtftObjectModule(){_classCallCheck(this,AtftObjectModule)};AtftObjectModule.decorators=[{type:core.NgModule,args:[{imports:[common.b,AtftConnectorModule,AtftHelperModule,AtftLightModule,AtftLoaderModule,AtftMeshModule,AtftTextModule],declarations:[atft_SceneComponent,ContentProjectionComponent],exports:[atft_SceneComponent,AtftConnectorModule,AtftHelperModule,AtftLightModule,AtftLoaderModule,AtftMeshModule,AtftTextModule]}]}];var RaycasterEvent_mouseEnter="mouseEnter",RaycasterEvent_mouseExit="mouseExit",RaycasterEvent_click="click";var atft_RaycasterService=function(){function RaycasterService(){_classCallCheck(this,RaycasterService),this.raycaster=new three_module.Raycaster,this.enabled=!1,this.groups=[],this.paused=!1,this.onMouseMove=this.onMouseMove.bind(this),this.onClick=this.onClick.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.subscribe()}return _createClass(RaycasterService,[{key:"ngOnDestroy",value:function ngOnDestroy(){this.disable(),this.unsubscribe()}},{key:"subscribe",value:function subscribe(){window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("click",this.onClick),window.addEventListener("touchstart",this.onTouchStart)}},{key:"unsubscribe",value:function unsubscribe(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("click",this.onClick),window.removeEventListener("touchstart",this.onTouchStart)}},{key:"enable",value:function enable(){this.enabled=!0}},{key:"disable",value:function disable(){this.enabled=!1}},{key:"pause",value:function pause(){this.paused=!0}},{key:"resume",value:function resume(){this.paused=!1}},{key:"setCamera",value:function setCamera(camera){this.camera=camera}},{key:"addGroup",value:function addGroup(group){this.groups.push(group)}},{key:"onMouseMove",value:function onMouseMove(event){if(this.isReady()){event.preventDefault();var i=this.getFirstIntersectedGroup(event.layerX,event.layerY);this.selected&&this.selected===i.object||(this.selected&&(this.selected.dispatchEvent({type:RaycasterEvent_mouseExit}),this.selected=null),i&&i.object&&(this.selected=i.object,this.selected.dispatchEvent({type:RaycasterEvent_mouseEnter,face:i.face})))}}},{key:"onClick",value:function onClick(event){if(this.isReady(!0)){event.preventDefault();var i=this.getFirstIntersectedGroup(event.layerX,event.layerY);i&&i.object&&i.object.dispatchEvent({type:RaycasterEvent_click,face:i.face})}}},{key:"onTouchStart",value:function onTouchStart(event){if(this.isReady()){event.preventDefault();var i=this.getFirstIntersectedGroup(event.touches[0].clientX,event.touches[0].clientY);i&&i.object&&i.object.dispatchEvent({type:RaycasterEvent_click,face:i.face})}}},{key:"isReady",value:function isReady(ignorePaused){return this.enabled&&(ignorePaused||!this.paused)&&this.camera&&this.camera.camera&&this.groups&&this.groups.length>0}},{key:"getFirstIntersectedGroup",value:function getFirstIntersectedGroup(x,y){x=x/window.innerWidth*2-1,y=-y/window.innerHeight*2+1;var face,nearestIntersection,nearestGroup,mouseVector=new three_module.Vector3(x,y,.5);this.raycaster.setFromCamera(mouseVector,this.camera.camera);for(var k=0;k<this.groups.length;k++){var i=this.groups[k].getObject(),intersection=this.raycaster.intersectObject(i,!0);intersection.length>0&&(!nearestIntersection||nearestIntersection.distance>intersection[0].distance)&&(face=(nearestIntersection=intersection[0]).face,nearestGroup=i)}return nearestGroup?{object:nearestGroup,face:face}:{object:null,face:null}}},{key:"isEnabled",get:function get(){return this.enabled}}]),RaycasterService}();atft_RaycasterService.decorators=[{type:core.Injectable}],atft_RaycasterService.ctorParameters=function(){return[]};var RendererCanvasComponent=function(){function RendererCanvasComponent(rendererService){_classCallCheck(this,RendererCanvasComponent),this.rendererService=rendererService,this.onResize=this.onResize.bind(this)}return _createClass(RendererCanvasComponent,[{key:"ngOnInit",value:function ngOnInit(){this.rendererService.initialize(this.canvas)}},{key:"onResize",value:function onResize(event){this.rendererService.resize(this.canvas,"100px"),this.rendererService.resize(this.canvas,"100%")}},{key:"renderPane",get:function get(){return this.canvasRef}},{key:"canvas",get:function get(){return this.canvasRef.nativeElement}}]),RendererCanvasComponent}();RendererCanvasComponent.decorators=[{type:core.Component,args:[{selector:"atft-renderer-canvas",template:"<canvas #canvas>\n  <ng-content></ng-content>\n</canvas>\n",styles:[":host{display:flex;flex:1;height:100%}canvas{flex:1;outline:none}"]}]}],RendererCanvasComponent.ctorParameters=function(){return[{type:atft_RendererService}]},RendererCanvasComponent.propDecorators={canvasRef:[{type:core.ViewChild,args:["canvas",{static:!0}]}],onResize:[{type:core.HostListener,args:["window:resize",["$event"]]}]};var AbstractOrbitControls=function(){function AbstractOrbitControls(rendererService,raycasterService){_classCallCheck(this,AbstractOrbitControls),this.rendererService=rendererService,this.raycasterService=raycasterService}return _createClass(AbstractOrbitControls,[{key:"ngOnChanges",value:function ngOnChanges(changes){this.controls&&changes.listeningControlElement&&(this.controls.dispose(),this.setUpControls())}},{key:"ngOnDestroy",value:function ngOnDestroy(){this.controls&&this.controls.dispose()}},{key:"configureListeners",value:function configureListeners(){var _this36=this;this.controls.addEventListener("change",(function(){_this36.rendererService.render()})),this.raycasterService.isEnabled&&(this.controls.addEventListener("start",(function(){_this36.raycasterService.pause()})),this.controls.addEventListener("end",(function(){_this36.raycasterService.resume()})))}},{key:"ngAfterViewInit",value:function ngAfterViewInit(){if(void 0===this.childCameras||void 0===this.childCameras.first)throw new Error("Camera is not found");if(!this.webGlRenderer)throw new Error("webGlRenderer is not found");this.listeningControlElement=this.webGlRenderer.renderPane,this.setUpControls(),this.configureListeners(),this.rendererService.render()}}]),AbstractOrbitControls}();AbstractOrbitControls.decorators=[{type:core.Directive}],AbstractOrbitControls.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_RaycasterService}]},AbstractOrbitControls.propDecorators={childCameras:[{type:core.ContentChildren,args:[AbstractCamera,{descendants:!0}]}],webGlRenderer:[{type:core.ContentChild,args:[RendererCanvasComponent,{static:!1}]}],listeningControlElement:[{type:core.Input}]};var atft_OrbitControlsComponent=function(_AbstractOrbitControl){_inherits(OrbitControlsComponent,_AbstractOrbitControl);var _super30=_createSuper(OrbitControlsComponent);function OrbitControlsComponent(rendererService,raycasterService){var _this37;return _classCallCheck(this,OrbitControlsComponent),(_this37=_super30.call(this,rendererService,raycasterService)).rendererService=rendererService,_this37.raycasterService=raycasterService,_this37.rotateSpeed=1,_this37.zoomSpeed=1.2,_this37}return _createClass(OrbitControlsComponent,[{key:"setUpControls",value:function setUpControls(){this.controls=new OrbitControls.b(this.childCameras.first.camera,this.listeningControlElement&&this.listeningControlElement.nativeElement),this.controls.rotateSpeed=this.rotateSpeed,this.controls.zoomSpeed=this.zoomSpeed}},{key:"ngOnChanges",value:function ngOnChanges(changes){this.controls&&(_get(_getPrototypeOf(OrbitControlsComponent.prototype),"ngOnChanges",this).call(this,changes),changes.rotateSpeed&&(this.controls.rotateSpeed=this.rotateSpeed),changes.zoomSpeed&&(this.controls.zoomSpeed=this.zoomSpeed))}}]),OrbitControlsComponent}(AbstractOrbitControls);atft_OrbitControlsComponent.decorators=[{type:core.Component,args:[{selector:"atft-orbit-controls",template:"\n      <ng-content></ng-content>",styles:[":host{display:flex;flex:1;height:100%}"]}]}],atft_OrbitControlsComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_RaycasterService}]},atft_OrbitControlsComponent.propDecorators={rotateSpeed:[{type:core.Input}],zoomSpeed:[{type:core.Input}]};var atft_MapControlsComponent=function(_AbstractOrbitControl2){_inherits(MapControlsComponent,_AbstractOrbitControl2);var _super31=_createSuper(MapControlsComponent);function MapControlsComponent(rendererService,raycasterService,animationService){var _this38;return _classCallCheck(this,MapControlsComponent),(_this38=_super31.call(this,rendererService,raycasterService)).rendererService=rendererService,_this38.raycasterService=raycasterService,_this38.animationService=animationService,_this38.rotateSpeed=1,_this38.zoomSpeed=1.2,_this38.autoRotate=!1,_this38.autoRotateSpeed=.5,_this38.enableDamping=!1,_this38.dampingFactor=.1,_this38.screenSpacePanning=!1,_this38.minDistance=20,_this38.maxDistance=200,_this38.maxPolarAngle=Math.PI/2-.1,_this38.panSpeed=1.2,_this38}return _createClass(MapControlsComponent,[{key:"ngOnChanges",value:function ngOnChanges(changes){this.controls&&(_get(_getPrototypeOf(MapControlsComponent.prototype),"ngOnChanges",this).call(this,changes),changes.rotateSpeed&&(this.controls.rotateSpeed=this.rotateSpeed),changes.zoomSpeed&&(this.controls.zoomSpeed=this.zoomSpeed))}},{key:"setUpControls",value:function setUpControls(){var _this39=this;this.controls=new OrbitControls.a(this.childCameras.first.camera,this.listeningControlElement&&this.listeningControlElement.nativeElement),this.controls.rotateSpeed=this.rotateSpeed,this.controls.zoomSpeed=this.zoomSpeed,this.controls.panSpeed=this.panSpeed,this.controls.autoRotate=this.autoRotate,this.controls.autoRotateSpeed=this.autoRotateSpeed,this.controls.enableDamping=this.enableDamping,this.controls.dampingFactor=this.dampingFactor,this.controls.screenSpacePanning=this.screenSpacePanning,this.controls.minDistance=this.minDistance,this.controls.maxDistance=this.maxDistance,this.controls.maxPolarAngle=this.maxPolarAngle,this.controls.update(),(this.autoRotate||this.enableDamping)&&(this.animationService.animate.subscribe((function(){_this39.controls.update()})),this.controls.addEventListener("change",(function(){_this39.rendererService.render()})),this.animationService.start()),this.rendererService.render()}}]),MapControlsComponent}(AbstractOrbitControls);atft_MapControlsComponent.decorators=[{type:core.Component,args:[{selector:"atft-map-controls",template:"\n      <ng-content></ng-content>",styles:[":host{display:flex;flex:1;height:100%}"]}]}],atft_MapControlsComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_RaycasterService},{type:atft_AnimationService}]},atft_MapControlsComponent.propDecorators={rotateSpeed:[{type:core.Input}],zoomSpeed:[{type:core.Input}],autoRotate:[{type:core.Input}],autoRotateSpeed:[{type:core.Input}],enableDamping:[{type:core.Input}],dampingFactor:[{type:core.Input}],screenSpacePanning:[{type:core.Input}],minDistance:[{type:core.Input}],maxDistance:[{type:core.Input}],maxPolarAngle:[{type:core.Input}],panSpeed:[{type:core.Input}]};var AtftControlModule=function AtftControlModule(){_classCallCheck(this,AtftControlModule)};AtftControlModule.decorators=[{type:core.NgModule,args:[{declarations:[atft_OrbitControlsComponent,atft_MapControlsComponent],imports:[common.b],exports:[atft_OrbitControlsComponent,atft_MapControlsComponent]}]}];var Deg2RadPipe=function(){function Deg2RadPipe(){_classCallCheck(this,Deg2RadPipe)}return _createClass(Deg2RadPipe,[{key:"transform",value:function transform(degrees){return degrees/180*Math.PI}}]),Deg2RadPipe}();Deg2RadPipe.decorators=[{type:core.Pipe,args:[{name:"deg2rad"}]}];var Rad2DegPipe=function(){function Rad2DegPipe(){_classCallCheck(this,Rad2DegPipe)}return _createClass(Rad2DegPipe,[{key:"transform",value:function transform(radians){return radians*(180/Math.PI)}}]),Rad2DegPipe}();Rad2DegPipe.decorators=[{type:core.Pipe,args:[{name:"rad2deg"}]}];var AtftPipeModule=function AtftPipeModule(){_classCallCheck(this,AtftPipeModule)};AtftPipeModule.decorators=[{type:core.NgModule,args:[{imports:[common.b],declarations:[Deg2RadPipe,Rad2DegPipe],exports:[Deg2RadPipe,Rad2DegPipe]}]}];var AtftRendererModule=function AtftRendererModule(){_classCallCheck(this,AtftRendererModule)};AtftRendererModule.decorators=[{type:core.NgModule,args:[{imports:[common.b],declarations:[RendererCanvasComponent],providers:[atft_RendererService],exports:[RendererCanvasComponent]}]}];var atft_RaycasterGroupDirective=function(){function RaycasterGroupDirective(host,raycasterService){_classCallCheck(this,RaycasterGroupDirective),this.host=host,this.raycasterService=raycasterService,this.mouseEnter=new core.EventEmitter,this.mouseExit=new core.EventEmitter,this.click=new core.EventEmitter,this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseExit=this.onMouseExit.bind(this),this.onClick=this.onClick.bind(this)}return _createClass(RaycasterGroupDirective,[{key:"ngAfterViewInit",value:function ngAfterViewInit(){this.raycasterService.addGroup(this.host),this.subscribeEvents()}},{key:"subscribeEvents",value:function subscribeEvents(){var obj=this.host.getObject();obj.addEventListener(RaycasterEvent_mouseEnter,this.onMouseEnter),obj.addEventListener(RaycasterEvent_mouseExit,this.onMouseExit),obj.addEventListener(RaycasterEvent_click,this.onClick)}},{key:"unSubscribeEvents",value:function unSubscribeEvents(){var obj=this.host.getObject();obj&&(obj.removeEventListener(RaycasterEvent_mouseEnter,this.onMouseEnter),obj.removeEventListener(RaycasterEvent_mouseExit,this.onMouseExit),obj.removeEventListener(RaycasterEvent_click,this.onClick))}},{key:"onMouseExit",value:function onMouseExit(){this.mouseExit.emit({component:this.host})}},{key:"onMouseEnter",value:function onMouseEnter(event){this.mouseEnter.emit({component:this.host,face:event.face})}},{key:"onClick",value:function onClick(event){this.click.emit({component:this.host,face:event.face})}},{key:"ngOnDestroy",value:function ngOnDestroy(){this.unSubscribeEvents()}}]),RaycasterGroupDirective}();atft_RaycasterGroupDirective.decorators=[{type:core.Directive,args:[{selector:"[atft-raycaster-group]"}]}],atft_RaycasterGroupDirective.ctorParameters=function(){return[{type:atft_AbstractObject3D},{type:atft_RaycasterService}]},atft_RaycasterGroupDirective.propDecorators={mouseEnter:[{type:core.Output}],mouseExit:[{type:core.Output}],click:[{type:core.Output}]};var RaycasterCameraDirective=function(){function RaycasterCameraDirective(host,raycasterService){_classCallCheck(this,RaycasterCameraDirective),this.host=host,this.raycasterService=raycasterService}return _createClass(RaycasterCameraDirective,[{key:"ngAfterViewInit",value:function ngAfterViewInit(){this.raycasterService.setCamera(this.host)}}]),RaycasterCameraDirective}();RaycasterCameraDirective.decorators=[{type:core.Directive,args:[{selector:"[atft-raycaster-camera]"}]}],RaycasterCameraDirective.ctorParameters=function(){return[{type:AbstractCamera},{type:atft_RaycasterService}]};var RaycasterEnableDirective=function(){function RaycasterEnableDirective(raycasterService){_classCallCheck(this,RaycasterEnableDirective),this.raycasterService=raycasterService}return _createClass(RaycasterEnableDirective,[{key:"ngAfterViewInit",value:function ngAfterViewInit(){this.raycasterService.enable()}}]),RaycasterEnableDirective}();RaycasterEnableDirective.decorators=[{type:core.Directive,args:[{selector:"[atft-raycaster-enable]"}]}],RaycasterEnableDirective.ctorParameters=function(){return[{type:atft_RaycasterService}]};var AtftRaycasterModule=function AtftRaycasterModule(){_classCallCheck(this,AtftRaycasterModule)};AtftRaycasterModule.decorators=[{type:core.NgModule,args:[{imports:[common.b],declarations:[atft_RaycasterGroupDirective,RaycasterCameraDirective,RaycasterEnableDirective],providers:[atft_RaycasterService],exports:[atft_RaycasterGroupDirective,RaycasterCameraDirective,RaycasterEnableDirective]}]}];var StatsAutoShowDirective=function(){function StatsAutoShowDirective(statsService){_classCallCheck(this,StatsAutoShowDirective),this.statsService=statsService}return _createClass(StatsAutoShowDirective,[{key:"ngAfterViewInit",value:function ngAfterViewInit(){this.statsService.create()}}]),StatsAutoShowDirective}();StatsAutoShowDirective.decorators=[{type:core.Directive,args:[{selector:"[atft-stats-auto-show]"}]}],StatsAutoShowDirective.ctorParameters=function(){return[{type:atft_StatsService}]};var AtftStatsModule=function AtftStatsModule(){_classCallCheck(this,AtftStatsModule)};AtftStatsModule.decorators=[{type:core.NgModule,args:[{imports:[common.b],providers:[atft_StatsService],declarations:[StatsAutoShowDirective],exports:[StatsAutoShowDirective]}]}];var atft_DashedDrawDirective=function(){function DashedDrawDirective(host,animation){_classCallCheck(this,DashedDrawDirective),this.host=host,this.animation=animation,this.dashColor=16711680,this.dashIncrement=10,this.hideDash=!1,this.stop=!1}return _createClass(DashedDrawDirective,[{key:"ngAfterViewInit",value:function ngAfterViewInit(){this.tryToFindGeometry(),this.animate=this.animate.bind(this),this.animation.animate.subscribe(this.animate),this.animation.start()}},{key:"tryToFindGeometry",value:function tryToFindGeometry(){var _this40=this;this.host.getObject().traverse((function(child){var findMesh=child instanceof three_module.Mesh?child:child.children[0];if(findMesh&&findMesh instanceof three_module.Mesh&&!_this40.edges){var edgesGeom=new three_module.EdgesGeometry(findMesh.geometry,8);_this40.edges=new three_module.LineSegments(edgesGeom,new three_module.LineDashedMaterial({color:appliedColor(_this40.dashColor)})),_this40.edges.computeLineDistances(),_this40.edges.material.dashSize=0,_this40.edges.material.gapSize=_this40.edges.geometry.attributes.lineDistance.array[_this40.edges.geometry.attributes.lineDistance.count-1],_this40.material=findMesh.material,_this40.initialOpacity>=0&&(_this40.material.transparent||(_this40.material.transparent=!0),_this40.material.opacity=_this40.initialOpacity),findMesh.add(_this40.edges)}}))}},{key:"animate",value:function animate(){this.stop||(this.edges?(this.edges.material.dashSize+=this.dashIncrement,this.edges.material.dashSize>=this.edges.material.gapSize&&(this.hideDash&&(this.edges.parent.children=[]),this.targetOpacity>=0&&(this.material.opacity=this.targetOpacity,1===this.targetOpacity&&(this.material.transparent=!1)),this.stop=!0)):this.tryToFindGeometry())}}]),DashedDrawDirective}();atft_DashedDrawDirective.decorators=[{type:core.Directive,args:[{selector:"[atft-dashed-draw]"}]}],atft_DashedDrawDirective.ctorParameters=function(){return[{type:atft_AbstractObject3D},{type:atft_AnimationService}]},atft_DashedDrawDirective.propDecorators={dashColor:[{type:core.Input}],dashIncrement:[{type:core.Input}],initialOpacity:[{type:core.Input}],targetOpacity:[{type:core.Input}],hideDash:[{type:core.Input}]};var atft_FogComponent=function(){function FogComponent(rendererService,parent){_classCallCheck(this,FogComponent),this.rendererService=rendererService,this.parent=parent,this.color=170,this.near=10,this.far=100}return _createClass(FogComponent,[{key:"ngAfterViewInit",value:function ngAfterViewInit(){this.parent&&this.parent.getObject()&&this.parent.getObject().isScene&&(this.scene=this.parent.getObject(),this.enableFog())}},{key:"enableFog",value:function enableFog(){this.scene.fog=new three_module.Fog(appliedColor(this.color),this.near,this.far),this.rendererService.render()}},{key:"disableFog",value:function disableFog(){this.scene.fog=void 0,this.rendererService.render()}},{key:"ngOnDestroy",value:function ngOnDestroy(){this.disableFog()}},{key:"ngOnChanges",value:function ngOnChanges(changes){this.scene&&["color","near","far"].some((function(propName){return propName in changes}))&&this.enableFog()}}]),FogComponent}();atft_FogComponent.decorators=[{type:core.Component,args:[{selector:"atft-fog",template:""}]}],atft_FogComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_SceneComponent,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},atft_FogComponent.propDecorators={color:[{type:core.Input}],near:[{type:core.Input}],far:[{type:core.Input}]};var atft_EffectComposerComponent=function(){function EffectComposerComponent(rendererService,parentScene){_classCallCheck(this,EffectComposerComponent),this.rendererService=rendererService,this.parentScene=parentScene,this.renderToScreen=!0}return _createClass(EffectComposerComponent,[{key:"ngAfterViewInit",value:function ngAfterViewInit(){this.initComposer()}},{key:"ngOnDestroy",value:function ngOnDestroy(){this.rendererService.setComposer(null),this.composer=null,this.rendererService.render()}},{key:"ngOnChanges",value:function ngOnChanges(changes){}},{key:"initComposer",value:function initComposer(){if(!this.composer){this.composer=new EffectComposer.a(this.rendererService.getWebGlRenderer()),this.composer.renderToScreen=this.renderToScreen;var renderPass=new RenderPass.a(this.parentScene.getObject(),this.rendererService.getCamera().camera);this.addPass(renderPass),this.sceneBackgroundTarget&&(this.sceneBackgroundTarget.getObject().background=this.composer.writeBuffer.texture),this.rendererService.setComposer(this)}}},{key:"addPass",value:function addPass(pass){this.initComposer(),this.composer.addPass(pass)}},{key:"removePass",value:function removePass(pass){if(this.composer&&this.composer.passes.length>1){var passes=this.composer.passes,index=passes.indexOf(pass,0);index>-1&&passes.splice(index,1),1===passes.length&&(this.composer=void 0)}}},{key:"render",value:function render(){this.composer&&this.composer.render(.1)}},{key:"getComposer",value:function getComposer(){return this.composer}}]),EffectComposerComponent}();atft_EffectComposerComponent.decorators=[{type:core.Component,args:[{selector:"atft-effect-composer",template:""}]}],atft_EffectComposerComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_SceneComponent,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},atft_EffectComposerComponent.propDecorators={renderToScreen:[{type:core.Input}],sceneBackgroundTarget:[{type:core.Input}]};var AbstractComposeEffect=function(){function AbstractComposeEffect(rendererService,composer){_classCallCheck(this,AbstractComposeEffect),this.rendererService=rendererService,this.composer=composer,this.pass=[]}return _createClass(AbstractComposeEffect,[{key:"enable",value:function enable(){var _this41=this;this.composer&&(this.initPasses(),this.pass.forEach((function(pass){return _this41.composer.addPass(pass)})),this.rendererService.render())}},{key:"disable",value:function disable(){var _this42=this;this.composer&&(this.pass.forEach((function(pass){return _this42.composer.removePass(pass)})),this.rendererService.render())}},{key:"ngAfterViewInit",value:function ngAfterViewInit(){this.enable()}},{key:"ngOnDestroy",value:function ngOnDestroy(){this.disable()}},{key:"ngOnChanges",value:function ngOnChanges(changes){this.pass&&this.applyChanges(changes)&&this.rendererService.render()}}]),AbstractComposeEffect}();AbstractComposeEffect.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_EffectComposerComponent,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]};var atft_DofComponent=function(_AbstractComposeEffec){_inherits(DofComponent,_AbstractComposeEffec);var _super32=_createSuper(DofComponent);function DofComponent(rendererService,composer){var _this43;return _classCallCheck(this,DofComponent),(_this43=_super32.call(this,rendererService,composer)).rendererService=rendererService,_this43.composer=composer,_this43.focus=1,_this43.aperture=.025,_this43.maxblur=.01,_this43}return _createClass(DofComponent,[{key:"applyChanges",value:function applyChanges(changes){var modified=!1;return this.pass[0]&&(["focus"].some((function(propName){return propName in changes}))&&(this.pass[0].uniforms.focus.value=this.focus,modified=!0),["aperture"].some((function(propName){return propName in changes}))&&(this.pass[0].uniforms.aperture.value=this.aperture,modified=!0),["maxblur"].some((function(propName){return propName in changes}))&&(this.pass[0].uniforms.maxblur.value=this.maxblur,modified=!0)),modified}},{key:"initPasses",value:function initPasses(){this.pass.push(new BokehPass.a(this.rendererService.getScene().getObject(),this.rendererService.getCamera().camera,{focus:this.focus,aperture:this.aperture,maxblur:this.maxblur,width:window.innerWidth,height:window.innerHeight}))}}]),DofComponent}(AbstractComposeEffect);atft_DofComponent.decorators=[{type:core.Component,args:[{selector:"atft-dof",template:""}]}],atft_DofComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_EffectComposerComponent,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},atft_DofComponent.propDecorators={focus:[{type:core.Input}],aperture:[{type:core.Input}],maxblur:[{type:core.Input}]};var atft_DotScreenComponent=function(_AbstractComposeEffec2){_inherits(DotScreenComponent,_AbstractComposeEffec2);var _super33=_createSuper(DotScreenComponent);function DotScreenComponent(rendererService,composer){var _this44;return _classCallCheck(this,DotScreenComponent),(_this44=_super33.call(this,rendererService,composer)).rendererService=rendererService,_this44.composer=composer,_this44.scale=4,_this44}return _createClass(DotScreenComponent,[{key:"initPasses",value:function initPasses(){this.pass.push(new ShaderPass.a(DotScreenShader.a))}},{key:"applyChanges",value:function applyChanges(changes){return!1}}]),DotScreenComponent}(AbstractComposeEffect);atft_DotScreenComponent.decorators=[{type:core.Component,args:[{selector:"atft-dot-screen",template:""}]}],atft_DotScreenComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_EffectComposerComponent,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]},atft_DotScreenComponent.propDecorators={scale:[{type:core.Input}]};var atft_BlurComponent=function(_AbstractComposeEffec3){_inherits(BlurComponent,_AbstractComposeEffec3);var _super34=_createSuper(BlurComponent);function BlurComponent(rendererService,composer){var _this45;return _classCallCheck(this,BlurComponent),(_this45=_super34.call(this,rendererService,composer)).rendererService=rendererService,_this45.composer=composer,_this45}return _createClass(BlurComponent,[{key:"initPasses",value:function initPasses(){this.pass.push(new ShaderPass.a(VerticalBlurShader.a)),this.pass.push(new ShaderPass.a(HorizontalBlurShader.a)),this.pass.push(new ShaderPass.a(VerticalBlurShader.a)),this.pass.push(new ShaderPass.a(HorizontalBlurShader.a))}},{key:"applyChanges",value:function applyChanges(changes){return!1}}]),BlurComponent}(AbstractComposeEffect);atft_BlurComponent.decorators=[{type:core.Component,args:[{selector:"atft-blur",template:""}]}],atft_BlurComponent.ctorParameters=function(){return[{type:atft_RendererService},{type:atft_EffectComposerComponent,decorators:[{type:core.SkipSelf},{type:core.Optional}]}]};var AtftEffectModule=function AtftEffectModule(){_classCallCheck(this,AtftEffectModule)};AtftEffectModule.decorators=[{type:core.NgModule,args:[{imports:[common.b],declarations:[atft_DashedDrawDirective,atft_FogComponent,atft_DofComponent,atft_DotScreenComponent,atft_EffectComposerComponent,atft_BlurComponent],exports:[atft_DashedDrawDirective,atft_FogComponent,atft_DofComponent,atft_DotScreenComponent,atft_EffectComposerComponent,atft_BlurComponent]}]}];var _a,_b;core.NgModule;const modelPath="https://raw.githubusercontent.com/makimenko/files/master/angular-template-for-threejs/model/";let virtual_city_stories_StorybookFlyComponent=class StorybookFlyComponent{constructor(animationService){this.animationService=animationService,this.clock=new three_module.Clock,this.colorA200=10463450}ngAfterViewInit(){this.initCameraMovementClip(),this.animate=this.animate.bind(this),this.animationService.animate.subscribe(this.animate),this.animationService.start()}initCameraMovementClip(){const positionKF=new three_module.VectorKeyframeTrack(".position",[0,10,20],[0,50,600,-30,10,400,10,50,200]),cameraMoveClip=new three_module.AnimationClip("Hello",20,[positionKF]);this.mixer=new three_module.AnimationMixer(this.cameraComponent.camera);const clipAction=this.mixer.clipAction(cameraMoveClip);clipAction.setLoop(three_module.LoopOnce,1),clipAction.clampWhenFinished=!0,clipAction.play()}animate(){this.mixer&&this.mixer.update(this.clock.getDelta())}};Object(tslib_es6.b)([Object(core.ViewChild)("cam"),Object(tslib_es6.c)("design:type","function"==typeof(_a=void 0!==atft_PerspectiveCameraComponent&&atft_PerspectiveCameraComponent)?_a:Object)],virtual_city_stories_StorybookFlyComponent.prototype,"cameraComponent",void 0),virtual_city_stories_StorybookFlyComponent=Object(tslib_es6.b)([Object(core.Component)({template:`\n    <atft-renderer-canvas>\n      <atft-perspective-camera #cam [zAxisUp]="true" positionX=0 positionY=50 [positionZ]=z>\n      </atft-perspective-camera>\n\n      \x3c!-- Foreground --\x3e\n      <atft-scene name="scene" background="0x000000">\n\n        <atft-ambient-light color="0xFFFFFF" intensity="0.9"></atft-ambient-light>\n\n        <atft-point-light intensity="0.1" distance="1000" translateX=90 translateY=90\n                          translateZ=90></atft-point-light>\n        <atft-point-light intensity="0.1" distance="1000" [translateX]="-60" [translateY]="-60"\n                          [translateZ]="50"></atft-point-light>\n\n        <atft-text-actor text="Introducing Angular Template for Three.js" translateX="-200" translateY="50" translateZ="-50"\n                         [animate]="false" [minDelay]="5" [maxDelay]="5" [materialColor]="colorA200"\n                         [scaleX]="0.5" [scaleY]="0.5"\n                         atft-dashed-draw [dashColor]="colorA200" [dashIncrement]="5">\n        </atft-text-actor>\n\n        <atft-text-actor text="Hello, virtual city!" translateX="100" translateY="5" [translateZ]="-100"\n                         [animate]="false" [minDelay]="10" [maxDelay]="10" [materialColor]="colorA200"\n                         atft-dashed-draw [dashColor]="colorA200" [dashIncrement]="5">\n        </atft-text-actor>\n\n        <atft-text-actor text="Coding allow us to construct and visit believable imaginary cities,\nprovide us with glimpses of ancient urbanism, and let us immerse ourselves\nin the wildest utopias and darkest dystopias of our possible futures.\nThey are an unprecedented canvas for experimenting with the urban environment,\nand an utterly unique medium for experiencing cities both imagined\nand real in truly immersive ways." translateX="-50" [translateY]="100" [translateZ]="-50"\n                         [animate]="false" [minDelay]="10" [maxDelay]="10" [materialColor]="colorA200"\n                         [scaleX]="0.3" [scaleY]="0.3" [dashIncrement]="50"\n                         atft-dashed-draw [dashColor]="colorA200">\n        </atft-text-actor>\n\n        <atft-obj-loader\n          model="${modelPath}/SampleArea/Base.obj"\n          material="${modelPath}/SampleArea/Base.mtl"\n          resourcePath="${modelPath}/">\n        </atft-obj-loader>\n\n        <atft-obj-loader atft-dashed-draw dashColor="0x303030" [dashIncrement]="150" [initialOpacity]="0.2"\n                         model="${modelPath}/SampleArea/Zone.obj"\n                         material="${modelPath}/SampleArea/Zone.mtl"\n                         resourcePath="${modelPath}/">\n        </atft-obj-loader>\n\n        <atft-obj-loader *ngFor="let item of [].constructor(5); let i = index"\n                         atft-dashed-draw dashColor="0x303030" [dashIncrement]="20+(5*i)" [initialOpacity]="0.2"\n                         model="${modelPath}/SampleArea/House{{i+1}}.obj"\n                         material="${modelPath}/SampleArea/House{{i+1}}.mtl"\n                         resourcePath="${modelPath}/">\n        </atft-obj-loader>\n      </atft-scene>\n    </atft-renderer-canvas>\n  `}),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(_b=void 0!==animation.a&&animation.a)?_b:Object])],virtual_city_stories_StorybookFlyComponent);__webpack_exports__.default={title:"All-in-One/Virtual City",decorators:[Object(client.moduleMetadata)({imports:[atft_module.a,ux.a]})],args:{},argTypes:{}};const VirtualCity=args=>({component:virtual_city_stories_StorybookFlyComponent,props:args});VirtualCity.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookFlyComponent,\n  props: args\n})"}},VirtualCity.parameters)},1340:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Connector",(function(){return Connector})),__webpack_require__.d(__webpack_exports__,"Mesh",(function(){return Mesh})),__webpack_require__.d(__webpack_exports__,"Plane",(function(){return Plane})),__webpack_require__.d(__webpack_exports__,"Grid",(function(){return Grid}));var _a,_b,_c,_d,tslib_es6=__webpack_require__(1),client=__webpack_require__(25),atft_module=__webpack_require__(22),core=__webpack_require__(0),performance_scene_wrapper=__webpack_require__(214),animation_service=__webpack_require__(44),perspective_camera_component=(__webpack_require__(271),__webpack_require__(108),__webpack_require__(272)),three_module=(__webpack_require__(273),__webpack_require__(3));class performance_stories_AbstractCameraRotation{constructor(animation){this.animation=animation,this.clock=new three_module.Clock,this.matrix=new three_module.Matrix4,this.period=20,this.animate=this.animate.bind(this),animation.animate.subscribe(this.animate),animation.start()}animate(){this.camera&&(this.matrix.makeRotationZ(2*this.clock.getDelta()*Math.PI/this.period),this.camera.camera.position.applyMatrix4(this.matrix),this.camera.camera.lookAt(new three_module.Vector3))}}Object(tslib_es6.b)([Object(core.ViewChild)(perspective_camera_component.a,{static:!1}),Object(tslib_es6.c)("design:type",Object)],performance_stories_AbstractCameraRotation.prototype,"camera",void 0);let StorybookConnectorPerformanceComponent=class StorybookConnectorPerformanceComponent extends performance_stories_AbstractCameraRotation{constructor(animationService){super(animationService),this.animationService=animationService}};StorybookConnectorPerformanceComponent=Object(tslib_es6.b)([Object(core.Component)({template:Object(performance_scene_wrapper.a)('\n<div *ngFor="let item of [].constructor(200); let i = index">\n  <atft-empty #a [translateY]="50" [translateX]="(-i*2)+50" [translateZ]="5+i">\n  </atft-empty>\n  <atft-empty #b [translateY]="-50" [translateX]="(-i)+50" [translateZ]="5-i">\n  </atft-empty>\n  <atft-mesh-line-connector [source]="a" [target]="b" materialColor="0xff0000" [animated]="true" [animationIncrement]="0.003"\n    transparent="false">\n  </atft-mesh-line-connector>\n  </div>\n  ')}),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(_a=void 0!==animation_service.a&&animation_service.a)?_a:Object])],StorybookConnectorPerformanceComponent);let StorybookGridPerformanceComponent=class StorybookGridPerformanceComponent extends performance_stories_AbstractCameraRotation{constructor(animation){super(animation),this.animation=animation}};StorybookGridPerformanceComponent=Object(tslib_es6.b)([Object(core.Component)({template:Object(performance_scene_wrapper.a)('\n  <atft-grid-mesh [size]="5" [iterationsX]="50" [iterationsY]="50" [offset]="1.05"></atft-grid-mesh>\n  ')}),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(_b=void 0!==animation_service.a&&animation_service.a)?_b:Object])],StorybookGridPerformanceComponent);let StorybookMeshPerformanceComponent=class StorybookMeshPerformanceComponent extends performance_stories_AbstractCameraRotation{constructor(animation){super(animation),this.animation=animation,this.size=5,this.iterations=50,this.offset=1.05*this.size,this.translate=this.iterations*this.offset/2}};StorybookMeshPerformanceComponent=Object(tslib_es6.b)([Object(core.Component)({template:Object(performance_scene_wrapper.a)('\n  <div *ngFor="let item of [].constructor(iterations); let x = index">\n    <div *ngFor="let item of [].constructor(iterations); let y = index">\n        <atft-empty [translateX]="(x*offset)-translate" [translateY]="(y*offset)-translate">\n            <atft-box-mesh [height]="size" [width]="size" [depth]="size" materialColor="0xdadaff">\n            </atft-box-mesh>\n        </atft-empty>\n    </div>\n  </div>\n  ')}),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(_c=void 0!==animation_service.a&&animation_service.a)?_c:Object])],StorybookMeshPerformanceComponent);let StorybookPlanePerformanceComponent=class StorybookPlanePerformanceComponent extends performance_stories_AbstractCameraRotation{constructor(animation){super(animation),this.animation=animation,this.size=5,this.iterations=50,this.offset=1.05*this.size,this.translate=this.iterations*this.offset/2}};StorybookPlanePerformanceComponent=Object(tslib_es6.b)([Object(core.Component)({template:Object(performance_scene_wrapper.a)('\n  <div *ngFor="let item of [].constructor(iterations); let x = index">\n    <div *ngFor="let item of [].constructor(iterations); let y = index">\n        <atft-empty [translateX]="(x*offset)-translate" [translateY]="(y*offset)-translate">\n            <atft-plane-mesh [height]="size" [width]="size" materialColor="0xdadaff">\n            </atft-plane-mesh>\n        </atft-empty>\n    </div>\n  </div>\n  ')}),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(_d=void 0!==animation_service.a&&animation_service.a)?_d:Object])],StorybookPlanePerformanceComponent);__webpack_exports__.default={title:"Other/Performance",decorators:[Object(client.moduleMetadata)({imports:[atft_module.a]})]};const Connector=args=>({component:StorybookConnectorPerformanceComponent,props:args}),Mesh=args=>({component:StorybookMeshPerformanceComponent,props:args}),Plane=args=>({component:StorybookPlanePerformanceComponent,props:args}),Grid=args=>({component:StorybookGridPerformanceComponent,props:args});Connector.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookConnectorPerformanceComponent,\n  props: args\n})"}},Connector.parameters),Mesh.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookMeshPerformanceComponent,\n  props: args\n})"}},Mesh.parameters),Plane.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookPlanePerformanceComponent,\n  props: args\n})"}},Plane.parameters),Grid.parameters=Object.assign({storySource:{source:"(args) => ({\n  component: StorybookGridPerformanceComponent,\n  props: args\n})"}},Grid.parameters)},159:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return EmptyComponent}));var EmptyComponent_1,_a,_b,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);let EmptyComponent=EmptyComponent_1=class EmptyComponent extends _abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent}newObject3DInstance(){return new three__WEBPACK_IMPORTED_MODULE_2__.Object3D}};EmptyComponent=EmptyComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-empty",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_4__.c)(EmptyComponent_1)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object,"function"==typeof(_b=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a)?_b:Object])],EmptyComponent)},163:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return BoxMeshComponent}));var BoxMeshComponent_1,_a,_b,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8),_abstract_mesh_3d__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(84);let BoxMeshComponent=BoxMeshComponent_1=class BoxMeshComponent extends _abstract_mesh_3d__WEBPACK_IMPORTED_MODULE_6__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,this.width=1,this.height=1,this.depth=1,this.widthSegments=1,this.heightSegments=1,this.depthSegments=1}newObject3DInstance(){const geometry=new three__WEBPACK_IMPORTED_MODULE_2__.BoxBufferGeometry(this.width,this.height,this.depth,this.widthSegments,this.heightSegments,this.depthSegments),material=this.getMaterial(),mesh=new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(geometry,material);return this.applyShadowProps(mesh),mesh}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],BoxMeshComponent.prototype,"width",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],BoxMeshComponent.prototype,"height",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],BoxMeshComponent.prototype,"depth",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],BoxMeshComponent.prototype,"widthSegments",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],BoxMeshComponent.prototype,"heightSegments",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],BoxMeshComponent.prototype,"depthSegments",void 0),BoxMeshComponent=BoxMeshComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-box-mesh",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_4__.c)(BoxMeshComponent_1)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object,"function"==typeof(_b=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a)?_b:Object])],BoxMeshComponent)},164:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return RendererCanvasComponent}));var _a,_b,_c,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_renderer_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6);let RendererCanvasComponent=class RendererCanvasComponent{constructor(rendererService){this.rendererService=rendererService,this.onResize=this.onResize.bind(this)}ngOnInit(){this.rendererService.initialize(this.canvas)}get renderPane(){return this.canvasRef}get canvas(){return this.canvasRef.nativeElement}onResize(event){this.rendererService.resize(this.canvas,"100px"),this.rendererService.resize(this.canvas,"100%")}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild)("canvas",{static:!0}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type","function"==typeof(_a=void 0!==_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef&&_angular_core__WEBPACK_IMPORTED_MODULE_1__.ElementRef)?_a:Object)],RendererCanvasComponent.prototype,"canvasRef",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.HostListener)("window:resize",["$event"]),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Function),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_b="undefined"!=typeof Event&&Event)?_b:Object]),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:returntype",void 0)],RendererCanvasComponent.prototype,"onResize",null),RendererCanvasComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-renderer-canvas",template:(__webpack_require__(347).default||__webpack_require__(347)).length?__webpack_require__(347).default||__webpack_require__(347):"",styles:[(__webpack_require__(348).default||__webpack_require__(348)).length?__webpack_require__(348).default||__webpack_require__(348):""]}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_c=void 0!==_renderer_service__WEBPACK_IMPORTED_MODULE_2__.a&&_renderer_service__WEBPACK_IMPORTED_MODULE_2__.a)?_c:Object])],RendererCanvasComponent)},180:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=":host {\n  display: flex;\n  flex: 1;\n  height: 100%;\n}"},182:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AbstractModelLoader}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_abstract_lazy_object_3d__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(228);let AbstractModelLoader=class AbstractModelLoader extends _abstract_lazy_object_3d__WEBPACK_IMPORTED_MODULE_2__.a{set model(newModelUrl){this._model!==newModelUrl&&(this._model=newModelUrl,super.startLoading())}get model(){return this._model}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",String),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",[String])],AbstractModelLoader.prototype,"model",null),AbstractModelLoader=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive)()],AbstractModelLoader)},185:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return effectsSceneWrapper}));const effectsSceneWrapper=content=>`\n  <atft-orbit-controls style="height:100%" rotateSpeed=1 zoomSpeed=1.2>\n      <atft-renderer-canvas>\n          <atft-perspective-camera [zAxisUp]="true" positionX=40 positionY=-100\n                positionZ=50 atft-raycaster-camera atft-raycaster-enable>\n          </atft-perspective-camera>\n          <atft-scene name="scene" [background]="background">\n          ${content}\n\n          <atft-point-light intensity="0.5" distance="1000" translateX=90 translateY=90\n                            translateZ=90></atft-point-light>\n          <atft-point-light intensity="0.8" distance="1000" [translateX]="-60" [translateY]="-60"\n                            [translateZ]="50"></atft-point-light>\n\n          <atft-box-mesh *ngFor="let item of [].constructor(20); let i = index"\n                height="10" width="10" depth="10" material="phong" materialColor="0x1111ff"\n                [translateX]="(i*15)-150"></atft-box-mesh>\n\n\n          </atft-scene>\n      </atft-renderer-canvas>\n  </atft-orbit-controls>\n`},186:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return UxActorModule}));var TextActorComponent_1,_a,_b,_c,tslib_es6=__webpack_require__(1),core=__webpack_require__(0),common=__webpack_require__(9),atft_module=__webpack_require__(22),util=__webpack_require__(13),helper=__webpack_require__(80),animation=__webpack_require__(92),renderer=__webpack_require__(89),object=__webpack_require__(67);let text_actor_component_TextActorComponent=TextActorComponent_1=class TextActorComponent extends helper.a{constructor(rendererService,parent,animationService){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,this.animationService=animationService,this.animate=!1,this.materialColor=6139362,this.minDelay=5,this.maxDelay=10,this.subscribed=!1,this.currentPos=0,this.maxPos=0,this.i=0}ngAfterViewInit(){super.ngAfterViewInit(),this.updateText()}updateText(){this.text&&this.text.length>0&&(this.animate?(this.subscribed||(this.updateAnimation=this.updateAnimation.bind(this),this.animationService.animate.subscribe(this.updateAnimation),this.subscribed=!0,this.animationService.start()),this.currentPos=0,this.maxPos=this.text.length,this.currentText="",this.currentDelay=this.randomInt(this.minDelay,this.maxDelay)):this.currentText=this.text)}ngOnDestroy(){super.ngOnDestroy(),this.done()}updateAnimation(){this.subscribed&&(this.i++,this.i%this.currentDelay==0&&(this.currentPos++,this.currentPos<=this.maxPos?(this.currentText=this.text.substr(0,this.currentPos),this.currentDelay=this.randomInt(this.minDelay,this.maxDelay)):this.done()))}done(){this.subscribed&&(this.subscribed=!1,this.i=0)}randomInt(min,max){return Math.round(Math.random()*(max-min)+min)}ngOnChanges(changes){if(!this.object)return;super.ngOnChanges(changes);let modified=!1;["text"].some(propName=>propName in changes)&&(this.updateText(),modified=!0),["animate"].some(propName=>propName in changes)&&(this.animate?this.updateText():(this.done(),this.currentText=this.text),modified=!0),modified&&(this.changed.emit(),this.rendererService.render())}};Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",String)],text_actor_component_TextActorComponent.prototype,"text",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],text_actor_component_TextActorComponent.prototype,"animate",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],text_actor_component_TextActorComponent.prototype,"materialColor",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],text_actor_component_TextActorComponent.prototype,"minDelay",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],text_actor_component_TextActorComponent.prototype,"maxDelay",void 0),text_actor_component_TextActorComponent=TextActorComponent_1=Object(tslib_es6.b)([Object(core.Component)({selector:"atft-text-actor",providers:[Object(util.c)(TextActorComponent_1)],template:'\n    <atft-text-mesh [text]="currentText" [centered]="false" [materialColor]="materialColor">\n    </atft-text-mesh>\n  '}),Object(tslib_es6.d)(1,Object(core.SkipSelf)()),Object(tslib_es6.d)(1,Object(core.Optional)()),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(_a=void 0!==renderer.a&&renderer.a)?_a:Object,"function"==typeof(_b=void 0!==object.a&&object.a)?_b:Object,"function"==typeof(_c=void 0!==animation.a&&animation.a)?_c:Object])],text_actor_component_TextActorComponent);var LoaderActorComponent_1,loader_actor_component_a,loader_actor_component_b,loader_actor_component_c,three_module=__webpack_require__(3);let loader_actor_component_LoaderActorComponent=LoaderActorComponent_1=class LoaderActorComponent extends helper.a{constructor(rendererService,parent,animationService){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,this.animationService=animationService,this.animate=!0,this.materialColor=6139362,this.subscribed=!1,this.i=0}ngAfterViewInit(){super.ngAfterViewInit(),this.init(),this.start()}getMaterial(){return Object(util.b)(this.materialColor,"basic")}init(){const geometry=new three_module.RingGeometry(.85,1,64,1,0,1.8*Math.PI),material=this.getMaterial();this.ring1=new three_module.Mesh(geometry,material),this.ring1.scale.set(70,70,1),this.object.add(this.ring1),this.ring2=new three_module.Mesh(geometry,material),this.ring2.scale.set(60,60,1),this.object.add(this.ring2),this.ring3=new three_module.Mesh(geometry,material),this.ring3.scale.set(50,50,1),this.object.add(this.ring3)}start(){this.animate&&(this.updateAnimation=this.updateAnimation.bind(this),this.animationService.animate.subscribe(this.updateAnimation),this.subscribed=!0,this.animationService.start())}ngOnDestroy(){super.ngOnDestroy(),this.stop()}updateAnimation(){this.subscribed&&(this.i++,this.ring1.scale.set(70+10*Math.sin(this.i/20)+12,70+10*Math.sin(this.i/20)+12,1),this.ring1.rotateZ(Math.sin(this.i/100)/5),this.ring2.rotateZ(Math.cos(this.i/70)/10),this.ring3.rotateZ(Math.sin(this.i/50)/20))}stop(){this.subscribed&&(this.subscribed=!1,this.i=0)}};Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],loader_actor_component_LoaderActorComponent.prototype,"animate",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],loader_actor_component_LoaderActorComponent.prototype,"materialColor",void 0),loader_actor_component_LoaderActorComponent=LoaderActorComponent_1=Object(tslib_es6.b)([Object(core.Component)({selector:"atft-loader-actor",providers:[Object(util.c)(LoaderActorComponent_1)],template:""}),Object(tslib_es6.d)(1,Object(core.SkipSelf)()),Object(tslib_es6.d)(1,Object(core.Optional)()),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(loader_actor_component_a=void 0!==renderer.a&&renderer.a)?loader_actor_component_a:Object,"function"==typeof(loader_actor_component_b=void 0!==object.a&&object.a)?loader_actor_component_b:Object,"function"==typeof(loader_actor_component_c=void 0!==animation.a&&animation.a)?loader_actor_component_c:Object])],loader_actor_component_LoaderActorComponent);let UxActorModule=class UxActorModule{};UxActorModule=Object(tslib_es6.b)([Object(core.NgModule)({imports:[common.b,atft_module.a],declarations:[text_actor_component_TextActorComponent,loader_actor_component_LoaderActorComponent],exports:[text_actor_component_TextActorComponent,loader_actor_component_LoaderActorComponent]})],UxActorModule)},187:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return StatsService}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three_examples_jsm_libs_stats_module_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(365);let StatsService=class StatsService{constructor(){document.body.addEventListener("keydown",event=>{event.altKey&&"s"===event.key&&this.toggle()})}update(){this.stats&&this.stats.update()}toggle(){this.stats?this.remove():this.create()}create(){this.stats||(this.stats=Object(three_examples_jsm_libs_stats_module_js__WEBPACK_IMPORTED_MODULE_2__.a)(),document.body.appendChild(this.stats.dom))}remove(){this.stats&&(this.stats.dom.remove(),this.stats.dom=null,this.stats=null)}ngOnDestroy(){this.remove()}};StatsService=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",[])],StatsService)},188:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AtftDataCenterActorModule})),__webpack_require__.d(__webpack_exports__,"b",(function(){return server_stand_actor_component_ServerStandActorComponent}));var LayerActorComponent_1,tslib_es6=__webpack_require__(1),core=__webpack_require__(0),helper=__webpack_require__(80),util=__webpack_require__(13);let layer_actor_component_LayerActorComponent=LayerActorComponent_1=class LayerActorComponent extends helper.a{constructor(){super(...arguments),this.render=new core.EventEmitter,this.selected=new core.EventEmitter,this.deselected=new core.EventEmitter,this.color=10526880}set width(width){this._width=width,this.translateLabelX=this._width/2-10}get width(){return this._width}onSelected(){this.color=10790052}onDeselected(){this.color=10526880}onClick(){this.color=10526880}};Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",String)],layer_actor_component_LayerActorComponent.prototype,"name",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Number),Object(tslib_es6.c)("design:paramtypes",[Number])],layer_actor_component_LayerActorComponent.prototype,"width",null),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Number)],layer_actor_component_LayerActorComponent.prototype,"height",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],layer_actor_component_LayerActorComponent.prototype,"render",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],layer_actor_component_LayerActorComponent.prototype,"selected",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],layer_actor_component_LayerActorComponent.prototype,"deselected",void 0),layer_actor_component_LayerActorComponent=LayerActorComponent_1=Object(tslib_es6.b)([Object(core.Component)({selector:"atft-layer-actor",providers:[Object(util.c)(LayerActorComponent_1)],template:'\n    <atft-plane-mesh atft-raycaster-group [width]="width" [height]="height" [materialColor]="color" (mouseEnter)="onSelected()"\n                     (mouseExit)="onDeselected()">\n      <atft-text-mesh [centered]="true" [text]="name" size="5" [translateX]="translateLabelX" [rotateZ]="(90 | deg2rad)"\n                      materialColor="0xE0E0E0">\n      </atft-text-mesh>\n    </atft-plane-mesh>\n  '})],layer_actor_component_LayerActorComponent);var ServerBarrelActorComponent_1,common=__webpack_require__(9),atft_module=__webpack_require__(22),empty_component=__webpack_require__(159);class abstract_server_actor_AbstractServerActor extends empty_component.a{constructor(){super(...arguments),this.render=new core.EventEmitter,this.selected=new core.EventEmitter,this.deselected=new core.EventEmitter,this.color=16777215,this.showFrame=!0}onSelected(){this.color=16773360}onDeselected(){this.color=16777215}onClick(){this.color=16752800}}Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",String)],abstract_server_actor_AbstractServerActor.prototype,"label",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],abstract_server_actor_AbstractServerActor.prototype,"render",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],abstract_server_actor_AbstractServerActor.prototype,"selected",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],abstract_server_actor_AbstractServerActor.prototype,"deselected",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",String)],abstract_server_actor_AbstractServerActor.prototype,"svgName",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],abstract_server_actor_AbstractServerActor.prototype,"showFrame",void 0);let server_barrel_actor_component_ServerBarrelActorComponent=ServerBarrelActorComponent_1=class ServerBarrelActorComponent extends abstract_server_actor_AbstractServerActor{};var ServerStandActorComponent_1;server_barrel_actor_component_ServerBarrelActorComponent=ServerBarrelActorComponent_1=Object(tslib_es6.b)([Object(core.Component)({selector:"atft-server-barrel-actor",providers:[Object(util.c)(ServerBarrelActorComponent_1)],template:'\n    <atft-empty name="server-box">\n\n      \x3c!-- TODO: template? --\x3e\n      <atft-empty atft-raycaster-group (mouseEnter)="onSelected()" (mouseExit)="onDeselected()" (click)="onClick()">\n        <atft-svg-loader *ngIf="svgName" [model]="(\'./assets/svg/\'+svgName)" overrideMaterialColor="0xffffff"\n                         material="basic" maxX="6" maxY="6" translateZ="13.1" [rotateZ]="(180 | deg2rad)" [rotateY]="(180 | deg2rad)">\n        </atft-svg-loader>\n\n        <atft-cylinder-mesh *ngFor="let z of [2, 6.5, 11]"\n                            height="4" radiusTop="6" radiusBottom="6" [radialSegments]="30" [openEnded]="false"\n                            material="phong" [materialColor]="color" [translateZ]="z" [rotateX]="(90 | deg2rad)">\n        </atft-cylinder-mesh>\n      </atft-empty>\n\n      <atft-text-mesh [text]="label" [size]="2" [bevelEnabled]="false" height="0" [centered]="true"\n                      material="basic" materialColor="0xDADADA" [translateY]="-11" [translateZ]="0.2">\n      </atft-text-mesh>\n      <atft-frame-mesh *ngIf="showFrame" [thickness]="1" [sizeX]="15" [sizeY]="15" [translateZ]="0.1" material="basic"\n                       [materialColor]="color">\n      </atft-frame-mesh>\n    </atft-empty>\n  '})],server_barrel_actor_component_ServerBarrelActorComponent);let server_stand_actor_component_ServerStandActorComponent=ServerStandActorComponent_1=class ServerStandActorComponent extends abstract_server_actor_AbstractServerActor{};var ServerCompactActorComponent_1;server_stand_actor_component_ServerStandActorComponent=ServerStandActorComponent_1=Object(tslib_es6.b)([Object(core.Component)({selector:"atft-server-stand-actor",providers:[Object(util.c)(ServerStandActorComponent_1)],template:'\n    <atft-empty name="server-box">\n\n      \x3c!-- TODO: template? --\x3e\n      <atft-empty atft-raycaster-group (mouseEnter)="onSelected()" (mouseExit)="onDeselected()" (click)="onClick()">\n        <atft-box-mesh height="10" width="10" depth="14" material="phong" [materialColor]="color" [translateZ]="7"\n                       atft-raycaster-group (mouseEnter)="onSelected()" (mouseExit)="onDeselected()" (click)="onClick()">\n          <atft-svg-loader *ngIf="svgName" [model]="(\'./assets/svg/\'+svgName)" overrideMaterialColor="0xffffff"\n                           material="basic" maxX="8" maxY="8" [translateZ]="0"\n                           translateY="-5.1" [rotateX]="(90 | deg2rad)" [rotateZ]="(180 | deg2rad)" [rotateY]="(180 | deg2rad)">\n          </atft-svg-loader>\n        </atft-box-mesh>\n      </atft-empty>\n\n      <atft-text-mesh [text]="label" [size]="2" [bevelEnabled]="false" height="0" [centered]="true"\n                      material="basic" materialColor="0xDADADA" [translateY]="-11" [translateZ]="0.2">\n      </atft-text-mesh>\n      <atft-frame-mesh *ngIf="showFrame" [thickness]="1" [sizeX]="15" [sizeY]="15" [translateZ]="0.1" material="basic"\n                       [materialColor]="color">\n      </atft-frame-mesh>\n    </atft-empty>\n  '})],server_stand_actor_component_ServerStandActorComponent);let server_compact_actor_component_ServerCompactActorComponent=ServerCompactActorComponent_1=class ServerCompactActorComponent extends abstract_server_actor_AbstractServerActor{};var ServerIconActorComponent_1;server_compact_actor_component_ServerCompactActorComponent=ServerCompactActorComponent_1=Object(tslib_es6.b)([Object(core.Component)({selector:"atft-server-compact-actor",providers:[Object(util.c)(ServerCompactActorComponent_1)],template:'\n      <atft-empty name="server-box">\n\n          \x3c!-- TODO: template? --\x3e\n          <atft-empty atft-raycaster-group (mouseEnter)="onSelected()" (mouseExit)="onDeselected()" (click)="onClick()">\n              <atft-box-mesh height="10" width="10" depth="3" material="phong" [materialColor]="color" [translateZ]="1.5"\n                             atft-raycaster-group (mouseEnter)="onSelected()" (mouseExit)="onDeselected()" (click)="onClick()">\n                  <atft-svg-loader *ngIf="svgName" [model]="(\'./assets/svg/\'+svgName)" overrideMaterialColor="0xffffff"\n                                   material="basic" maxX="6" maxY="6" [translateZ]="1.6"\n                                   translateY="0" [rotateZ]="(180 | deg2rad)" [rotateY]="(180 | deg2rad)">\n                  </atft-svg-loader>\n              </atft-box-mesh>\n          </atft-empty>\n\n          <atft-text-mesh [text]="label" [size]="2" [bevelEnabled]="false" height="0" [centered]="true"\n                          material="basic" materialColor="0xDADADA" [translateY]="-11" [translateZ]="0.2">\n          </atft-text-mesh>\n          <atft-frame-mesh *ngIf="showFrame" [thickness]="1" [sizeX]="15" [sizeY]="15" [translateZ]="0.1" material="basic"\n                           [materialColor]="color">\n          </atft-frame-mesh>\n      </atft-empty>\n  '})],server_compact_actor_component_ServerCompactActorComponent);let server_icon_actor_component_ServerIconActorComponent=ServerIconActorComponent_1=class ServerIconActorComponent extends abstract_server_actor_AbstractServerActor{};var WorkstationActorComponent_1;server_icon_actor_component_ServerIconActorComponent=ServerIconActorComponent_1=Object(tslib_es6.b)([Object(core.Component)({selector:"atft-server-icon-actor",providers:[Object(util.c)(ServerIconActorComponent_1)],template:'\n    <atft-empty name="server-box">\n\n      \x3c!-- TODO: template? --\x3e\n      <atft-empty atft-raycaster-group (mouseEnter)="onSelected()" (mouseExit)="onDeselected()" (click)="onClick()">\n        <atft-svg-loader *ngIf="svgName" [model]="(\'./assets/svg/\'+svgName)" overrideMaterialColor="0xffffff"\n                         material="basic" maxX="15" maxY="15" [translateZ]="0.1"\n                         translateY="0" [rotateZ]="(180 | deg2rad)" [rotateY]="(180 | deg2rad)">\n        </atft-svg-loader>\n\n      </atft-empty>\n\n      <atft-text-mesh [text]="label" [size]="2" [bevelEnabled]="false" height="0" [centered]="true"\n                      material="basic" materialColor="0xDADADA" [translateY]="-11" [translateZ]="0.2">\n      </atft-text-mesh>\n\n    </atft-empty>\n  '})],server_icon_actor_component_ServerIconActorComponent);let workstation_actor_component_WorkstationActorComponent=WorkstationActorComponent_1=class WorkstationActorComponent extends abstract_server_actor_AbstractServerActor{};Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],workstation_actor_component_WorkstationActorComponent.prototype,"videoSrc",void 0),workstation_actor_component_WorkstationActorComponent=WorkstationActorComponent_1=Object(tslib_es6.b)([Object(core.Component)({selector:"atft-workstation-actor",providers:[Object(util.c)(WorkstationActorComponent_1)],template:'\n    <atft-empty name="server-box">\n\n      \x3c!-- TODO: template? --\x3e\n      <atft-empty atft-raycaster-group (mouseEnter)="onSelected()" (mouseExit)="onDeselected()" (click)="onClick()">\n        <atft-box-mesh height="10" width="10" depth="0.5" material="phong" [materialColor]="color" [translateZ]="0.5">\n        </atft-box-mesh>\n        <atft-box-mesh height="12.25" width="21" depth="1" [materialColor]="color" material="phong"\n                       [rotateX]="(90 | deg2rad)" translateZ="7">\n          <atft-video-mesh height="11.25" width="20" translateZ="0.6" [videoSrc]="videoSrc">\n          </atft-video-mesh>\n        </atft-box-mesh>\n      </atft-empty>\n\n      <atft-text-mesh [text]="label" [size]="2" [bevelEnabled]="false" height="0" [centered]="true"\n                      material="basic" materialColor="0xDADADA" [translateY]="-11" [translateZ]="0.2">\n      </atft-text-mesh>\n      <atft-frame-mesh *ngIf="showFrame" [thickness]="1" [sizeX]="15" [sizeY]="15" [translateZ]="0.1" material="basic"\n                       [materialColor]="color">\n      </atft-frame-mesh>\n    </atft-empty>\n  '})],workstation_actor_component_WorkstationActorComponent);var GridActorComponent_1,_a,object=__webpack_require__(67),three_module=__webpack_require__(3);let grid_actor_component_GridActorComponent=GridActorComponent_1=class GridActorComponent extends helper.a{constructor(){super(...arguments),this.size=5,this.iterationsX=20,this.iterationsY=20,this.offset=1.05,this.render=new core.EventEmitter,this.gridEnter=new core.EventEmitter,this.deselected=new core.EventEmitter,this.gridClick=new core.EventEmitter,this.color=10526880}onMouseEnter(event){const pos=this.getLinePosition(event);pos&&this.gridEnter.emit(pos)}onMouseClick(event){console.log("GridActorComponent.onMouseClick");const pos=this.getLinePosition(event);pos&&(console.log("GridActorComponent.onMouseClick position",pos),this.gridClick.emit(pos))}getLinePosition(event){if(event.face){const meshPosition=this.grid.getObject().geometry.attributes.position,geometry=new three_module.BufferGeometry;geometry.setAttribute("position",new three_module.BufferAttribute(new Float32Array(12),3));const linePosition=new three_module.Line(geometry,new three_module.LineBasicMaterial({color:16777215,transparent:!0})).geometry.attributes.position;return linePosition.copyAt(0,meshPosition,event.face.a),linePosition.copyAt(1,meshPosition,event.face.b),linePosition.copyAt(2,meshPosition,event.face.c),linePosition.copyAt(3,meshPosition,event.face.a),linePosition}return null}onDeselected(){}};Object(tslib_es6.b)([Object(core.ViewChild)("grid",{static:!0}),Object(tslib_es6.c)("design:type","function"==typeof(_a=void 0!==object.b&&object.b)?_a:Object)],grid_actor_component_GridActorComponent.prototype,"grid",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],grid_actor_component_GridActorComponent.prototype,"size",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],grid_actor_component_GridActorComponent.prototype,"iterationsX",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],grid_actor_component_GridActorComponent.prototype,"iterationsY",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],grid_actor_component_GridActorComponent.prototype,"offset",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],grid_actor_component_GridActorComponent.prototype,"render",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],grid_actor_component_GridActorComponent.prototype,"gridEnter",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],grid_actor_component_GridActorComponent.prototype,"deselected",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],grid_actor_component_GridActorComponent.prototype,"gridClick",void 0),grid_actor_component_GridActorComponent=GridActorComponent_1=Object(tslib_es6.b)([Object(core.Component)({selector:"atft-grid-actor",providers:[Object(util.c)(GridActorComponent_1)],template:'\n    <atft-grid-mesh #grid [size]="size" [iterationsX]="iterationsX" [iterationsY]="iterationsY" [offset]="offset"\n                    (click)="onMouseClick($event)"\n                    (mouseEnter)="onMouseEnter($event)"\n                    (mouseExit)="onDeselected()"\n                    [materialColor]="color"\n                    atft-raycaster-group\n    ></atft-grid-mesh>\n  '})],grid_actor_component_GridActorComponent);let AtftDataCenterActorModule=class AtftDataCenterActorModule{};AtftDataCenterActorModule=Object(tslib_es6.b)([Object(core.NgModule)({imports:[common.b,atft_module.a],declarations:[layer_actor_component_LayerActorComponent,server_barrel_actor_component_ServerBarrelActorComponent,server_stand_actor_component_ServerStandActorComponent,server_compact_actor_component_ServerCompactActorComponent,server_icon_actor_component_ServerIconActorComponent,workstation_actor_component_WorkstationActorComponent,grid_actor_component_GridActorComponent],exports:[layer_actor_component_LayerActorComponent,server_barrel_actor_component_ServerBarrelActorComponent,server_stand_actor_component_ServerStandActorComponent,server_compact_actor_component_ServerCompactActorComponent,server_icon_actor_component_ServerIconActorComponent,workstation_actor_component_WorkstationActorComponent,grid_actor_component_GridActorComponent]})],AtftDataCenterActorModule)},214:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return performanceSceneWrapper}));const performanceSceneWrapper=content=>`\n<atft-orbit-controls style="height:100%" rotateSpeed=1 zoomSpeed=1.2>\n  <atft-renderer-canvas>\n      <atft-perspective-camera [zAxisUp]="true" positionX=50 positionY=-20 positionZ=50></atft-perspective-camera>\n      <atft-scene atft-stats-auto-show>\n          <atft-point-light intensity="0.5" distance="100" translateX=90 translateY=90\n                            translateZ=90></atft-point-light>\n          <atft-point-light intensity="0.8" distance="1000" [translateX]="-60" [translateY]="-60"\n                            [translateZ]="50"></atft-point-light>\n          ${content}\n      </atft-scene>\n  </atft-renderer-canvas>\n</atft-orbit-controls>\n`},22:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AtftModule}));var RaycasterEvent,tslib_es6=__webpack_require__(1),core=__webpack_require__(0),atft_camera_module=__webpack_require__(271),atft_object_module=__webpack_require__(274),common=__webpack_require__(9),OrbitControls=__webpack_require__(213),renderer_service=__webpack_require__(6),three_module=__webpack_require__(3);!function(RaycasterEvent){RaycasterEvent.mouseEnter="mouseEnter",RaycasterEvent.mouseExit="mouseExit",RaycasterEvent.click="click"}(RaycasterEvent||(RaycasterEvent={}));let raycaster_service_RaycasterService=class RaycasterService{constructor(){this.raycaster=new three_module.Raycaster,this.enabled=!1,this.groups=[],this.paused=!1,this.onMouseMove=this.onMouseMove.bind(this),this.onClick=this.onClick.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.subscribe()}ngOnDestroy(){this.disable(),this.unsubscribe()}subscribe(){window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("click",this.onClick),window.addEventListener("touchstart",this.onTouchStart)}unsubscribe(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("click",this.onClick),window.removeEventListener("touchstart",this.onTouchStart)}enable(){this.enabled=!0}disable(){this.enabled=!1}pause(){this.paused=!0}resume(){this.paused=!1}get isEnabled(){return this.enabled}setCamera(camera){this.camera=camera}addGroup(group){this.groups.push(group)}onMouseMove(event){if(!this.isReady())return;event.preventDefault();const i=this.getFirstIntersectedGroup(event.layerX,event.layerY);this.selected&&this.selected===i.object||(this.selected&&(this.selected.dispatchEvent({type:RaycasterEvent.mouseExit}),this.selected=null),i&&i.object&&(this.selected=i.object,this.selected.dispatchEvent({type:RaycasterEvent.mouseEnter,face:i.face})))}onClick(event){if(!this.isReady(!0))return;event.preventDefault();const i=this.getFirstIntersectedGroup(event.layerX,event.layerY);i&&i.object&&i.object.dispatchEvent({type:RaycasterEvent.click,face:i.face})}onTouchStart(event){if(!this.isReady())return;event.preventDefault();const i=this.getFirstIntersectedGroup(event.touches[0].clientX,event.touches[0].clientY);i&&i.object&&i.object.dispatchEvent({type:RaycasterEvent.click,face:i.face})}isReady(ignorePaused){return this.enabled&&(ignorePaused||!this.paused)&&this.camera&&this.camera.camera&&this.groups&&this.groups.length>0}getFirstIntersectedGroup(x,y){x=x/window.innerWidth*2-1,y=-y/window.innerHeight*2+1;const mouseVector=new three_module.Vector3(x,y,.5);let face,nearestIntersection,nearestGroup;this.raycaster.setFromCamera(mouseVector,this.camera.camera);for(let k=0;k<this.groups.length;k++){const i=this.groups[k].getObject(),intersection=this.raycaster.intersectObject(i,!0);intersection.length>0&&(!nearestIntersection||nearestIntersection.distance>intersection[0].distance)&&(nearestIntersection=intersection[0],face=nearestIntersection.face,nearestGroup=i)}return nearestGroup?{object:nearestGroup,face:face}:{object:null,face:null}}};raycaster_service_RaycasterService=Object(tslib_es6.b)([Object(core.Injectable)(),Object(tslib_es6.c)("design:paramtypes",[])],raycaster_service_RaycasterService);var _a,_b,_c,_d,_e,abstract_camera=__webpack_require__(108),renderer_canvas_component=__webpack_require__(164);let AbstractOrbitControls=class AbstractOrbitControls{constructor(rendererService,raycasterService){this.rendererService=rendererService,this.raycasterService=raycasterService}ngOnChanges(changes){this.controls&&changes.listeningControlElement&&(this.controls.dispose(),this.setUpControls())}ngOnDestroy(){this.controls&&this.controls.dispose()}configureListeners(){this.controls.addEventListener("change",()=>{this.rendererService.render()}),this.raycasterService.isEnabled&&(this.controls.addEventListener("start",()=>{this.raycasterService.pause()}),this.controls.addEventListener("end",()=>{this.raycasterService.resume()}))}ngAfterViewInit(){if(void 0===this.childCameras||void 0===this.childCameras.first)throw new Error("Camera is not found");if(!this.webGlRenderer)throw new Error("webGlRenderer is not found");this.listeningControlElement=this.webGlRenderer.renderPane,this.setUpControls(),this.configureListeners(),this.rendererService.render()}};var orbit_controls_component_a,orbit_controls_component_b;Object(tslib_es6.b)([Object(core.ContentChildren)(abstract_camera.a,{descendants:!0}),Object(tslib_es6.c)("design:type","function"==typeof(_a=void 0!==core.QueryList&&core.QueryList)?_a:Object)],AbstractOrbitControls.prototype,"childCameras",void 0),Object(tslib_es6.b)([Object(core.ContentChild)(renderer_canvas_component.a,{static:!1}),Object(tslib_es6.c)("design:type","function"==typeof(_b=void 0!==renderer_canvas_component.a&&renderer_canvas_component.a)?_b:Object)],AbstractOrbitControls.prototype,"webGlRenderer",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type","function"==typeof(_c=void 0!==core.ElementRef&&core.ElementRef)?_c:Object)],AbstractOrbitControls.prototype,"listeningControlElement",void 0),AbstractOrbitControls=Object(tslib_es6.b)([Object(core.Directive)(),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(_d=void 0!==renderer_service.a&&renderer_service.a)?_d:Object,"function"==typeof(_e=void 0!==raycaster_service_RaycasterService&&raycaster_service_RaycasterService)?_e:Object])],AbstractOrbitControls);let orbit_controls_component_OrbitControlsComponent=class OrbitControlsComponent extends AbstractOrbitControls{constructor(rendererService,raycasterService){super(rendererService,raycasterService),this.rendererService=rendererService,this.raycasterService=raycasterService,this.rotateSpeed=1,this.zoomSpeed=1.2}setUpControls(){this.controls=new OrbitControls.b(this.childCameras.first.camera,this.listeningControlElement&&this.listeningControlElement.nativeElement),this.controls.rotateSpeed=this.rotateSpeed,this.controls.zoomSpeed=this.zoomSpeed}ngOnChanges(changes){this.controls&&(super.ngOnChanges(changes),changes.rotateSpeed&&(this.controls.rotateSpeed=this.rotateSpeed),changes.zoomSpeed&&(this.controls.zoomSpeed=this.zoomSpeed))}};Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],orbit_controls_component_OrbitControlsComponent.prototype,"rotateSpeed",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],orbit_controls_component_OrbitControlsComponent.prototype,"zoomSpeed",void 0),orbit_controls_component_OrbitControlsComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"atft-orbit-controls",template:"\n      <ng-content></ng-content>",styles:[(__webpack_require__(180).default||__webpack_require__(180)).length?__webpack_require__(180).default||__webpack_require__(180):""]}),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(orbit_controls_component_a=void 0!==renderer_service.a&&renderer_service.a)?orbit_controls_component_a:Object,"function"==typeof(orbit_controls_component_b=void 0!==raycaster_service_RaycasterService&&raycaster_service_RaycasterService)?orbit_controls_component_b:Object])],orbit_controls_component_OrbitControlsComponent);var map_controls_component_a,map_controls_component_b,map_controls_component_c,animation_service=__webpack_require__(44);let map_controls_component_MapControlsComponent=class MapControlsComponent extends AbstractOrbitControls{constructor(rendererService,raycasterService,animationService){super(rendererService,raycasterService),this.rendererService=rendererService,this.raycasterService=raycasterService,this.animationService=animationService,this.rotateSpeed=1,this.zoomSpeed=1.2,this.autoRotate=!1,this.autoRotateSpeed=.5,this.enableDamping=!1,this.dampingFactor=.1,this.screenSpacePanning=!1,this.minDistance=20,this.maxDistance=200,this.maxPolarAngle=Math.PI/2-.1,this.panSpeed=1.2}ngOnChanges(changes){this.controls&&(super.ngOnChanges(changes),changes.rotateSpeed&&(this.controls.rotateSpeed=this.rotateSpeed),changes.zoomSpeed&&(this.controls.zoomSpeed=this.zoomSpeed))}setUpControls(){this.controls=new OrbitControls.a(this.childCameras.first.camera,this.listeningControlElement&&this.listeningControlElement.nativeElement),this.controls.rotateSpeed=this.rotateSpeed,this.controls.zoomSpeed=this.zoomSpeed,this.controls.panSpeed=this.panSpeed,this.controls.autoRotate=this.autoRotate,this.controls.autoRotateSpeed=this.autoRotateSpeed,this.controls.enableDamping=this.enableDamping,this.controls.dampingFactor=this.dampingFactor,this.controls.screenSpacePanning=this.screenSpacePanning,this.controls.minDistance=this.minDistance,this.controls.maxDistance=this.maxDistance,this.controls.maxPolarAngle=this.maxPolarAngle,this.controls.update(),(this.autoRotate||this.enableDamping)&&(this.animationService.animate.subscribe(()=>{this.controls.update()}),this.controls.addEventListener("change",()=>{this.rendererService.render()}),this.animationService.start()),this.rendererService.render()}};Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],map_controls_component_MapControlsComponent.prototype,"rotateSpeed",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],map_controls_component_MapControlsComponent.prototype,"zoomSpeed",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],map_controls_component_MapControlsComponent.prototype,"autoRotate",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],map_controls_component_MapControlsComponent.prototype,"autoRotateSpeed",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],map_controls_component_MapControlsComponent.prototype,"enableDamping",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],map_controls_component_MapControlsComponent.prototype,"dampingFactor",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],map_controls_component_MapControlsComponent.prototype,"screenSpacePanning",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],map_controls_component_MapControlsComponent.prototype,"minDistance",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],map_controls_component_MapControlsComponent.prototype,"maxDistance",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Number)],map_controls_component_MapControlsComponent.prototype,"maxPolarAngle",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],map_controls_component_MapControlsComponent.prototype,"panSpeed",void 0),map_controls_component_MapControlsComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"atft-map-controls",template:"\n      <ng-content></ng-content>",styles:[(__webpack_require__(180).default||__webpack_require__(180)).length?__webpack_require__(180).default||__webpack_require__(180):""]}),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(map_controls_component_a=void 0!==renderer_service.a&&renderer_service.a)?map_controls_component_a:Object,"function"==typeof(map_controls_component_b=void 0!==raycaster_service_RaycasterService&&raycaster_service_RaycasterService)?map_controls_component_b:Object,"function"==typeof(map_controls_component_c=void 0!==animation_service.a&&animation_service.a)?map_controls_component_c:Object])],map_controls_component_MapControlsComponent);let AtftControlModule=class AtftControlModule{};AtftControlModule=Object(tslib_es6.b)([Object(core.NgModule)({declarations:[orbit_controls_component_OrbitControlsComponent,map_controls_component_MapControlsComponent],imports:[common.b],exports:[orbit_controls_component_OrbitControlsComponent,map_controls_component_MapControlsComponent]})],AtftControlModule);let Deg2RadPipe=class Deg2RadPipe{transform(degrees){return degrees/180*Math.PI}};Deg2RadPipe=Object(tslib_es6.b)([Object(core.Pipe)({name:"deg2rad"})],Deg2RadPipe);let Rad2DegPipe=class Rad2DegPipe{transform(radians){return radians*(180/Math.PI)}};Rad2DegPipe=Object(tslib_es6.b)([Object(core.Pipe)({name:"rad2deg"})],Rad2DegPipe);let AtftPipeModule=class AtftPipeModule{};AtftPipeModule=Object(tslib_es6.b)([Object(core.NgModule)({imports:[common.b],declarations:[Deg2RadPipe,Rad2DegPipe],exports:[Deg2RadPipe,Rad2DegPipe]})],AtftPipeModule);var raycaster_group_directive_a,raycaster_group_directive_b,atft_renderer_module=__webpack_require__(299),atft_animation_module=__webpack_require__(295),abstract_object_3d=__webpack_require__(8);let raycaster_group_directive_RaycasterGroupDirective=class RaycasterGroupDirective{constructor(host,raycasterService){this.host=host,this.raycasterService=raycasterService,this.mouseEnter=new core.EventEmitter,this.mouseExit=new core.EventEmitter,this.click=new core.EventEmitter,this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseExit=this.onMouseExit.bind(this),this.onClick=this.onClick.bind(this)}ngAfterViewInit(){this.raycasterService.addGroup(this.host),this.subscribeEvents()}subscribeEvents(){const obj=this.host.getObject();obj.addEventListener(RaycasterEvent.mouseEnter,this.onMouseEnter),obj.addEventListener(RaycasterEvent.mouseExit,this.onMouseExit),obj.addEventListener(RaycasterEvent.click,this.onClick)}unSubscribeEvents(){const obj=this.host.getObject();obj&&(obj.removeEventListener(RaycasterEvent.mouseEnter,this.onMouseEnter),obj.removeEventListener(RaycasterEvent.mouseExit,this.onMouseExit),obj.removeEventListener(RaycasterEvent.click,this.onClick))}onMouseExit(){this.mouseExit.emit({component:this.host})}onMouseEnter(event){this.mouseEnter.emit({component:this.host,face:event.face})}onClick(event){this.click.emit({component:this.host,face:event.face})}ngOnDestroy(){this.unSubscribeEvents()}};var raycaster_camera_directive_a,raycaster_camera_directive_b;Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],raycaster_group_directive_RaycasterGroupDirective.prototype,"mouseEnter",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],raycaster_group_directive_RaycasterGroupDirective.prototype,"mouseExit",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],raycaster_group_directive_RaycasterGroupDirective.prototype,"click",void 0),raycaster_group_directive_RaycasterGroupDirective=Object(tslib_es6.b)([Object(core.Directive)({selector:"[atft-raycaster-group]"}),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(raycaster_group_directive_a=void 0!==abstract_object_3d.a&&abstract_object_3d.a)?raycaster_group_directive_a:Object,"function"==typeof(raycaster_group_directive_b=void 0!==raycaster_service_RaycasterService&&raycaster_service_RaycasterService)?raycaster_group_directive_b:Object])],raycaster_group_directive_RaycasterGroupDirective);let RaycasterCameraDirective=class RaycasterCameraDirective{constructor(host,raycasterService){this.host=host,this.raycasterService=raycasterService}ngAfterViewInit(){this.raycasterService.setCamera(this.host)}};var raycaster_enable_directive_a;RaycasterCameraDirective=Object(tslib_es6.b)([Object(core.Directive)({selector:"[atft-raycaster-camera]"}),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(raycaster_camera_directive_a=void 0!==abstract_camera.a&&abstract_camera.a)?raycaster_camera_directive_a:Object,"function"==typeof(raycaster_camera_directive_b=void 0!==raycaster_service_RaycasterService&&raycaster_service_RaycasterService)?raycaster_camera_directive_b:Object])],RaycasterCameraDirective);let RaycasterEnableDirective=class RaycasterEnableDirective{constructor(raycasterService){this.raycasterService=raycasterService}ngAfterViewInit(){this.raycasterService.enable()}};RaycasterEnableDirective=Object(tslib_es6.b)([Object(core.Directive)({selector:"[atft-raycaster-enable]"}),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(raycaster_enable_directive_a=void 0!==raycaster_service_RaycasterService&&raycaster_service_RaycasterService)?raycaster_enable_directive_a:Object])],RaycasterEnableDirective);let AtftRaycasterModule=class AtftRaycasterModule{};AtftRaycasterModule=Object(tslib_es6.b)([Object(core.NgModule)({imports:[common.b],declarations:[raycaster_group_directive_RaycasterGroupDirective,RaycasterCameraDirective,RaycasterEnableDirective],providers:[raycaster_service_RaycasterService],exports:[raycaster_group_directive_RaycasterGroupDirective,RaycasterCameraDirective,RaycasterEnableDirective]})],AtftRaycasterModule);var stats_auto_show_directive_a,stats_service=__webpack_require__(187);let StatsAutoShowDirective=class StatsAutoShowDirective{constructor(statsService){this.statsService=statsService}ngAfterViewInit(){this.statsService.create()}};StatsAutoShowDirective=Object(tslib_es6.b)([Object(core.Directive)({selector:"[atft-stats-auto-show]"}),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(stats_auto_show_directive_a=void 0!==stats_service.a&&stats_service.a)?stats_auto_show_directive_a:Object])],StatsAutoShowDirective);let AtftStatsModule=class AtftStatsModule{};AtftStatsModule=Object(tslib_es6.b)([Object(core.NgModule)({imports:[common.b],providers:[stats_service.a],declarations:[StatsAutoShowDirective],exports:[StatsAutoShowDirective]})],AtftStatsModule);var dashed_draw_directive_a,dashed_draw_directive_b,util=__webpack_require__(13);let dashed_draw_directive_DashedDrawDirective=class DashedDrawDirective{constructor(host,animation){this.host=host,this.animation=animation,this.dashColor=16711680,this.dashIncrement=10,this.hideDash=!1,this.stop=!1}ngAfterViewInit(){this.tryToFindGeometry(),this.animate=this.animate.bind(this),this.animation.animate.subscribe(this.animate),this.animation.start()}tryToFindGeometry(){this.host.getObject().traverse(child=>{const findMesh=child instanceof three_module.Mesh?child:child.children[0];if(findMesh&&findMesh instanceof three_module.Mesh&&!this.edges){const edgesGeom=new three_module.EdgesGeometry(findMesh.geometry,8);this.edges=new three_module.LineSegments(edgesGeom,new three_module.LineDashedMaterial({color:Object(util.a)(this.dashColor)})),this.edges.computeLineDistances(),this.edges.material.dashSize=0,this.edges.material.gapSize=this.edges.geometry.attributes.lineDistance.array[this.edges.geometry.attributes.lineDistance.count-1],this.material=findMesh.material,this.initialOpacity>=0&&(this.material.transparent||(this.material.transparent=!0),this.material.opacity=this.initialOpacity),findMesh.add(this.edges)}})}animate(){this.stop||(this.edges?(this.edges.material.dashSize+=this.dashIncrement,this.edges.material.dashSize>=this.edges.material.gapSize&&(this.hideDash&&(this.edges.parent.children=[]),this.targetOpacity>=0&&(this.material.opacity=this.targetOpacity,1===this.targetOpacity&&(this.material.transparent=!1)),this.stop=!0)):this.tryToFindGeometry())}};Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],dashed_draw_directive_DashedDrawDirective.prototype,"dashColor",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],dashed_draw_directive_DashedDrawDirective.prototype,"dashIncrement",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],dashed_draw_directive_DashedDrawDirective.prototype,"initialOpacity",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],dashed_draw_directive_DashedDrawDirective.prototype,"targetOpacity",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],dashed_draw_directive_DashedDrawDirective.prototype,"hideDash",void 0),dashed_draw_directive_DashedDrawDirective=Object(tslib_es6.b)([Object(core.Directive)({selector:"[atft-dashed-draw]"}),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(dashed_draw_directive_a=void 0!==abstract_object_3d.a&&abstract_object_3d.a)?dashed_draw_directive_a:Object,"function"==typeof(dashed_draw_directive_b=void 0!==animation_service.a&&animation_service.a)?dashed_draw_directive_b:Object])],dashed_draw_directive_DashedDrawDirective);var fog_component_a,fog_component_b,lib_object=__webpack_require__(67);let fog_component_FogComponent=class FogComponent{constructor(rendererService,parent){this.rendererService=rendererService,this.parent=parent,this.color=170,this.near=10,this.far=100}ngAfterViewInit(){this.parent&&this.parent.getObject()&&this.parent.getObject().isScene&&(this.scene=this.parent.getObject(),this.enableFog())}enableFog(){this.scene.fog=new three_module.Fog(Object(util.a)(this.color),this.near,this.far),this.rendererService.render()}disableFog(){this.scene.fog=void 0,this.rendererService.render()}ngOnDestroy(){this.disableFog()}ngOnChanges(changes){this.scene&&["color","near","far"].some(propName=>propName in changes)&&this.enableFog()}};Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],fog_component_FogComponent.prototype,"color",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],fog_component_FogComponent.prototype,"near",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],fog_component_FogComponent.prototype,"far",void 0),fog_component_FogComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"atft-fog",template:""}),Object(tslib_es6.d)(1,Object(core.SkipSelf)()),Object(tslib_es6.d)(1,Object(core.Optional)()),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(fog_component_a=void 0!==renderer_service.a&&renderer_service.a)?fog_component_a:Object,"function"==typeof(fog_component_b=void 0!==lib_object.c&&lib_object.c)?fog_component_b:Object])],fog_component_FogComponent);var effect_composer_component_a,effect_composer_component_b,effect_composer_component_c,BokehPass=__webpack_require__(375),EffectComposer=__webpack_require__(374),RenderPass=__webpack_require__(370);let effect_composer_component_EffectComposerComponent=class EffectComposerComponent{constructor(rendererService,parentScene){this.rendererService=rendererService,this.parentScene=parentScene,this.renderToScreen=!0}ngAfterViewInit(){this.initComposer()}ngOnDestroy(){this.rendererService.setComposer(null),this.composer=null,this.rendererService.render()}ngOnChanges(changes){}initComposer(){if(!this.composer){this.composer=new EffectComposer.a(this.rendererService.getWebGlRenderer()),this.composer.renderToScreen=this.renderToScreen;const renderPass=new RenderPass.a(this.parentScene.getObject(),this.rendererService.getCamera().camera);this.addPass(renderPass),this.sceneBackgroundTarget&&(this.sceneBackgroundTarget.getObject().background=this.composer.writeBuffer.texture),this.rendererService.setComposer(this)}}addPass(pass){this.initComposer(),this.composer.addPass(pass)}removePass(pass){if(this.composer&&this.composer.passes.length>1){const passes=this.composer.passes,index=passes.indexOf(pass,0);index>-1&&passes.splice(index,1),1===passes.length&&(this.composer=void 0)}}render(){this.composer&&this.composer.render(.1)}getComposer(){return this.composer}};var abstract_compose_effect_a,abstract_compose_effect_b;Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],effect_composer_component_EffectComposerComponent.prototype,"renderToScreen",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type","function"==typeof(effect_composer_component_a=void 0!==lib_object.c&&lib_object.c)?effect_composer_component_a:Object)],effect_composer_component_EffectComposerComponent.prototype,"sceneBackgroundTarget",void 0),effect_composer_component_EffectComposerComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"atft-effect-composer",template:""}),Object(tslib_es6.d)(1,Object(core.SkipSelf)()),Object(tslib_es6.d)(1,Object(core.Optional)()),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(effect_composer_component_b=void 0!==renderer_service.a&&renderer_service.a)?effect_composer_component_b:Object,"function"==typeof(effect_composer_component_c=void 0!==lib_object.c&&lib_object.c)?effect_composer_component_c:Object])],effect_composer_component_EffectComposerComponent);let AbstractComposeEffect=class AbstractComposeEffect{constructor(rendererService,composer){this.rendererService=rendererService,this.composer=composer,this.pass=[]}enable(){this.composer&&(this.initPasses(),this.pass.forEach(pass=>this.composer.addPass(pass)),this.rendererService.render())}disable(){this.composer&&(this.pass.forEach(pass=>this.composer.removePass(pass)),this.rendererService.render())}ngAfterViewInit(){this.enable()}ngOnDestroy(){this.disable()}ngOnChanges(changes){this.pass&&this.applyChanges(changes)&&this.rendererService.render()}};var dof_component_a,dof_component_b;AbstractComposeEffect=Object(tslib_es6.b)([Object(tslib_es6.d)(1,Object(core.SkipSelf)()),Object(tslib_es6.d)(1,Object(core.Optional)()),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(abstract_compose_effect_a=void 0!==renderer_service.a&&renderer_service.a)?abstract_compose_effect_a:Object,"function"==typeof(abstract_compose_effect_b=void 0!==effect_composer_component_EffectComposerComponent&&effect_composer_component_EffectComposerComponent)?abstract_compose_effect_b:Object])],AbstractComposeEffect);let dof_component_DofComponent=class DofComponent extends AbstractComposeEffect{constructor(rendererService,composer){super(rendererService,composer),this.rendererService=rendererService,this.composer=composer,this.focus=1,this.aperture=.025,this.maxblur=.01}applyChanges(changes){let modified=!1;return this.pass[0]&&(["focus"].some(propName=>propName in changes)&&(this.pass[0].uniforms.focus.value=this.focus,modified=!0),["aperture"].some(propName=>propName in changes)&&(this.pass[0].uniforms.aperture.value=this.aperture,modified=!0),["maxblur"].some(propName=>propName in changes)&&(this.pass[0].uniforms.maxblur.value=this.maxblur,modified=!0)),modified}initPasses(){this.pass.push(new BokehPass.a(this.rendererService.getScene().getObject(),this.rendererService.getCamera().camera,{focus:this.focus,aperture:this.aperture,maxblur:this.maxblur,width:window.innerWidth,height:window.innerHeight}))}};Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],dof_component_DofComponent.prototype,"focus",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],dof_component_DofComponent.prototype,"aperture",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],dof_component_DofComponent.prototype,"maxblur",void 0),dof_component_DofComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"atft-dof",template:""}),Object(tslib_es6.d)(1,Object(core.SkipSelf)()),Object(tslib_es6.d)(1,Object(core.Optional)()),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(dof_component_a=void 0!==renderer_service.a&&renderer_service.a)?dof_component_a:Object,"function"==typeof(dof_component_b=void 0!==effect_composer_component_EffectComposerComponent&&effect_composer_component_EffectComposerComponent)?dof_component_b:Object])],dof_component_DofComponent);var dot_screen_component_a,dot_screen_component_b,ShaderPass=__webpack_require__(88),DotScreenShader=__webpack_require__(371);let dot_screen_component_DotScreenComponent=class DotScreenComponent extends AbstractComposeEffect{constructor(rendererService,composer){super(rendererService,composer),this.rendererService=rendererService,this.composer=composer,this.scale=4}initPasses(){this.pass.push(new ShaderPass.a(DotScreenShader.a))}applyChanges(changes){return!1}};Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],dot_screen_component_DotScreenComponent.prototype,"scale",void 0),dot_screen_component_DotScreenComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"atft-dot-screen",template:""}),Object(tslib_es6.d)(1,Object(core.SkipSelf)()),Object(tslib_es6.d)(1,Object(core.Optional)()),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(dot_screen_component_a=void 0!==renderer_service.a&&renderer_service.a)?dot_screen_component_a:Object,"function"==typeof(dot_screen_component_b=void 0!==effect_composer_component_EffectComposerComponent&&effect_composer_component_EffectComposerComponent)?dot_screen_component_b:Object])],dot_screen_component_DotScreenComponent);var blur_component_a,blur_component_b,VerticalBlurShader=__webpack_require__(234),HorizontalBlurShader=__webpack_require__(235);let blur_component_BlurComponent=class BlurComponent extends AbstractComposeEffect{constructor(rendererService,composer){super(rendererService,composer),this.rendererService=rendererService,this.composer=composer}initPasses(){this.pass.push(new ShaderPass.a(VerticalBlurShader.a)),this.pass.push(new ShaderPass.a(HorizontalBlurShader.a)),this.pass.push(new ShaderPass.a(VerticalBlurShader.a)),this.pass.push(new ShaderPass.a(HorizontalBlurShader.a))}applyChanges(changes){return!1}};blur_component_BlurComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"atft-blur",template:""}),Object(tslib_es6.d)(1,Object(core.SkipSelf)()),Object(tslib_es6.d)(1,Object(core.Optional)()),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(blur_component_a=void 0!==renderer_service.a&&renderer_service.a)?blur_component_a:Object,"function"==typeof(blur_component_b=void 0!==effect_composer_component_EffectComposerComponent&&effect_composer_component_EffectComposerComponent)?blur_component_b:Object])],blur_component_BlurComponent);let AtftEffectModule=class AtftEffectModule{};AtftEffectModule=Object(tslib_es6.b)([Object(core.NgModule)({imports:[common.b],declarations:[dashed_draw_directive_DashedDrawDirective,fog_component_FogComponent,dof_component_DofComponent,dot_screen_component_DotScreenComponent,effect_composer_component_EffectComposerComponent,blur_component_BlurComponent],exports:[dashed_draw_directive_DashedDrawDirective,fog_component_FogComponent,dof_component_DofComponent,dot_screen_component_DotScreenComponent,effect_composer_component_EffectComposerComponent,blur_component_BlurComponent]})],AtftEffectModule);let AtftModule=class AtftModule{};AtftModule=Object(tslib_es6.b)([Object(core.NgModule)({imports:[atft_camera_module.a,atft_object_module.a,AtftControlModule,AtftPipeModule,atft_renderer_module.a,atft_animation_module.a,AtftRaycasterModule,AtftStatsModule,AtftEffectModule],exports:[atft_camera_module.a,atft_object_module.a,AtftControlModule,AtftPipeModule,atft_renderer_module.a,atft_animation_module.a,AtftRaycasterModule,AtftStatsModule,AtftEffectModule]})],AtftModule)},226:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return calculateSize}));var three__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3);function calculateSize(group){const box=(new three__WEBPACK_IMPORTED_MODULE_0__.Box3).setFromObject(group);return new three__WEBPACK_IMPORTED_MODULE_0__.Vector3(box.max.x-box.min.x,box.max.y-box.min.y,box.max.z-box.min.z)}},227:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return fixCenter}));var _calculate_size__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(226);function fixCenter(group){const box=Object(_calculate_size__WEBPACK_IMPORTED_MODULE_0__.a)(group);group.translateX(-box.x/2),group.translateY(-box.y/2),group.translateZ(-box.z/2)}},228:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AbstractLazyObject3D}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),three__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3);let AbstractLazyObject3D=class AbstractLazyObject3D extends _abstract_object_3d__WEBPACK_IMPORTED_MODULE_2__.a{constructor(){super(...arguments),this.parentInitialized=!1}afterInit(){super.afterInit(),this.parentInitialized=!0,this.startLoading()}startLoading(){this.loadLazyObject().then(obj=>{this.lazyObject&&super.removeChild(this.lazyObject),this.lazyObject=obj,super.addChild(obj),this.rendererService.render()}).catch(err=>{console.error(err)})}ngOnDestroy(){this.lazyObject&&super.removeChild(this.lazyObject)}newObject3DInstance(){return new three__WEBPACK_IMPORTED_MODULE_3__.Object3D}};AbstractLazyObject3D=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive)()],AbstractLazyObject3D)},229:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ContentProjectionComponent}));var ContentProjectionComponent_1,_a,_b,_c,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_helper_empty_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(159),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13);let ContentProjectionComponent=ContentProjectionComponent_1=class ContentProjectionComponent extends _helper_empty_component__WEBPACK_IMPORTED_MODULE_2__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent}addChild(object){this.contentProjection?this.contentProjection.addChild(object):console.error('ContentProjectionComponent error: #contentProjection id not found! Embedded child object in "ng-content" can not be attached to parentScene object')}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ViewChild)("contentProjection"),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type","function"==typeof(_a=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_3__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object)],ContentProjectionComponent.prototype,"contentProjection",void 0),ContentProjectionComponent=ContentProjectionComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-content-projection",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_5__.c)(ContentProjectionComponent_1)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_b=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_4__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_4__.a)?_b:Object,"function"==typeof(_c=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_3__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_3__.a)?_c:Object])],ContentProjectionComponent)},268:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AtftHelperModule}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),_axes_helper_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(269),_empty_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(159),_grid_helper_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(270);let AtftHelperModule=class AtftHelperModule{};AtftHelperModule=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule)({declarations:[_axes_helper_component__WEBPACK_IMPORTED_MODULE_3__.a,_empty_component__WEBPACK_IMPORTED_MODULE_4__.a,_grid_helper_component__WEBPACK_IMPORTED_MODULE_5__.a],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_2__.b],exports:[_axes_helper_component__WEBPACK_IMPORTED_MODULE_3__.a,_empty_component__WEBPACK_IMPORTED_MODULE_4__.a,_grid_helper_component__WEBPACK_IMPORTED_MODULE_5__.a]})],AtftHelperModule)},269:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AxesHelperComponent}));var AxesHelperComponent_1,_a,_b,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);let AxesHelperComponent=AxesHelperComponent_1=class AxesHelperComponent extends _abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent}newObject3DInstance(){return new three__WEBPACK_IMPORTED_MODULE_2__.AxesHelper(this.size)}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number)],AxesHelperComponent.prototype,"size",void 0),AxesHelperComponent=AxesHelperComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-axes-helper",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_4__.c)(AxesHelperComponent_1)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object,"function"==typeof(_b=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a)?_b:Object])],AxesHelperComponent)},270:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return GridHelperComponent}));var GridHelperComponent_1,_a,_b,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);let GridHelperComponent=GridHelperComponent_1=class GridHelperComponent extends _abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent}newObject3DInstance(){return new three__WEBPACK_IMPORTED_MODULE_2__.GridHelper(this.size,this.divisions)}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number)],GridHelperComponent.prototype,"size",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number)],GridHelperComponent.prototype,"divisions",void 0),GridHelperComponent=GridHelperComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-grid-helper",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_4__.c)(GridHelperComponent_1)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object,"function"==typeof(_b=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a)?_b:Object])],GridHelperComponent)},271:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AtftCameraModule}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),_perspective_camera_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(272),_orthographic_camera_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(273);let AtftCameraModule=class AtftCameraModule{};AtftCameraModule=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule)({imports:[_angular_common__WEBPACK_IMPORTED_MODULE_2__.b],declarations:[_perspective_camera_component__WEBPACK_IMPORTED_MODULE_3__.a,_orthographic_camera_component__WEBPACK_IMPORTED_MODULE_4__.a],exports:[_perspective_camera_component__WEBPACK_IMPORTED_MODULE_3__.a,_orthographic_camera_component__WEBPACK_IMPORTED_MODULE_4__.a]})],AtftCameraModule)},272:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PerspectiveCameraComponent}));var PerspectiveCameraComponent_1,_a,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),_abstract_camera__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(108);let PerspectiveCameraComponent=PerspectiveCameraComponent_1=class PerspectiveCameraComponent extends _abstract_camera__WEBPACK_IMPORTED_MODULE_5__.a{constructor(rendererService){super(rendererService),this.rendererService=rendererService}createCamera(){this.camera=new three__WEBPACK_IMPORTED_MODULE_2__.PerspectiveCamera(this.fov,void 0,this.near,this.far)}updateAspectRatio(aspect){this.camera.aspect=aspect,this.camera.updateProjectionMatrix()}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number)],PerspectiveCameraComponent.prototype,"fov",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number)],PerspectiveCameraComponent.prototype,"near",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number)],PerspectiveCameraComponent.prototype,"far",void 0),PerspectiveCameraComponent=PerspectiveCameraComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-perspective-camera",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_4__.c)(PerspectiveCameraComponent_1,_abstract_camera__WEBPACK_IMPORTED_MODULE_5__.a)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object])],PerspectiveCameraComponent)},273:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return OrthographicCameraComponent}));var OrthographicCameraComponent_1,_a,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),_abstract_camera__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(108);let OrthographicCameraComponent=OrthographicCameraComponent_1=class OrthographicCameraComponent extends _abstract_camera__WEBPACK_IMPORTED_MODULE_5__.a{constructor(rendererService){super(rendererService),this.rendererService=rendererService,this.zoom=4}createCamera(){this.camera=new three__WEBPACK_IMPORTED_MODULE_2__.OrthographicCamera(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/-2,window.innerHeight/2,.1,1e4),this.updateZoom()}ngOnChanges(changes){if(!this.camera)return;let mustRerender=!1;["zoom"].some(propName=>propName in changes)&&(this.updateZoom(),mustRerender=!0),mustRerender&&this.rendererService.render()}updateZoom(){this.camera.zoom=this.zoom}updateAspectRatio(aspect){this.camera.left=-1e3*aspect/2,this.camera.right=1e3*aspect/2,this.camera.top=500,this.camera.bottom=-500,this.camera.updateProjectionMatrix(),this.camera.lookAt(new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(0,0,0))}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],OrthographicCameraComponent.prototype,"zoom",void 0),OrthographicCameraComponent=OrthographicCameraComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-orthographic-camera",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_4__.c)(OrthographicCameraComponent_1,_abstract_camera__WEBPACK_IMPORTED_MODULE_5__.a)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object])],OrthographicCameraComponent)},274:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AtftObjectModule}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_connector_atft_connector_module__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(275),_helper_atft_helper_module__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(268),_light_atft_light_module__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(278),_loader_atft_loader_module__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(283),_mesh_atft_mesh_module__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(287),_text_atft_text_module__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(296),_angular_common__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9),_scene_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(298),_content_projection_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(229);let AtftObjectModule=class AtftObjectModule{};AtftObjectModule=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule)({imports:[_angular_common__WEBPACK_IMPORTED_MODULE_8__.b,_connector_atft_connector_module__WEBPACK_IMPORTED_MODULE_2__.a,_helper_atft_helper_module__WEBPACK_IMPORTED_MODULE_3__.a,_light_atft_light_module__WEBPACK_IMPORTED_MODULE_4__.a,_loader_atft_loader_module__WEBPACK_IMPORTED_MODULE_5__.a,_mesh_atft_mesh_module__WEBPACK_IMPORTED_MODULE_6__.a,_text_atft_text_module__WEBPACK_IMPORTED_MODULE_7__.a],declarations:[_scene_component__WEBPACK_IMPORTED_MODULE_9__.a,_content_projection_component__WEBPACK_IMPORTED_MODULE_10__.a],exports:[_scene_component__WEBPACK_IMPORTED_MODULE_9__.a,_connector_atft_connector_module__WEBPACK_IMPORTED_MODULE_2__.a,_helper_atft_helper_module__WEBPACK_IMPORTED_MODULE_3__.a,_light_atft_light_module__WEBPACK_IMPORTED_MODULE_4__.a,_loader_atft_loader_module__WEBPACK_IMPORTED_MODULE_5__.a,_mesh_atft_mesh_module__WEBPACK_IMPORTED_MODULE_6__.a,_text_atft_text_module__WEBPACK_IMPORTED_MODULE_7__.a]})],AtftObjectModule)},275:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AtftConnectorModule}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),_mesh_line_connector_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(276),_line_connector_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(277);let AtftConnectorModule=class AtftConnectorModule{};AtftConnectorModule=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule)({declarations:[_line_connector_component__WEBPACK_IMPORTED_MODULE_4__.a,_mesh_line_connector_component__WEBPACK_IMPORTED_MODULE_3__.a],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_2__.b],exports:[_line_connector_component__WEBPACK_IMPORTED_MODULE_4__.a,_mesh_line_connector_component__WEBPACK_IMPORTED_MODULE_3__.a]})],AtftConnectorModule)},276:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MeshLineConnectorComponent}));var MeshLineConnectorComponent_1,_a,_b,_c,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8),three_meshline__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(190),_abstract_connector__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(366),_util_applied_color__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(75),_animation_animation_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(44),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(6);let MeshLineConnectorComponent=MeshLineConnectorComponent_1=class MeshLineConnectorComponent extends _abstract_connector__WEBPACK_IMPORTED_MODULE_6__.a{constructor(rendererService,parent,animationService){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,this.animationService=animationService,this.materialColor=16776960,this.transparent=!0,this.opacity=.5,this.lineWidth=.5,this.depthWrite=!0,this.depthTest=!0,this.animated=!1,this.animationIncrement=.002}createConnectorObject(){this.geometry=this.getLineGeometry(),this.line=new three_meshline__WEBPACK_IMPORTED_MODULE_5__.MeshLine;const arr=this.geometry.getAttribute("position").array;this.line.setGeometry(arr),this.lineMaterial=this.animated?new three_meshline__WEBPACK_IMPORTED_MODULE_5__.MeshLineMaterial({color:Object(_util_applied_color__WEBPACK_IMPORTED_MODULE_7__.a)(this.materialColor),transparent:this.transparent,opacity:this.opacity,lineWidth:this.lineWidth,depthWrite:this.depthWrite,depthTest:this.depthTest,side:three__WEBPACK_IMPORTED_MODULE_2__.DoubleSide,blending:three__WEBPACK_IMPORTED_MODULE_2__.NormalBlending,dashArray:.05,dashOffset:.1,dashRatio:.1}):new three_meshline__WEBPACK_IMPORTED_MODULE_5__.MeshLineMaterial({color:Object(_util_applied_color__WEBPACK_IMPORTED_MODULE_7__.a)(this.materialColor),transparent:this.transparent,opacity:this.opacity,lineWidth:this.lineWidth,depthWrite:this.depthWrite,depthTest:this.depthTest,side:three__WEBPACK_IMPORTED_MODULE_2__.DoubleSide,blending:three__WEBPACK_IMPORTED_MODULE_2__.NormalBlending});const mesh=new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(this.line.geometry,this.lineMaterial);return this.animated&&(this.animate=this.animate.bind(this),this.animationService.animate.subscribe(this.animate)),mesh}animate(){this.lineMaterial.uniforms.dashOffset.value+=this.animationIncrement}updateLineGeometry(){this.geometry=this.getLineGeometry(),this.line.setGeometry(this.geometry),this.rendererService.render()}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],MeshLineConnectorComponent.prototype,"materialColor",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],MeshLineConnectorComponent.prototype,"transparent",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],MeshLineConnectorComponent.prototype,"opacity",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],MeshLineConnectorComponent.prototype,"lineWidth",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],MeshLineConnectorComponent.prototype,"depthWrite",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],MeshLineConnectorComponent.prototype,"depthTest",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],MeshLineConnectorComponent.prototype,"animated",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],MeshLineConnectorComponent.prototype,"animationIncrement",void 0),MeshLineConnectorComponent=MeshLineConnectorComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-mesh-line-connector",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_3__.c)(MeshLineConnectorComponent_1)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_9__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_9__.a)?_a:Object,"function"==typeof(_b=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_4__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_4__.a)?_b:Object,"function"==typeof(_c=void 0!==_animation_animation_service__WEBPACK_IMPORTED_MODULE_8__.a&&_animation_animation_service__WEBPACK_IMPORTED_MODULE_8__.a)?_c:Object])],MeshLineConnectorComponent)},277:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LineConnectorComponent}));var LineConnectorComponent_1,_a,_b,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),_util_applied_color__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(75),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8),_abstract_connector__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(366);let LineConnectorComponent=LineConnectorComponent_1=class LineConnectorComponent extends _abstract_connector__WEBPACK_IMPORTED_MODULE_7__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,this.materialColor=16776960}createConnectorObject(){this.geometry=this.getLineGeometry();const material=new three__WEBPACK_IMPORTED_MODULE_2__.LineBasicMaterial({color:Object(_util_applied_color__WEBPACK_IMPORTED_MODULE_5__.a)(this.materialColor),linewidth:1});return this.line=new three__WEBPACK_IMPORTED_MODULE_2__.Line(this.geometry,material),this.line}updateLineGeometry(){this.geometry=this.getLineGeometry(),this.line.geometry=this.geometry,this.rendererService.render()}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],LineConnectorComponent.prototype,"materialColor",void 0),LineConnectorComponent=LineConnectorComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-line-connector",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_4__.c)(LineConnectorComponent_1)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object,"function"==typeof(_b=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_6__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_6__.a)?_b:Object])],LineConnectorComponent)},278:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AtftLightModule}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),_point_light_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(279),_hemisphere_light_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(280),_directional_light_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(281),_ambient_light_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(282);let AtftLightModule=class AtftLightModule{};AtftLightModule=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule)({declarations:[_directional_light_component__WEBPACK_IMPORTED_MODULE_5__.a,_hemisphere_light_component__WEBPACK_IMPORTED_MODULE_4__.a,_point_light_component__WEBPACK_IMPORTED_MODULE_3__.a,_ambient_light_component__WEBPACK_IMPORTED_MODULE_6__.a],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_2__.b],exports:[_directional_light_component__WEBPACK_IMPORTED_MODULE_5__.a,_hemisphere_light_component__WEBPACK_IMPORTED_MODULE_4__.a,_point_light_component__WEBPACK_IMPORTED_MODULE_3__.a,_ambient_light_component__WEBPACK_IMPORTED_MODULE_6__.a]})],AtftLightModule)},279:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PointLightComponent}));var PointLightComponent_1,_a,_b,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);let PointLightComponent=PointLightComponent_1=class PointLightComponent extends _abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,this.color=16777215,this.intensity=1,this.distance=500,this.castShadow=!1}newObject3DInstance(){const light=new three__WEBPACK_IMPORTED_MODULE_2__.PointLight(Object(_util__WEBPACK_IMPORTED_MODULE_4__.a)(this.color),this.intensity,this.distance);return!0===this.castShadow&&(light.castShadow=this.castShadow,light.shadow.mapSize.width=1024,light.shadow.mapSize.height=1024,light.shadow.camera.near=.5,light.shadow.camera.far=500,light.shadow.bias=-.001,light.shadow.radius=1),light}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],PointLightComponent.prototype,"color",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],PointLightComponent.prototype,"intensity",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],PointLightComponent.prototype,"distance",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],PointLightComponent.prototype,"castShadow",void 0),PointLightComponent=PointLightComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-point-light",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_4__.c)(PointLightComponent_1)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object,"function"==typeof(_b=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a)?_b:Object])],PointLightComponent)},280:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return HemisphereLightComponent}));var HemisphereLightComponent_1,_a,_b,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),_util_applied_color__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(75),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8);let HemisphereLightComponent=HemisphereLightComponent_1=class HemisphereLightComponent extends _abstract_object_3d__WEBPACK_IMPORTED_MODULE_6__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,this.skyColor=16777215,this.groundColor=4473924,this.intensity=1}newObject3DInstance(){return new three__WEBPACK_IMPORTED_MODULE_2__.HemisphereLight(Object(_util_applied_color__WEBPACK_IMPORTED_MODULE_5__.a)(this.skyColor),Object(_util_applied_color__WEBPACK_IMPORTED_MODULE_5__.a)(this.groundColor),Object(_util_applied_color__WEBPACK_IMPORTED_MODULE_5__.a)(this.intensity))}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],HemisphereLightComponent.prototype,"skyColor",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],HemisphereLightComponent.prototype,"groundColor",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],HemisphereLightComponent.prototype,"intensity",void 0),HemisphereLightComponent=HemisphereLightComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-hemisphere-light",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_4__.c)(HemisphereLightComponent_1)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object,"function"==typeof(_b=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_6__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_6__.a)?_b:Object])],HemisphereLightComponent)},281:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DirectionalLightComponent}));var DirectionalLightComponent_1,_a,_b,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),_util_applied_color__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(75),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8);let DirectionalLightComponent=DirectionalLightComponent_1=class DirectionalLightComponent extends _abstract_object_3d__WEBPACK_IMPORTED_MODULE_6__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,this.color=16777215,this.intensity=1,this.target=new three__WEBPACK_IMPORTED_MODULE_2__.Object3D,this.castShadow=!0}newObject3DInstance(){const light=new three__WEBPACK_IMPORTED_MODULE_2__.DirectionalLight(Object(_util_applied_color__WEBPACK_IMPORTED_MODULE_5__.a)(this.color),this.intensity);return light.target=this.target,!0===this.castShadow&&(light.castShadow=this.castShadow,light.shadow.camera.top=100,light.shadow.camera.bottom=-100,light.shadow.camera.left=-100,light.shadow.camera.right=100,light.shadow.camera.near=.1,light.shadow.camera.far=500,light.shadow.mapSize.set(1024,1024),light.shadow.bias=-.001),light}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],DirectionalLightComponent.prototype,"color",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],DirectionalLightComponent.prototype,"intensity",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],DirectionalLightComponent.prototype,"target",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],DirectionalLightComponent.prototype,"castShadow",void 0),DirectionalLightComponent=DirectionalLightComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-directional-light",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_4__.c)(DirectionalLightComponent_1)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object,"function"==typeof(_b=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_6__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_6__.a)?_b:Object])],DirectionalLightComponent)},282:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AmbientLightComponent}));var AmbientLightComponent_1,_a,_b,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8);let AmbientLightComponent=AmbientLightComponent_1=class AmbientLightComponent extends _abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,this.color=16777215,this.intensity=.8}newObject3DInstance(){const light=new three__WEBPACK_IMPORTED_MODULE_2__.AmbientLight(Object(_util__WEBPACK_IMPORTED_MODULE_4__.a)(this.color));return light.intensity=this.intensity,light}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],AmbientLightComponent.prototype,"color",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],AmbientLightComponent.prototype,"intensity",void 0),AmbientLightComponent=AmbientLightComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-ambient-light",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_4__.c)(AmbientLightComponent_1)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object,"function"==typeof(_b=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a)?_b:Object])],AmbientLightComponent)},283:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AtftLoaderModule}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),_object_loader_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(284),_obj_loader_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(285),_svg_loader_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(286);let AtftLoaderModule=class AtftLoaderModule{};AtftLoaderModule=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule)({declarations:[_obj_loader_component__WEBPACK_IMPORTED_MODULE_4__.a,_object_loader_component__WEBPACK_IMPORTED_MODULE_3__.a,_svg_loader_component__WEBPACK_IMPORTED_MODULE_5__.a],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_2__.b],exports:[_obj_loader_component__WEBPACK_IMPORTED_MODULE_4__.a,_object_loader_component__WEBPACK_IMPORTED_MODULE_3__.a,_svg_loader_component__WEBPACK_IMPORTED_MODULE_5__.a]})],AtftLoaderModule)},284:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ObjectLoaderComponent}));var ObjectLoaderComponent_1,_a,_b,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8),_abstract_model_loader__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(182);let ObjectLoaderComponent=ObjectLoaderComponent_1=class ObjectLoaderComponent extends _abstract_model_loader__WEBPACK_IMPORTED_MODULE_6__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,this.loader=new three__WEBPACK_IMPORTED_MODULE_2__.ObjectLoader}loadLazyObject(){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){return new Promise((resolve,reject)=>{this.loader.load(this.model,model=>{resolve(model)},void 0,reject)})}))}};ObjectLoaderComponent=ObjectLoaderComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-object-loader",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_4__.c)(ObjectLoaderComponent_1)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object,"function"==typeof(_b=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a)?_b:Object])],ObjectLoaderComponent)},285:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ObjLoaderComponent}));var ObjLoaderComponent_1,_a,_b,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three_examples_jsm_loaders_MTLLoader__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(367),three_examples_jsm_loaders_OBJLoader__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(368),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8),_abstract_model_loader__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(182);let ObjLoaderComponent=ObjLoaderComponent_1=class ObjLoaderComponent extends _abstract_model_loader__WEBPACK_IMPORTED_MODULE_7__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,this.loader=new three_examples_jsm_loaders_OBJLoader__WEBPACK_IMPORTED_MODULE_3__.a,this.mtlLoader=new three_examples_jsm_loaders_MTLLoader__WEBPACK_IMPORTED_MODULE_2__.a}set texturePath(newTexturePath){this.resourcePath=newTexturePath}loadLazyObject(){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){return new Promise((resolve,reject)=>{void 0===this.material?resolve():(this.mtlLoader.setResourcePath(this.resourcePath),this.mtlLoader.load(this.material,materialCreator=>{materialCreator.preload(),this.loader.setMaterials(materialCreator),resolve()},void 0,reject))}).then(()=>new Promise((resolve,reject)=>{this.loader.load(this.model,model=>{resolve(model)},void 0,reject)}))}))}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",String)],ObjLoaderComponent.prototype,"material",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",String),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",[String])],ObjLoaderComponent.prototype,"texturePath",null),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",String)],ObjLoaderComponent.prototype,"resourcePath",void 0),ObjLoaderComponent=ObjLoaderComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-obj-loader",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_5__.c)(ObjLoaderComponent_1)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_4__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_4__.a)?_a:Object,"function"==typeof(_b=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_6__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_6__.a)?_b:Object])],ObjLoaderComponent)},286:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SVGLoaderComponent}));var SVGLoaderComponent_1,_a,_b,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),three_examples_jsm_loaders_SVGLoader__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(369),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_util__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(13),_util_fix_center__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(227),_util_scale_to_fit__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(355),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(8),_abstract_model_loader__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(182);let SVGLoaderComponent=SVGLoaderComponent_1=class SVGLoaderComponent extends _abstract_model_loader__WEBPACK_IMPORTED_MODULE_9__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,this._overrideMaterialColor=void 0,this.material="basic",this.depthWrite=!0,this.centered=!0,this.loader=new three_examples_jsm_loaders_SVGLoader__WEBPACK_IMPORTED_MODULE_3__.a}get overrideMaterialColor(){return this._overrideMaterialColor}set overrideMaterialColor(value){this._overrideMaterialColor=value,this.startLoading()}loadLazyObject(){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){return new Promise((resolve,reject)=>{this.loader.load(this.model,data=>{const paths=data.paths,group=new three__WEBPACK_IMPORTED_MODULE_2__.Group;for(let i=0;i<paths.length;i++){const path=paths[i],color=this._overrideMaterialColor?Object(_util__WEBPACK_IMPORTED_MODULE_5__.a)(this._overrideMaterialColor):path.color,material=Object(_util__WEBPACK_IMPORTED_MODULE_5__.b)(color,this.material,this.depthWrite),shapes=path.toShapes(!0,{});for(let j=0;j<shapes.length;j++){const shape=shapes[j],geometry=new three__WEBPACK_IMPORTED_MODULE_2__.ShapeBufferGeometry(shape),mesh=new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(geometry,material);group.add(mesh)}}(this.maxX||this.maxY)&&Object(_util_scale_to_fit__WEBPACK_IMPORTED_MODULE_7__.a)(group,new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(this.maxX,this.maxY,0)),this.centered&&Object(_util_fix_center__WEBPACK_IMPORTED_MODULE_6__.a)(group),resolve(group)},void 0,reject)})}))}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",[Number])],SVGLoaderComponent.prototype,"overrideMaterialColor",null),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],SVGLoaderComponent.prototype,"material",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],SVGLoaderComponent.prototype,"depthWrite",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number)],SVGLoaderComponent.prototype,"maxX",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number)],SVGLoaderComponent.prototype,"maxY",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],SVGLoaderComponent.prototype,"centered",void 0),SVGLoaderComponent=SVGLoaderComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-svg-loader",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_5__.c)(SVGLoaderComponent_1)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_4__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_4__.a)?_a:Object,"function"==typeof(_b=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_8__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_8__.a)?_b:Object])],SVGLoaderComponent)},287:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AtftMeshModule}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),_box_mesh_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(163),_cylinder_mesh_component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(288),_frame_mesh_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(289),_plane_mesh_component__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(290),_sphere_mesh_component__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(291),_torus_mesh_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(292),_grid_mesh_component__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(293),_video_mesh_component__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(294);let AtftMeshModule=class AtftMeshModule{};AtftMeshModule=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule)({declarations:[_box_mesh_component__WEBPACK_IMPORTED_MODULE_3__.a,_cylinder_mesh_component__WEBPACK_IMPORTED_MODULE_4__.a,_frame_mesh_component__WEBPACK_IMPORTED_MODULE_5__.a,_plane_mesh_component__WEBPACK_IMPORTED_MODULE_6__.a,_sphere_mesh_component__WEBPACK_IMPORTED_MODULE_7__.a,_torus_mesh_component__WEBPACK_IMPORTED_MODULE_8__.a,_grid_mesh_component__WEBPACK_IMPORTED_MODULE_9__.a,_video_mesh_component__WEBPACK_IMPORTED_MODULE_10__.a],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_2__.b],exports:[_box_mesh_component__WEBPACK_IMPORTED_MODULE_3__.a,_cylinder_mesh_component__WEBPACK_IMPORTED_MODULE_4__.a,_frame_mesh_component__WEBPACK_IMPORTED_MODULE_5__.a,_plane_mesh_component__WEBPACK_IMPORTED_MODULE_6__.a,_sphere_mesh_component__WEBPACK_IMPORTED_MODULE_7__.a,_torus_mesh_component__WEBPACK_IMPORTED_MODULE_8__.a,_grid_mesh_component__WEBPACK_IMPORTED_MODULE_9__.a,_video_mesh_component__WEBPACK_IMPORTED_MODULE_10__.a]})],AtftMeshModule)},288:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CylinderMeshComponent}));var CylinderMeshComponent_1,_a,_b,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13),_abstract_mesh_3d__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(84),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6);let CylinderMeshComponent=CylinderMeshComponent_1=class CylinderMeshComponent extends _abstract_mesh_3d__WEBPACK_IMPORTED_MODULE_4__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,this.radiusTop=1,this.radiusBottom=1,this.height=1,this.radialSegments=8,this.heightSegments=1,this.openEnded=!1,this.thetaStart=0,this.thetaLength=2*Math.PI}newObject3DInstance(){const geometry=new three__WEBPACK_IMPORTED_MODULE_2__.CylinderGeometry(this.radiusTop,this.radiusBottom,this.height,this.radialSegments,this.heightSegments,this.openEnded,this.thetaStart,this.thetaLength),material=this.getMaterial(),mesh=new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(geometry,material);return this.applyShadowProps(mesh),mesh}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],CylinderMeshComponent.prototype,"radiusTop",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],CylinderMeshComponent.prototype,"radiusBottom",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],CylinderMeshComponent.prototype,"height",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],CylinderMeshComponent.prototype,"radialSegments",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],CylinderMeshComponent.prototype,"heightSegments",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],CylinderMeshComponent.prototype,"openEnded",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],CylinderMeshComponent.prototype,"thetaStart",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],CylinderMeshComponent.prototype,"thetaLength",void 0),CylinderMeshComponent=CylinderMeshComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-cylinder-mesh",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_3__.c)(CylinderMeshComponent_1)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_6__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_6__.a)?_a:Object,"function"==typeof(_b=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a)?_b:Object])],CylinderMeshComponent)},289:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FrameMeshComponent}));var FrameMeshComponent_1,_a,_b,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8),_abstract_mesh_3d__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(84);let FrameMeshComponent=FrameMeshComponent_1=class FrameMeshComponent extends _abstract_mesh_3d__WEBPACK_IMPORTED_MODULE_6__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,this.thickness=2,this.sizeX=20,this.sizeY=20}newObject3DInstance(){const halfX=this.sizeX/2,halfY=this.sizeY/2,t=this.thickness,shape=new three__WEBPACK_IMPORTED_MODULE_2__.Shape;shape.moveTo(-halfX,halfY),shape.lineTo(-halfX-t,halfY+t),shape.lineTo(halfX+t,halfY+t),shape.lineTo(halfX+t,-halfY-t),shape.lineTo(-halfX-t,-halfY-t),shape.lineTo(-halfX-t,halfY+t),shape.lineTo(-halfX,halfY),shape.lineTo(-halfX,-halfY),shape.lineTo(halfX,-halfY),shape.lineTo(halfX,halfY),shape.lineTo(-halfX,halfY);const geometry=new three__WEBPACK_IMPORTED_MODULE_2__.ShapeBufferGeometry(shape),material=this.getMaterial(),mesh=new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(geometry,material);return this.applyShadowProps(mesh),mesh}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],FrameMeshComponent.prototype,"thickness",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],FrameMeshComponent.prototype,"sizeX",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],FrameMeshComponent.prototype,"sizeY",void 0),FrameMeshComponent=FrameMeshComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-frame-mesh",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_4__.c)(FrameMeshComponent_1)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object,"function"==typeof(_b=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a)?_b:Object])],FrameMeshComponent)},290:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PlaneMeshComponent}));var PlaneMeshComponent_1,_a,_b,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8),_abstract_mesh_3d__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(84);let PlaneMeshComponent=PlaneMeshComponent_1=class PlaneMeshComponent extends _abstract_mesh_3d__WEBPACK_IMPORTED_MODULE_6__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,this.width=1,this.height=1,this.widthSegments=1,this.heightSegments=1}newObject3DInstance(){const geometry=new three__WEBPACK_IMPORTED_MODULE_2__.PlaneBufferGeometry(this.width,this.height,this.widthSegments,this.heightSegments),material=this.getMaterial(),mesh=new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(geometry,material);return this.applyShadowProps(mesh),mesh}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],PlaneMeshComponent.prototype,"width",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],PlaneMeshComponent.prototype,"height",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],PlaneMeshComponent.prototype,"widthSegments",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],PlaneMeshComponent.prototype,"heightSegments",void 0),PlaneMeshComponent=PlaneMeshComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-plane-mesh",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_4__.c)(PlaneMeshComponent_1)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object,"function"==typeof(_b=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a)?_b:Object])],PlaneMeshComponent)},291:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SphereMeshComponent}));var SphereMeshComponent_1,_a,_b,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8),_abstract_mesh_3d__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(84);let SphereMeshComponent=SphereMeshComponent_1=class SphereMeshComponent extends _abstract_mesh_3d__WEBPACK_IMPORTED_MODULE_6__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent}newObject3DInstance(){const geometry=new three__WEBPACK_IMPORTED_MODULE_2__.SphereGeometry(this.radius,this.widthSegments,this.hightSegments),material=this.getMaterial(),mesh=new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(geometry,material);return this.applyShadowProps(mesh),mesh}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number)],SphereMeshComponent.prototype,"radius",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number)],SphereMeshComponent.prototype,"widthSegments",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number)],SphereMeshComponent.prototype,"hightSegments",void 0),SphereMeshComponent=SphereMeshComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-sphere-mesh",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_4__.c)(SphereMeshComponent_1)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object,"function"==typeof(_b=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a)?_b:Object])],SphereMeshComponent)},292:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return TorusMeshComponent}));var TorusMeshComponent_1,_a,_b,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8),_abstract_mesh_3d__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(84);let TorusMeshComponent=TorusMeshComponent_1=class TorusMeshComponent extends _abstract_mesh_3d__WEBPACK_IMPORTED_MODULE_6__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,this.radius=.4,this.radialSegments=8,this.tubularSegments=6,this.arc=2*Math.PI}newObject3DInstance(){this.radius*=1,this.tube*=1,this.radialSegments*=1,this.tubularSegments*=1;const geometry=new three__WEBPACK_IMPORTED_MODULE_2__.TorusGeometry(this.radius,this.tube,this.radialSegments,this.tubularSegments),material=this.getMaterial(),mesh=new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(geometry,material);return this.applyShadowProps(mesh),mesh}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],TorusMeshComponent.prototype,"radius",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number)],TorusMeshComponent.prototype,"tube",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],TorusMeshComponent.prototype,"radialSegments",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],TorusMeshComponent.prototype,"tubularSegments",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number)],TorusMeshComponent.prototype,"arc",void 0),TorusMeshComponent=TorusMeshComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-torus-mesh",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_4__.c)(TorusMeshComponent_1)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object,"function"==typeof(_b=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a)?_b:Object])],TorusMeshComponent)},293:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return GridMeshComponent}));var GridMeshComponent_1,_a,_b,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8),_abstract_mesh_3d__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(84);let GridMeshComponent=GridMeshComponent_1=class GridMeshComponent extends _abstract_mesh_3d__WEBPACK_IMPORTED_MODULE_6__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,this.size=5,this.iterationsX=30,this.iterationsY=30,this.offset=1.05}newObject3DInstance(){const geometry=new three__WEBPACK_IMPORTED_MODULE_2__.BufferGeometry,vertices=[],d=this.size,x0=-this.iterationsX*(d*this.offset)/2,y0=-this.iterationsY*(d*this.offset)/2;let x=x0,y=y0;for(let i=0;i<this.iterationsX;i++){for(let j=0;j<this.iterationsY;j++)vertices.push(x,y,0),vertices.push(x+d,y+d,0),vertices.push(x,y+d,0),vertices.push(x+d,y+d,0),vertices.push(x,y,0),vertices.push(x+d,y,0),y+=this.size*this.offset;y=y0,x+=this.size*this.offset}geometry.setAttribute("position",new three__WEBPACK_IMPORTED_MODULE_2__.BufferAttribute(new Float32Array(vertices),3));const material=this.getMaterial(),mesh=new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(geometry,material);return geometry.computeBoundingBox(),geometry.computeVertexNormals(),this.applyShadowProps(mesh),mesh}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],GridMeshComponent.prototype,"size",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],GridMeshComponent.prototype,"iterationsX",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],GridMeshComponent.prototype,"iterationsY",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],GridMeshComponent.prototype,"offset",void 0),GridMeshComponent=GridMeshComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-grid-mesh",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_4__.c)(GridMeshComponent_1)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object,"function"==typeof(_b=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a)?_b:Object])],GridMeshComponent)},294:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return VideoMeshComponent}));var VideoMeshComponent_1,_a,_b,_c,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8),_abstract_mesh_3d__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(84),_animation__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(92);let VideoMeshComponent=VideoMeshComponent_1=class VideoMeshComponent extends _abstract_mesh_3d__WEBPACK_IMPORTED_MODULE_6__.a{constructor(rendererService,parent,animationService){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,this.animationService=animationService,this.width=1,this.height=1,this.type="video/mp4",this.autoplay=!0,this.loop=!0,this.muted=!0,this.video=document.createElement("video"),this.widthSegments=1,this.heightSegments=1}newObject3DInstance(){const geometry=new three__WEBPACK_IMPORTED_MODULE_2__.PlaneBufferGeometry(this.width,this.height,this.widthSegments,this.heightSegments),material=this.getMaterial(),mesh=new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(geometry,material);return this.applyShadowProps(mesh),mesh}getMaterial(){const source=document.createElement("source");source.src=this.videoSrc,source.type=this.type,this.video.appendChild(source),this.video.crossOrigin="anonymous",this.video.autoplay=!1,this.video.loop=this.loop,this.video.muted=this.muted;const texture=new three__WEBPACK_IMPORTED_MODULE_2__.VideoTexture(this.video);return new three__WEBPACK_IMPORTED_MODULE_2__.MeshBasicMaterial({color:16777215,map:texture})}animate(){}ngAfterViewInit(){super.ngAfterViewInit(),this.autoplay&&(this.animationService.start(),this.animate=this.animate.bind(this),this.animationService.animate.subscribe(this.animate),this.video.load(),this.video.addEventListener("canplay",()=>{this.video&&this.video.play()}))}ngOnDestroy(){this.video&&(this.animationService.animate.unsubscribe(),this.video.pause(),this.video.remove())}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],VideoMeshComponent.prototype,"width",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],VideoMeshComponent.prototype,"height",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],VideoMeshComponent.prototype,"videoSrc",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],VideoMeshComponent.prototype,"type",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],VideoMeshComponent.prototype,"autoplay",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],VideoMeshComponent.prototype,"loop",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],VideoMeshComponent.prototype,"muted",void 0),VideoMeshComponent=VideoMeshComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-video-mesh",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_4__.c)(VideoMeshComponent_1)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object,"function"==typeof(_b=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_5__.a)?_b:Object,"function"==typeof(_c=void 0!==_animation__WEBPACK_IMPORTED_MODULE_7__.a&&_animation__WEBPACK_IMPORTED_MODULE_7__.a)?_c:Object])],VideoMeshComponent)},295:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AtftAnimationModule}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_animation_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(44);let AtftAnimationModule=class AtftAnimationModule{};AtftAnimationModule=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule)({providers:[_animation_service__WEBPACK_IMPORTED_MODULE_2__.a]})],AtftAnimationModule)},296:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AtftTextModule}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_angular_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9),_text_mesh_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(297);let AtftTextModule=class AtftTextModule{};AtftTextModule=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule)({declarations:[_text_mesh_component__WEBPACK_IMPORTED_MODULE_3__.a],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_2__.b],exports:[_text_mesh_component__WEBPACK_IMPORTED_MODULE_3__.a]})],AtftTextModule)},297:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return TextMeshComponent}));var TextMeshComponent_1,_a,_b,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),_util_fix_center__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(227),_abstract_lazy_object_3d__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(228),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(8);let TextMeshComponent=TextMeshComponent_1=class TextMeshComponent extends _abstract_lazy_object_3d__WEBPACK_IMPORTED_MODULE_6__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,this.material="basic",this._materialColor=14342874,this._text="Text",this.size=10,this.height=.3,this.curveSegments=2,this.bevelEnabled=!1,this.bevelThickness=.1,this.bevelSize=.1,this.bevelOffset=0,this.bevelSegments=1,this.fontUrl="./assets/font/helvetiker_regular.typeface.json",this.castShadow=!0,this.receiveShadow=!0,this.depthWrite=!0,this.centered=!0}set materialColor(materialColor){this._materialColor=materialColor,this.startLoading()}get materialColor(){return this._materialColor}set text(text){this._text=text,this.startLoading()}get text(){return this._text}getMaterial(){return Object(_util__WEBPACK_IMPORTED_MODULE_4__.b)(this.materialColor,this.material,this.depthWrite)}loadLazyObject(){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){return this.fontCache?new Promise(resolve=>{resolve(this.getTextMesh(this.fontCache))}):new Promise(resolve=>{(new three__WEBPACK_IMPORTED_MODULE_2__.FontLoader).load(this.fontUrl,font=>{this.fontCache=font,resolve(this.getTextMesh(font))})})}))}getTextMesh(font){const geometry=new three__WEBPACK_IMPORTED_MODULE_2__.TextGeometry(this.text,{font:font,size:this.size,height:this.height,curveSegments:this.curveSegments,bevelEnabled:this.bevelEnabled,bevelThickness:this.bevelThickness,bevelSize:this.bevelSize,bevelOffset:this.bevelOffset,bevelSegments:this.bevelOffset}),material=this.getMaterial(),mesh=new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(geometry,material);return mesh.castShadow=this.castShadow,mesh.receiveShadow=this.receiveShadow,this.centered&&Object(_util_fix_center__WEBPACK_IMPORTED_MODULE_5__.a)(mesh),mesh}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],TextMeshComponent.prototype,"material",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",[Number])],TextMeshComponent.prototype,"materialColor",null),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",String),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",[String])],TextMeshComponent.prototype,"text",null),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],TextMeshComponent.prototype,"size",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],TextMeshComponent.prototype,"height",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],TextMeshComponent.prototype,"curveSegments",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],TextMeshComponent.prototype,"bevelEnabled",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],TextMeshComponent.prototype,"bevelThickness",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],TextMeshComponent.prototype,"bevelSize",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],TextMeshComponent.prototype,"bevelOffset",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],TextMeshComponent.prototype,"bevelSegments",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],TextMeshComponent.prototype,"fontUrl",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],TextMeshComponent.prototype,"castShadow",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],TextMeshComponent.prototype,"receiveShadow",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],TextMeshComponent.prototype,"depthWrite",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],TextMeshComponent.prototype,"centered",void 0),TextMeshComponent=TextMeshComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-text-mesh",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_4__.c)(TextMeshComponent_1)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object,"function"==typeof(_b=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_7__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_7__.a)?_b:Object])],TextMeshComponent)},298:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SceneComponent}));var SceneComponent_1,_a,_b,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),_util_applied_color__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(75),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8);let SceneComponent=SceneComponent_1=class SceneComponent extends _abstract_object_3d__WEBPACK_IMPORTED_MODULE_6__.a{constructor(rendererService,parent){super(rendererService,parent),this.rendererService=rendererService,this.parent=parent,this.background=16777215,rendererService.setScene(this)}newObject3DInstance(){const scene=new three__WEBPACK_IMPORTED_MODULE_2__.Scene;return scene.background=new three__WEBPACK_IMPORTED_MODULE_2__.Color(Object(_util_applied_color__WEBPACK_IMPORTED_MODULE_5__.a)(this.background)),scene}updateParent(){}ngOnChanges(changes){if(super.ngOnChanges(changes),!this.object)return;let modified=!1;["background"].some(propName=>propName in changes)&&(this.getObject().background=new three__WEBPACK_IMPORTED_MODULE_2__.Color(Object(_util_applied_color__WEBPACK_IMPORTED_MODULE_5__.a)(this.background)),modified=!0),modified&&this.rendererService.render()}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],SceneComponent.prototype,"background",void 0),SceneComponent=SceneComponent_1=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"atft-scene",providers:[Object(_util__WEBPACK_IMPORTED_MODULE_4__.c)(SceneComponent_1)],template:"<ng-content></ng-content>"}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object,"function"==typeof(_b=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_6__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_6__.a)?_b:Object])],SceneComponent)},299:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AtftRendererModule}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_renderer_canvas_component__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(164),_angular_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9),_renderer_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6);let AtftRendererModule=class AtftRendererModule{};AtftRendererModule=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule)({imports:[_angular_common__WEBPACK_IMPORTED_MODULE_3__.b],declarations:[_renderer_canvas_component__WEBPACK_IMPORTED_MODULE_2__.a],providers:[_renderer_service__WEBPACK_IMPORTED_MODULE_4__.a],exports:[_renderer_canvas_component__WEBPACK_IMPORTED_MODULE_2__.a]})],AtftRendererModule)},347:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="<canvas #canvas>\n  <ng-content></ng-content>\n</canvas>\n"},348:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=":host {\n  display: flex;\n  flex: 1;\n  height: 100%;\n}\n\ncanvas {\n  flex: 1;\n  outline: none;\n}"},355:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return scaleToFit}));var _calculate_size__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(226);function scaleToFit(group,max){const box=Object(_calculate_size__WEBPACK_IMPORTED_MODULE_0__.a)(group),scaleX=max.x/box.x,scaleY=max.y/box.y,scaleZ=max.z/box.z;group.scale.set(scaleX<1?scaleX:1,scaleY<1?scaleY:1,scaleZ<1?scaleZ:1)}},366:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AbstractConnector}));var _a,_b,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8);let AbstractConnector=class AbstractConnector extends _abstract_object_3d__WEBPACK_IMPORTED_MODULE_3__.a{newObject3DInstance(){const mesh=this.createConnectorObject();return this.watchObjects(),mesh}watchObjects(){this.source.changed.subscribe(item=>{this.updateLineGeometry()}),this.target.changed.subscribe(item=>{this.updateLineGeometry()})}getLineGeometry(){if(!this.source||!this.target)throw new Error("AbstractConnector: source or target inputs are missing!");const geometry=new three__WEBPACK_IMPORTED_MODULE_2__.BufferGeometry,positions=[],source=this.source.getObject().position,target=this.target.getObject().position;return positions.push(source.x,source.y,source.z),positions.push(target.x,target.y,target.z),geometry.setAttribute("position",new three__WEBPACK_IMPORTED_MODULE_2__.Float32BufferAttribute(positions,3)),geometry}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type","function"==typeof(_a=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_3__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object)],AbstractConnector.prototype,"source",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type","function"==typeof(_b=void 0!==_abstract_object_3d__WEBPACK_IMPORTED_MODULE_3__.a&&_abstract_object_3d__WEBPACK_IMPORTED_MODULE_3__.a)?_b:Object)],AbstractConnector.prototype,"target",void 0),AbstractConnector=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive)()],AbstractConnector)},373:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return uxSceneWrapper}));const uxSceneWrapper=content=>`\n    <atft-renderer-canvas>\n      <atft-orthographic-camera [positionX]=0 [positionY]=0 [positionZ]="100" [zoom]="4">\n      </atft-orthographic-camera>\n\n      <atft-scene name="scene" background="0xFFFFFF">\n        <atft-ambient-light color="0xFFFFFF" intensity="0.4"></atft-ambient-light>\n\n        <atft-point-light intensity="0.5" distance="1000" translateX=90 translateY=90\n                          translateZ=90></atft-point-light>\n        <atft-point-light intensity="0.8" distance="1000" [translateX]="-60" [translateY]="-60"\n                          [translateZ]="50"></atft-point-light>\n\n        ${content}\n\n      </atft-scene>\n    </atft-renderer-canvas>\n`},44:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AnimationService}));var _a,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6);let AnimationService=class AnimationService{constructor(rendererService){this.rendererService=rendererService,this.animate=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter,this.enabled=!1,this.animationStep=this.animationStep.bind(this)}start(){this.enabled||(this.enabled=!0,this.animationStep())}stop(){this.enabled&&(this.enabled=!1)}animationStep(){this.enabled&&this.animate.observers&&(requestAnimationFrame(this.animationStep),this.animate.observers.length>0&&(this.animate.emit(),this.rendererService.render()))}};AnimationService=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_2__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_2__.a)?_a:Object])],AnimationService)},478:function(module,__webpack_exports__,__webpack_require__){"use strict";var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(657),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__)()(!1);___CSS_LOADER_EXPORT___.push([module.i,"/* You can add global styles to this file, and also import other style files */\nhtml, body {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n}",""]),__webpack_exports__.a=___CSS_LOADER_EXPORT___},584:function(module,exports){function webpackEmptyAsyncContext(req){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}))}webpackEmptyAsyncContext.keys=function(){return[]},webpackEmptyAsyncContext.resolve=webpackEmptyAsyncContext,module.exports=webpackEmptyAsyncContext,webpackEmptyAsyncContext.id=584},6:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return RendererService}));var _a,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),three__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),_stats_stats_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(187);let RendererService=class RendererService{constructor(statsService){this.statsService=statsService,this.init=!1}ngOnDestroy(){}setScene(scene){this.scene=scene}setCamera(camera){this.camera=camera,this.camera.updateAspectRatio(this.aspect)}render(){this.init&&this.scene&&this.camera&&(this.composer?(this.composer.render(),this.composer.renderToScreen||this.webGlRenderer.render(this.scene.getObject(),this.camera.camera)):this.webGlRenderer.render(this.scene.getObject(),this.camera.camera),this.statsService.update())}initialize(canvas){this.webGlRenderer=new three__WEBPACK_IMPORTED_MODULE_2__.WebGLRenderer({canvas:canvas,antialias:!0,alpha:!0}),this.webGlRenderer.setPixelRatio(window.devicePixelRatio),this.webGlRenderer.setSize(canvas.clientWidth,canvas.clientHeight,!0),this.webGlRenderer.shadowMap.enabled=!1,this.webGlRenderer.shadowMap.autoUpdate=!1,this.webGlRenderer.shadowMap.type=three__WEBPACK_IMPORTED_MODULE_2__.PCFSoftShadowMap,this.webGlRenderer.setClearColor(0,0),this.webGlRenderer.autoClear=!0,canvas.style.zIndex="2",this.updateChildCamerasAspectRatio(canvas),this.init=!0,this.render()}resize(canvas,size){canvas.style.width=size,canvas.style.height=size,canvas.style.border="none";const width=canvas.clientWidth,height=canvas.clientHeight;this.webGlRenderer.setSize(width,height,!0),this.updateChildCamerasAspectRatio(canvas),this.render()}calculateAspectRatio(canvas){if(0===canvas.clientHeight)return 0;this.aspect=canvas.clientWidth/canvas.clientHeight}updateChildCamerasAspectRatio(canvas){this.calculateAspectRatio(canvas),this.camera&&this.camera.updateAspectRatio(this.aspect)}getScene(){return this.scene}getCamera(){return this.camera}getWebGlRenderer(){return this.webGlRenderer}setComposer(composer){this.composer=composer}};RendererService=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_stats_stats_service__WEBPACK_IMPORTED_MODULE_3__.a&&_stats_stats_service__WEBPACK_IMPORTED_MODULE_3__.a)?_a:Object])],RendererService)},60:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return axesSceneWrapper}));const axesSceneWrapper=content=>`\n<atft-orbit-controls style="height:100%" rotateSpeed=1 zoomSpeed=1.2>\n  <atft-renderer-canvas>\n      <atft-perspective-camera [zAxisUp]="true" positionX=50 positionY=-20 positionZ=50></atft-perspective-camera>\n      <atft-scene atft-stats-auto-show>\n          <atft-axes-helper size=200></atft-axes-helper>\n          <atft-grid-helper [size]=200 [divisions]=10 [rotateX]="90 | deg2rad"></atft-grid-helper>\n          <atft-point-light intensity="0.5" distance="1000" translateX=90 translateY=90\n                            translateZ=90></atft-point-light>\n          <atft-point-light intensity="0.8" distance="1000" [translateX]="-60" [translateY]="-60"\n                            [translateZ]="50"></atft-point-light>\n          ${content}\n      </atft-scene>\n  </atft-renderer-canvas>\n</atft-orbit-controls>\n`},660:function(module,exports,__webpack_require__){__webpack_require__(661),__webpack_require__(840),__webpack_require__(841),__webpack_require__(1025),__webpack_require__(1244),__webpack_require__(1247),__webpack_require__(1259),__webpack_require__(1261),__webpack_require__(1266),__webpack_require__(1268),__webpack_require__(1273),__webpack_require__(1277),module.exports=__webpack_require__(1334)},67:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return abstract_object_3d.a})),__webpack_require__.d(__webpack_exports__,"c",(function(){return scene_component.a})),__webpack_require__.d(__webpack_exports__,"b",(function(){return grid_mesh_component.a}));__webpack_require__(274);var abstract_object_3d=__webpack_require__(8),scene_component=(__webpack_require__(228),__webpack_require__(229),__webpack_require__(298)),grid_mesh_component=(__webpack_require__(80),__webpack_require__(278),__webpack_require__(279),__webpack_require__(281),__webpack_require__(280),__webpack_require__(282),__webpack_require__(283),__webpack_require__(285),__webpack_require__(284),__webpack_require__(286),__webpack_require__(182),__webpack_require__(287),__webpack_require__(288),__webpack_require__(291),__webpack_require__(292),__webpack_require__(163),__webpack_require__(290),__webpack_require__(289),__webpack_require__(293));__webpack_require__(294),__webpack_require__(275),__webpack_require__(276),__webpack_require__(277),__webpack_require__(296),__webpack_require__(297)},711:function(module,exports){},744:function(module,exports){},75:function(module,__webpack_exports__,__webpack_require__){"use strict";function appliedColor(color,defaultColor){let resultColor=defaultColor||16777215;return void 0!==color&&(resultColor=1*color),resultColor}__webpack_require__.d(__webpack_exports__,"a",(function(){return appliedColor}))},8:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AbstractObject3D}));var _a,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6);let AbstractObject3D=class AbstractObject3D{constructor(rendererService,parent){this.rendererService=rendererService,this.parent=parent,this.scaleX=1,this.scaleY=1,this.scaleZ=1,this.layer=0,this.changed=new _angular_core__WEBPACK_IMPORTED_MODULE_1__.EventEmitter}ngOnChanges(changes){if(!this.object)return;let modified=!1;["rotateX","rotateY","rotateZ"].some(propName=>propName in changes)&&(this.applyRotation(),modified=!0),["translateX","translateY","translateZ"].some(propName=>propName in changes)&&(this.applyTranslation(),modified=!0),["scaleX","scaleY","scaleZ"].some(propName=>propName in changes)&&(this.applyScale(),modified=!0),modified&&(this.changed.emit(),this.rendererService.render())}ngOnDestroy(){this.object&&this.object.parent&&(this.object.parent.remove(this.object),this.rendererService&&this.rendererService.render())}ngOnInit(){this.object=this.newObject3DInstance(),this.layer?(this.object.layers.disableAll(),this.object.layers.enable(this.layer)):this.object.layers.enableAll(),this.applyTranslation(),this.applyRotation(),this.applyScale(),this.afterInit()}updateParent(){this.parent&&(this.parent.addChild(this.object),this.rendererService.render())}applyRotation(){this.object.rotation.set(this.rotateX||0,this.rotateY||0,this.rotateZ||0,"XYZ")}applyTranslation(){this.object.position.set(this.translateX||0,this.translateY||0,this.translateZ||0)}applyScale(){this.object.scale.set(this.scaleX||0,this.scaleY||0,this.scaleZ||0)}addChild(object){this.object&&(this.object.add(object),this.rendererService&&this.rendererService.render())}afterInit(){}removeChild(object){this.object&&this.object.remove(object)}getObject(){return this.object}ngAfterViewInit(){this.updateParent()}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number)],AbstractObject3D.prototype,"rotateX",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number)],AbstractObject3D.prototype,"rotateY",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number)],AbstractObject3D.prototype,"rotateZ",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number)],AbstractObject3D.prototype,"translateX",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number)],AbstractObject3D.prototype,"translateY",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Number)],AbstractObject3D.prototype,"translateZ",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],AbstractObject3D.prototype,"scaleX",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],AbstractObject3D.prototype,"scaleY",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],AbstractObject3D.prototype,"scaleZ",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",String)],AbstractObject3D.prototype,"name",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],AbstractObject3D.prototype,"layer",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Output)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],AbstractObject3D.prototype,"changed",void 0),AbstractObject3D=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.SkipSelf)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.d)(1,Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Optional)()),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_2__.a&&_renderer_renderer_service__WEBPACK_IMPORTED_MODULE_2__.a)?_a:Object,AbstractObject3D])],AbstractObject3D)},80:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(268),__webpack_require__(270),__webpack_require__(269);var _empty_component__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(159);__webpack_require__.d(__webpack_exports__,"a",(function(){return _empty_component__WEBPACK_IMPORTED_MODULE_3__.a}))},84:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AbstractMesh}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_abstract_object_3d__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13);let AbstractMesh=class AbstractMesh extends _abstract_object_3d__WEBPACK_IMPORTED_MODULE_2__.a{constructor(){super(...arguments),this.materialColor=6139362,this.castShadow=!0,this.receiveShadow=!0,this.depthWrite=!0}getMaterial(){return Object(_util__WEBPACK_IMPORTED_MODULE_3__.b)(this.materialColor,this.material,this.depthWrite)}applyShadowProps(mesh){mesh.castShadow=this.castShadow,mesh.receiveShadow=this.receiveShadow}ngOnChanges(changes){if(super.ngOnChanges(changes),!this.getObject())return;let mustRerender=!1;["material","materialColor","depthWrite"].some(propName=>propName in changes)&&(this.applyMaterial(),mustRerender=!0),mustRerender&&this.rendererService.render()}applyMaterial(){this.getObject().material=this.getMaterial()}};Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",String)],AbstractMesh.prototype,"material",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],AbstractMesh.prototype,"materialColor",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],AbstractMesh.prototype,"castShadow",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],AbstractMesh.prototype,"receiveShadow",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Input)(),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:type",Object)],AbstractMesh.prototype,"depthWrite",void 0),AbstractMesh=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Directive)()],AbstractMesh)},841:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(25)},89:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(299),__webpack_require__(164);var _renderer_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6);__webpack_require__.d(__webpack_exports__,"a",(function(){return _renderer_service__WEBPACK_IMPORTED_MODULE_2__.a}))},92:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(295);var _animation_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(44);__webpack_require__.d(__webpack_exports__,"a",(function(){return _animation_service__WEBPACK_IMPORTED_MODULE_1__.a}))}},[[660,1,2]]]);
//# sourceMappingURL=main.86217ae480ead37c026a.bundle.js.map